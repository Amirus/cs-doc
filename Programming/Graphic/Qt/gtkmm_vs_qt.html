<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="gtkmm_vs_qt.files/filelist.xml">
<link rel=Edit-Time-Data href="gtkmm_vs_qt.files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>再论 Gtkmm 与 Qt</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="City"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>*</o:Author>
  <o:LastAuthor>*</o:LastAuthor>
  <o:Revision>205</o:Revision>
  <o:TotalTime>1178</o:TotalTime>
  <o:Created>2006-06-23T10:46:00Z</o:Created>
  <o:LastSaved>2007-02-24T09:39:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>1785</o:Words>
  <o:Characters>10180</o:Characters>
  <o:Company>tju</o:Company>
  <o:Lines>84</o:Lines>
  <o:Paragraphs>23</o:Paragraphs>
  <o:CharactersWithSpaces>11942</o:CharactersWithSpaces>
  <o:Version>11.6360</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<link rel=Stylesheet type="text/css" media=all href="../telegraph-road.css">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;}
h1
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-outline-level:1;
	font-size:24.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;
	font-weight:bold;}
h2
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	font-size:18.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;
	font-weight:bold;}
h3
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	font-size:13.5pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;}
address
	{margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;
	font-style:italic;}
code
	{mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:宋体;
	mso-ascii-font-family:宋体;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:宋体;
	mso-bidi-font-family:宋体;}
pre
	{margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	font-size:12.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:248807239;
	mso-list-template-ids:624299296;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l0:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l0:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1
	{mso-list-id:342705823;
	mso-list-template-ids:-103488936;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2
	{mso-list-id:1061710316;
	mso-list-template-ids:-1998018070;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l2:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3
	{mso-list-id:2080592929;
	mso-list-template-ids:-1699978844;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:普通表格;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="4098"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=ZH-CN link=blue vlink=blue style='tab-interval:21.0pt'>

<div class=Section1>

<p style='line-height:125%'><span lang=EN-US>(<a
href="mailto:andi@htc.ukrtel.net">Andi Peredri</a> </span>为此文提供了 <span
lang=EN-US><a href="http://kcheckers.osdn.org.ua/qt/gtkmm-qt.html"><span
lang=EN-US><span lang=EN-US>俄文翻译</span></span></a> )</span></p>

<h1 style='line-height:125%'>再论<span lang=EN-US> <span class=SpellE>Gtkmm</span>
</span>与<span lang=EN-US> Qt</span></h1>

<p style='line-height:125%'><span lang=EN-US style='font-family:"Times New Roman"'>(</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>让我们期望这是最后一次了</span><span lang=EN-US
style='font-family:"Times New Roman"'>).<br>
</span>在<span lang=EN-US><a
href="http://www.linuxorbit.com/modules.php?op=modload&amp;name=Sections&amp;file=index&amp;req=viewarticle&amp;artid=527"><span
lang=EN-US><span lang=EN-US>这篇访谈</span></span></a></span>里，<span lang=EN-US>Murray
Cumming, </span>当前的<span lang=EN-US><a href="http://gtkmm.sourceforge.net">gtkmm</a></span><span
lang=EN-US style='font-family:"Times New Roman"'>(</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>以前被称为</span><span lang=EN-US
style='font-family:"Times New Roman"'> <span class=SpellE>Gtk</span>--)</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>的维护者，谈到了他认为我是为什么离开了</span><span
class=SpellE><span lang=EN-US style='font-family:"Times New Roman"'>gtkmm</span></span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>的，和他心目中</span><span class=SpellE><span
lang=EN-US style='font-family:"Times New Roman"'>gtkmm</span></span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>相对于</span><span lang=EN-US
style='font-family:"Times New Roman"'>Qt</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>的优势。因为我不同意他那番话中说的很多东西，我觉得我应该回复一下了</span>。</p>

<h2 style='line-height:125%'><span lang=EN-US><a
href="http://www.telegraph-road.org/writings/why.html"><span lang=EN-US><span
lang=EN-US>为什么我离开</span></span></a></span></h2>

<p style='line-height:125%'><b><span lang=EN-US>Murray</span></b><span
lang=EN-US> : <i>(...)</i></span><i>我猜想<span lang=EN-US>Guillaume</span>从未真正地掌握<span
class=SpellE><span lang=EN-US>gtkmm</span></span>的代码基础，并抓住机会从令他沮丧的事情中逃离出来。<span
lang=EN-US>(...)</span></i><span lang=EN-US> </span></p>

<p style='line-height:125%'>我<span lang=EN-US><a
href="http://www.telegraph-road.org/writings/why.html"><span lang=EN-US><span
lang=EN-US>解释</span></span></a></span>了为什么我离开<span class=SpellE><span
lang=EN-US>gtkmm</span></span><span lang=EN-US>, </span>而且“抓住机会从令他沮丧的事情中逃离出来” 绝对不是原因之一。不过你确实几乎说对了一件事。我确实从未真正地掌握<span
class=SpellE><span lang=EN-US>gtkmm</span></span>的本质，因为这是<span lang=EN-US>Karl</span>的领域，我比起<span
lang=EN-US>Karl</span>来说能花在<span class=SpellE><span lang=EN-US>gtkmm</span></span>上的空闲时间实在是太少了，并且对这些时间中干的其中大多数事情都是不感兴趣的。我的目标是获得一个可以用于<span
lang=EN-US><a href="http://www.all-day-breakfast.com/rosegarden/">Rosegarden</a></span>的工具包。所以我在<span
class=SpellE><span lang=EN-US>gtkmm</span></span>上的主要活动是为小部件封装打包。</p>

<h2 style='line-height:125%'><span class=SpellE><span lang=EN-US>gtkmm</span></span><span
lang=EN-US> </span>与<span lang=EN-US> <span class=SpellE>Inti</span></span></h2>

<p style='line-height:125%'><b><span lang=EN-US>Murray</span></b><span
lang=EN-US> : <i>(...)</i></span><i>我认为<span lang=EN-US>Guillaume</span>无论如何都确信，由于<span
class=SpellE><span lang=EN-US>RedHat</span></span>的支持<span lang=EN-US>, <span
class=SpellE>Inti</span></span>会成功而<span class=SpellE><span lang=EN-US>gtkmm</span></span>会逐渐消亡。</i>
</p>

<p style='line-height:125%'>呃，是的，我相信<span class=SpellE><span lang=EN-US>Inti</span></span>会成功，而显然我是错的。我相信的原因大概是我认为<span
lang=EN-US>, </span>当一个开发者可以专职为一个项目工作的时候，那个项目就能进展得很快。但是这并没有发生，因为<span
lang=EN-US>Havoc</span>最终还是把它大部分的时间花到了<span lang=EN-US>GTK+ 2</span>上。 </p>

<p style='line-height:125%'><b><span lang=EN-US>Murray</span></b><span
lang=EN-US> : <i>(...)</i></span><i>绝大多数<span class=SpellE><span lang=EN-US>gtkmm</span></span>的用户和开发者都强烈反对<span
class=SpellE><span lang=EN-US>Inti</span></span>的设计决定</i> </p>

<p style='line-height:125%'>据我所知<span lang=EN-US>, </span>“绝大多数”在这里是指<span
lang=EN-US>6</span>人左右，或者根据我在<span lang=EN-US><a
href="http://www.geocrawler.com/archives/3/1110/2000/"><span lang=EN-US><span
lang=EN-US>档案</span></span></a></span>里读到的线索。这<span lang=EN-US>6</span>人里最重要的一人显然就是<span
lang=EN-US>Karl</span>，他的<span lang=EN-US><a
href="http://www.geocrawler.com/archives/3/1110/2000/8/50/4247220/"><span
lang=EN-US><span lang=EN-US>观点</span></span></a></span>我至今都还反对。我不需要一个“黑客工具箱”，我需要一个能运转的且易用的的工具箱。</p>

<h2 style='line-height:125%'>社区开发</h2>

<p style='line-height:125%'><st1:place w:st="on"><st1:City w:st="on"><b><span
  lang=EN-US>Murray</span></b></st1:City></st1:place><span lang=EN-US> : <i>(...)<span
class=SpellE>Inti</span></i></span><i>消亡了，因为它从未涉及到任何一个开发者社区<span lang=EN-US>(...)<br>
(...)</span>基本上，<span lang=EN-US>QT</span>并不是公开开发的，所以在没有受益于任何真正的批评的情况下犯了一些错误。<span
lang=EN-US>(...)</span>另外也许更重要的是，如果你在使用<span class=SpellE><span lang=EN-US>gtkmm</span></span>的时候遇到了什么问题你可以提交一个补丁或与其它开发者进行讨论。</i></p>

<p style='line-height:125%'>在我看来，我认为更确切的说<span class=SpellE><span lang=EN-US>Inti</span></span>消亡的原因是它的维护者的停止维护。对于<span
lang=EN-US>Qt</span>来说，确实它不是公开开发的<span lang=EN-US>, </span>你猜怎么样<span
lang=EN-US>: </span>它<b>很棒</b>。</p>

<p style='line-height:125%'>你似乎在暗示公开开发意味着品质。这是一个旧的自由软件的神话。一群自认为知道自己在讨论什么东西的人们<span
lang=EN-US>(</span>我确实曾经是当中的一员<span lang=EN-US>)</span>于空闲时间相互收发的电子邮件并不能保证什么东西。但是由一群技能熟练的人组成的一个天天为难题而工作的、接收用户反馈的、能当面讨论问题的小团队很有可能达成某些好事。
</p>

<p style='line-height:125%'>让我们面对事实吧：好的程序员并不是泛滥成灾，即使是在自由软件世界。尽管区别就是很多人并没有意识到他们的真实技术水平。所以让很多人来参与困难问题的决定没有什么好处，只会让事情变得更糟。
</p>

<p style='line-height:125%'>所有的<span class=SpellE><span lang=EN-US>gtkmm</span></span><span
lang=EN-US> </span>的设计决定都是公开详尽地讨论的，就这样仍有一些决定是错误的<span lang=EN-US>(</span>像内存管理问题<span
lang=EN-US>)</span>，这主要是因为参与讨论的人里面没有一个真正在使用<span class=SpellE><span lang=EN-US>gtkmm</span></span>来开发实现的应用程序。我们全都太拘泥于创建一个“真正的<span
lang=EN-US>C++ API</span>”，而不是制作一个便于使用的东西。我在上面给出链接的<span lang=EN-US>Karl</span>的帖子对于这个来说是一个极好的例子。一个由<span
lang=EN-US>Matthew Thomas </span>制作、在许多网站上被充分讨论的<span lang=EN-US><a
href="http://mpt.phrasewise.com/2002/04/13"><span lang=EN-US><span lang=EN-US>网页日志条目</span></span></a></span>，切中肯綮。它讲述的是用户界面设计，但是里面绝大多数也可以用于<span
lang=EN-US>API</span>的设计。无论是对用户还是开发者，界面的设计要面对相同的问题：平衡标准、美学和务实。</p>

<p style='line-height:125%'>之所以说<span lang=EN-US>Qt</span>好是因为奇趣科技<span
lang=EN-US>(<span class=SpellE>Trolltech</span>)</span>的开发者是很厉害的，并且他们确实听取了他们客户的意见<span
lang=EN-US>(</span>我知道这些第一手情况因为我是他们中的一员<span lang=EN-US>)</span>。不仅如此，他们的客户在创造大型的、真实世界中的应用程序。他们的客户并不关心“信守<span
lang=EN-US>C++</span>精神”，他们关心的是解决实在的问题和落实应该做的事情。<span lang=EN-US>Qt</span>的开发者并不试图预言什么是一个好的<span
lang=EN-US>API</span>以及什么不是，他们有大约<span lang=EN-US>2000</span>多位客户让他们的选择面临实践的检验。</p>

<p style='line-height:125%'>我并没有说<span lang=EN-US>Qt</span>的<span lang=EN-US>API</span>是完美的，它确实是有些瑕疵的。我是说它<i>工作得非常好</i>，我说这话的理由是我在过去两年在两个不同的项目<span
lang=EN-US>(<span class=SpellE>Rosegarden</span></span>和为雇主的内部开发<span
lang=EN-US>)</span>上天天都在使用它。你在开发一个更好的东西的时候会比较艰难，而我并不相信<span class=SpellE><span
lang=EN-US>gtkmm</span></span>正朝着那个方向发展，感觉它的发展方向恰恰相反。</p>

<p style='line-height:125%'>最后，你可以向<span lang=EN-US>Qt</span>的开发者们提交一个补丁并与他们讨论问题，因为客户支持是他们工作的一部分。我知道这些第一手情况因为我自己就干过这样的事情，<span
lang=EN-US>KDE</span>的开发者们也是这样的。</p>

<h2><span lang=EN-US>Qt</span>对<span lang=EN-US>C++</span>的“扩展”</h2>

<p><st1:place w:st="on"><st1:City w:st="on"><b><span lang=EN-US>Murray</span></b></st1:City></st1:place><span
lang=EN-US> : <i>(...)</i></span><i>这里面主要的问题是它对<span lang=EN-US>C++</span>语言的修改以及对自己非标准的字符串类的使用。如我们所证实，这是不必要的。</i>
</p>

<p style='line-height:125%'><span class=SpellE><span lang=EN-US>QString</span></span><b>是毫无疑问非常必要的，因为</b><span
class=SpellE><b><span lang=EN-US style='font-family:"Courier New"'>std::string</span></b></span><b>不能处理<span
lang=EN-US>Unicode</span></b>。<span class=SpellE><span lang=EN-US>gtkmm</span></span>自己也有<span
lang=EN-US style='font-family:"Courier New"'><a
href="http://gtkmm.sourceforge.net/gtkmm2/reference/html/classGlib_1_1ustring.html">Glib::ustring</a></span>，我看到你把它的接口制作得与<span
lang=EN-US> <span class=SpellE>std::string</span></span>相似，这样我还是认为这是个坏主意，因为不管它有多标准，它既不方便也不强大。<span
class=SpellE><span lang=EN-US>QString</span></span>提供了非常有用的特性诸如<span
class=SpellE><code><span lang=EN-US style='font-family:"Courier New"'>arg</span></code></span><code><span
lang=EN-US style='font-family:"Courier New"'>()</span></code><code><span
style='mso-ascii-font-family:"Courier New";mso-bidi-font-family:"Courier New"'>、</span></code><span
class=SpellE><code><span lang=EN-US style='font-family:"Courier New"'>sprintf</span></code></span><code><span
lang=EN-US style='font-family:"Courier New"'>()</span></code><code><span
style='mso-ascii-font-family:"Courier New";mso-bidi-font-family:"Courier New"'>、</span></code><code><span
lang=EN-US style='font-family:"Courier New"'>section()</span></code><code><span
style='mso-ascii-font-family:"Courier New";mso-bidi-font-family:"Courier New"'>、</span></code><span
class=SpellE><code><span lang=EN-US style='font-family:"Courier New"'>simplifyWhiteSpace</span></code></span><code><span
lang=EN-US style='font-family:"Courier New"'>()</span></code><code><span
style='mso-ascii-font-family:"Courier New";mso-bidi-font-family:"Courier New"'>、</span></code><span
class=SpellE><code><span lang=EN-US style='font-family:"Courier New"'>toInt</span></code></span><code><span
lang=EN-US style='font-family:"Courier New"'>()</span></code>和它的“兄妹”<span
lang=EN-US>, </span><span class=SpellE><code><span lang=EN-US style='font-family:
"Courier New"'>setNum</span></code></span><code><span lang=EN-US
style='font-family:"Courier New"'>()</span>，当然还有在日常开发中价值无法衡量的正则表达式的支持</code>。</p>

<p style='line-height:125%'>现在我们来谈谈长期以来颇具争议的对<span lang=EN-US>C++</span>语言的修改。你也许会说这并没有必要。这是事实，尽管你还没有非常充分地证明，因为<span
class=SpellE><span lang=EN-US>gtkmm</span></span>没有提供<span lang=EN-US>Qt</span>的“扩展”做到的所有特性。
</p>

<h3>信号与槽</h3>

<p style='line-height:125%'>我明确地想知道槽和信号是用什么符号表示的。在<span class=SpellE><span
lang=EN-US>gtkmm</span></span>里，它们是模版函数，是你传递给你的连接调用的东西。在<span lang=EN-US>Qt</span>里它们是非常旧的<code><span
lang=EN-US style='font-family:"Courier New"'>const char*</span></code><span
lang=EN-US style='font-family:"Courier New"'>s</span>。震惊！恐怖！<span class=SpellE><code><span
lang=EN-US style='font-family:"Courier New"'>QObject::connect</span></code></span><code>把</code><code><span
lang=EN-US style='font-family:"Courier New"'>const char*</span></code><span
lang=EN-US style='font-family:"Courier New"'> </span>作为槽与信号的参数类型！这也就是我的第一反应。后来我认识到了两件事：</p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:125%;mso-list:l2 level1 lfo1;tab-stops:list 36.0pt'>我不介意。它可能会在审美观上伤害我，但是它并不妨碍开发。</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:125%;mso-list:l2 level1 lfo1;tab-stops:list 36.0pt'>它是动态的。你可以自己产生这些字符串并在运行时再决定把连接和被连接的东西。</li>
</ul>

<p class=MsoNormal style='line-height:125%'>上面的第二点对于我来说是最重要的。它为我当时正在开发的内部应用程序节省了数周的开发时间。这个应用程序在启动的时候就根据一个<span
lang=EN-US>XML</span>描述文件生成了它自己的用户界面，而在这个文件里面我可以像下面这样写上我自己的代码：</p>

<pre style='line-height:125%'><code><span lang=EN-US style='font-family:"Courier New"'><o:p>&nbsp;</o:p></span></code></pre><pre
style='line-height:125%'><code><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;connect source=&quot;<span
class=SpellE>widgetname</span>&quot; <span class=SpellE>dest</span>=&quot;<span
class=SpellE>someclass</span>&quot;<o:p></o:p></span></code></pre><pre
style='line-height:125%'><code><span lang=EN-US style='font-family:"Courier New"'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>signal=&quot;<span
class=SpellE>buttonPressed</span>()&quot; slot=&quot;<span class=SpellE>receivedButtonPress</span>()&quot; /&gt;<o:p></o:p></span></code></pre><pre
style='line-height:125%'><code><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></code></pre>

<p class=MsoNormal style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>需要运用的代码在半天之内就编写完毕了。如今，我认为这可以用于<span
lang=EN-US><a href="http://www.trolltech.com/products/qt/tools.html#designer">Qt<span
lang=EN-US><span lang=EN-US>设计师</span></span></a></span>。试试用<span class=SpellE><span
lang=EN-US style='font-family:"Courier New"'>libSigC</span></span>来做相同的事，看看这样会多“简单”。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>另外一个这种动态性带来的特性就是松耦合。这就是说，在你调用<span
lang=EN-US style='font-family:"Courier New"'>connect</span>函数的时候你不需要完整的类型以及源对象和目标对象的类型定义<code>。你只需要知道它们是</code><span
class=SpellE><code><span lang=EN-US style='font-family:"Courier New"'>QObject</span></code><span
lang=EN-US style='font-family:"Courier New"'>s</span></span>类。所以，假如连接是在代码中的别处实现，而不是在源对象或者目标对象的方法中，这种情况<span
lang=EN-US>(</span>如我在上面所描述的<span lang=EN-US>)</span>下，执行它的函数不需要用“<span
lang=EN-US style='font-family:"Courier New"'>#include</span>”语句来包含源对象和目标对象的定义。代码可以是这样：</p>

<pre style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><o:p>&nbsp;</o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void <span
class=SpellE>do_connect</span>(<span class=SpellE>QObject</span> *source, <span
class=SpellE>QObject</span> *destination)<o:p></o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>QObject::connect</span>(source, SIGNAL(<span class=SpellE>buttonClicked</span>()),<o:p></o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>destination, SLOT(<span
class=SpellE>gotButtonClicked</span>()));<o:p></o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></pre>

<p class=MsoNormal style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>不错，你失去了编译时的类型检查<span
lang=EN-US>(</span>但是你仍然可以在运行时进行检查――如果<span lang=EN-US style='font-family:"Courier New"'>connect()</span>函数执行失败你会得到一个警告信息<span
lang=EN-US>)</span>，假如源对象或目标对象在定义中没有一个正确的信号或槽，在这种情况下你不会遇到一个编译错误，但是在实践中这仍旧让你能干得更快。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>这种设计<span
lang=EN-US>(</span>两个对象之间的连接是靠第三方来完成的<span lang=EN-US>)</span>是很普遍的。一旦你意识到了信号不只是为了事件处理另外还可以在保持松耦合的情况下在对象间进行通信，你就会很频繁地去使用它。</p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>即使是由源对象或目标对象来进行连接，你仍然会成功，你可以这样：</p>

<pre style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><o:p>&nbsp;</o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>void <span
class=SpellE>MyWidget::do_connect</span>(<span class=SpellE>QObject</span> *destination)<o:p></o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>connect(this, SLOT(<span
class=SpellE>itemClicked</span>(<span class=SpellE>int</span>)),<o:p></o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>destination, SLOT(<span
class=SpellE>gotItemClicked</span>(<span class=SpellE>int</span>)));<o:p></o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></pre><pre
style='line-height:125%'><span lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></pre>

<p class=MsoNormal style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>你不需要依靠目标对象的你可以自由修改的定义。大发展又再一次出现了。为什么你认为所有新创造出来的语言，如<span
lang=EN-US>Java</span>或<span lang=EN-US>C#</span>，拥有这种灵活性？它只是让你工作得更快。我不记得在我使用<span
lang=EN-US>Qt</span>的这两年里曾经被什么槽<span lang=EN-US>/</span>信号相关的程序缺陷给严重烦扰过。我曾想过这种类型检测的缺失将回来找你的麻烦，但事实并不是这样。警告信息对于有效地追踪问题已经足够了。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>更多有关这个主题的信息可以在<span
lang=EN-US><a href="http://doc.trolltech.com/3.0/signalsandslots.html">Qt<span
lang=EN-US><span lang=EN-US>文档</span></span></a></span>上找到。</p>

<h3 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><code><span
style='font-size:12.0pt'>元对象编译器和被添加的关键字</span></code></h3>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>这是对<span
lang=EN-US>Qt</span>质疑得最多的地方。这些你必须在你的自定义类的定义和代码里使用的<span lang=EN-US
style='font-family:"Courier New"'>“</span><span style='mso-ascii-font-family:
"Courier New";mso-bidi-font-family:"Courier New"'>槽</span><span lang=EN-US
style='font-family:"Courier New"'>”</span><span style='mso-ascii-font-family:
"Courier New";mso-bidi-font-family:"Courier New"'>、</span><span lang=EN-US
style='font-family:"Courier New"'>“</span><span style='mso-ascii-font-family:
"Courier New";mso-bidi-font-family:"Courier New"'>信号</span><span lang=EN-US
style='font-family:"Courier New"'>”</span><span style='mso-ascii-font-family:
"Courier New";mso-bidi-font-family:"Courier New"'>、</span><span lang=EN-US
style='font-family:"Courier New"'>“</span><span style='mso-ascii-font-family:
"Courier New";mso-bidi-font-family:"Courier New"'>发射</span><span lang=EN-US
style='font-family:"Courier New"'>”</span>等关键字不是<span lang=EN-US>C++</span>里的，并且你完全可以不用它们。是的，这是真的。不过事实是你用它们更好。它们使你的代码看起来清晰且便于阅读。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>奇趣科技<span
lang=EN-US>(<span class=SpellE>Trolltech</span>)</span>已经给出了关于为什么<span
lang=EN-US>Qt</span>不为信号和槽使用模板的<span lang=EN-US><a
href="http://doc.trolltech.com/3.0/templates.html"><span lang=EN-US><span
lang=EN-US>一个非常好的解释</span></span></a></span>，这个解释我想我已经给你指出来过了。还有<span
lang=EN-US>, </span>通过自己的经验<span lang=EN-US>, </span>我已经验证了他们的每个观点<span
lang=EN-US>, </span>我相信<span lang=EN-US>, </span>所有其他<span lang=EN-US>Qt</span>用户也一样。
</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>不过有讽刺意味的是他们中的一个观点是<b>语法问题</b><span
style='mso-bidi-font-weight:bold'>。既然你一直都在制作<span lang=EN-US>GTK+</span>和<span
lang=EN-US>Co.</span>的</span><span lang=EN-US><a
href="http://www.telegraph-road.org/writings/oo_in_any_language_myth.html"><span
lang=EN-US><span lang=EN-US>“C</span></span><span lang=EN-US><span lang=EN-US>语言中的面向对象的”</span></span></a>
API</span>，你应该比大多数人更清楚这是对的。然而你和那些认为面向对象不过是“语法之糖”的人在做一样的事。呃，就像类一样，信号和槽是定义明确的概念，因此在语言级<span
lang=EN-US>(</span>如果是那样的话可以说<span lang=EN-US>)</span>上实现它们是有意义的，比让用户单独去对付它们好。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>这样看来你对槽<span
lang=EN-US>/</span>信号问题的解决方法就是全部在现行<span lang=EN-US>C++</span>的框架下实现它们，就像其它人在用纯<span
lang=EN-US>C</span>语言来实现类一样。我的解决方法就是硬着头皮和让“槽”与“信号”成为官方<span lang=EN-US>C++</span>的关键字<span
lang=EN-US>:-)</span>。程序是用<span lang=EN-US>C++</span>库还是用机器语言编写的并不重要。真正重要的是你使用添加上的东西来向编程语言表达你的设计。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>使用元对象编译器这件事，在我看来并不是什么问题。如果你要写一个自己的<span
class=SpellE><span lang=EN-US>makefile</span></span>，你只需要加上一行就可以了。另外，<span
lang=EN-US>KDE</span>的<span class=SpellE><span lang=EN-US>automake</span></span>宏或<span
lang=EN-US>Qt</span>的<span class=SpellE><code><span lang=EN-US>qmake</span></code></span><code>语句也可以为你处理这个问题</code>。在实践中元对象编译器并不会妨碍你。</p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><st1:place
w:st="on"><st1:City w:st="on"><b><span lang=EN-US>Murray</span></b></st1:City></st1:place><span
lang=EN-US> : <i>(...)</i></span><i>因而用<span class=SpellE><span lang=EN-US>gtkmm</span></span>来与其它的<span
lang=EN-US>C++ API</span>进行结合更简单。<span lang=EN-US>(...)</span></i><span
lang=EN-US> </span></p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>你看到了用<span
lang=EN-US>Qt</span>与其它的<span lang=EN-US>C++ API</span>进行结合时的问题了吗？在<span
class=SpellE><span lang=EN-US>Rosegarden</span></span>里我们很乐意使用<span lang=EN-US>STL(</span>并且用得很多<span
lang=EN-US>)</span>，除了<span lang=EN-US>STL</span>本身的一些复杂的部分引起的问题外完全没有其它问题<span
lang=EN-US>:-)</span>。例如<span class=SpellE><code><span lang=EN-US
style='font-family:"Courier New"'>std::vector</span></code></span><code><span
lang=EN-US style='font-family:"Courier New"'>&lt;<span class=SpellE>QString</span>&gt;</span></code>如预期般工作。</p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><b><span
lang=EN-US>Murray</span></b><span lang=EN-US> : <i>(...)</i></span><i>我相信如果你喜欢<span
lang=EN-US>C++</span>，你就会喜欢<span class=SpellE><span lang=EN-US>gtkmm</span></span>，如果你在学习<span
lang=EN-US>C++</span>，<span class=SpellE><span lang=EN-US>gtkmm</span></span>就是一个更好的榜样。<span
lang=EN-US>(...)</span></i><span lang=EN-US> </span></p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>我不能确定<span
class=SpellE><span lang=EN-US>gtkmm</span></span>是否对于<span lang=EN-US>C++</span>初学者是一个“<span
style='mso-bidi-font-style:italic'>更好的榜样”</span>，但是你说“<span style='mso-bidi-font-style:
italic'>如果你喜欢<span lang=EN-US>C++</span>你就会喜欢<span class=SpellE><span
lang=EN-US>gtkmm</span></span></span>”，以及你仍然没有理解为什么<span lang=EN-US>Qt</span>更好，是问题的核心。我并不喜欢<span
lang=EN-US>C++</span>。我并不关心<span lang=EN-US>C++</span>。我关心的是编写出一个能做有用事情的应用程序。所以我并不介意使用一个会向<span
lang=EN-US>C++</span>里添加非标准关键字的类库，只要它对编程有帮助。但是你关心<span lang=EN-US>C++</span>，所以你就不能做到这点。你在乎这点却无视它的缺陷，并且你没有意识到由于对它的“坚定信仰”，你使生活变得更困难而不是更简单。另外，这就恰好是使用<span
lang=EN-US>Gnome</span>的<span lang=EN-US>C</span>语言的程序员如何高高兴兴地去掌握<span
lang=EN-US>GTK+</span>的对象系统，而他们没有意识到可以用<span lang=EN-US>C++</span>和<span
lang=EN-US>Qt</span>快得多地办到相同的事，并且彻底地确信他们所做的事是“简单”的，因为他们喜欢<span lang=EN-US>C</span>语言且不需要去学习另一门语言。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>标准并不是神圣的东西。理论上你最好遵循它们，但是在实践中并不一直是这样的情况，很简单，因为它们是由可能会犯错误的人类所设计出来的。工具和语言不应该被喜欢，它们应该被恰当地使用。否则，当一个更好的选择出现在你面前，你会忽略它，因为你不想放弃你自己喜欢的那一个。</p>

<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
lang=EN-US>Qt vs. <span class=SpellE>gtkmm</span></span></h2>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>在谈到这点的时候，我愿意对你在你的“<span
lang=EN-US><a
href="http://www.murrayc.com/murray/talks/2002/GUADEC3/notes/html/index.html#id2759245">GUADEC
talk</a></span>”里提出的观点发表不同意见。</p>

<h3 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>数据容器</h3>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>你说：<i><span
lang=EN-US>QT</span>有很多与现在的标准库重复的地方，比如容器和类型信息。</i></p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>事实确实如此。但是：</p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:35.7pt;text-indent:-17.85pt;line-height:125%;mso-list:l1 level1 lfo2;
tab-stops:list 36.0pt'><![if !supportLists]><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:125%;font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>・<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>自从<span lang=EN-US>Qt3</span>以来，<span
lang=EN-US>Qt</span>的容器是与<span lang=EN-US>STL</span>兼容的<span lang=EN-US>(</span>例如你可以把<span
lang=EN-US>STL</span>的运算法则应用在它们上<span lang=EN-US>)</span>。</p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:35.7pt;text-indent:-17.85pt;line-height:125%;mso-list:l1 level1 lfo2;
tab-stops:list 36.0pt'><![if !supportLists]><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:125%;font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>・<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>一些<span lang=EN-US>Qt</span>的容器确实比它们的<span
lang=EN-US>STL</span>上的等价物简单。例如，<span lang=EN-US style='font-family:"Courier New"'><a
href="http://doc.trolltech.com/3.0/qptrcollection.html#setAutoDelete">QPtrCollection::setAutoDelete()</a></span>是很有用的。</p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:35.7pt;text-indent:-17.85pt;line-height:125%;mso-list:l1 level1 lfo2;
tab-stops:list 36.0pt'><![if !supportLists]><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:125%;font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>・<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>你也可以忽略<span lang=EN-US>Qt</span>的<span
lang=EN-US>RTTI</span>，并使用<span lang=EN-US>C++</span>的标准<span lang=EN-US>RTTI</span>。我们是这样做的，<span
lang=EN-US>KDE</span>也是这样做的。</p>

<h3 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>内存管理</h3>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>啊，又是老生常谈了。第一，你说<span
lang=EN-US>Qt</span>需要指针，这是错的。你可以为控件使用普通的变量<span lang=EN-US>(</span>看<span
lang=EN-US><a href="http://doc.trolltech.com/3.0/t2.html"><span lang=EN-US><span
lang=EN-US>这个例子</span></span></a>)</span>，并且当你在使用指针的时候你可以自行删除它们。你可以这样做，而一般你不会想要这样做的。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>假设你创建了一个包含许多控制和标记的相当复杂的对话类。你显然需要追踪其控制，因为你需要了解它们的状态，于是你让它们保持为数据成员。但是标记和布局控件怎么办？为它们保持一个引用有什么用呢？难道这样：</p>

<pre><span lang=EN-US style='font-family:"Courier New"'><o:p>&nbsp;</o:p></span></pre><pre><span
lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>new <span
class=SpellE>QLabel</span>(&quot;Some label here&quot;, <span class=SpellE>vbox</span>);<o:p></o:p></span></pre><pre><span
lang=EN-US style='font-family:"Courier New"'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></pre>

<p class=MsoNormal style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>然后忘记它不是更简单吗<span
lang=EN-US>(</span>因为你知道<span lang=EN-US>Qt</span>会为你删除指针<span lang=EN-US>)</span>？就我而言，确实，这样更简单。当你可以让电脑为你去做内存管理时亲自做内存管理并没有什么值得自豪的。它总会比你做得更好。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>这样你就是在声称把做枯燥乏味以及容易出错的事情的可能性留给用户是一件好事，因为这是符合“正统<span
lang=EN-US>C++</span>的选择”。我认为这些“正统<span lang=EN-US>C++</span>的选择”应该被任何一个好的<span
lang=EN-US>C++</span>类库隐藏起来。难道<span class=SpellE><span lang=EN-US
style='font-family:"Courier New"'>std::string</span></span>和所有的<span
lang=EN-US>STL</span>容器会因为它们分配内存而找你的麻烦？它们不会。在最好的情况下你可以使用你自己的内存分配算符，因为有时候你可能会需要实现一些非常特殊的要求，但是这不适用于控件。所以为什么<span
lang=EN-US> Qt</span>就不能有一点不一样的地方呢？</p>

<h3 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>容器控件</h3>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>在你的谈话中你说<span
lang=EN-US>Qt</span>的容器类和布局类是分开的，这正和<span class=SpellE><span lang=EN-US>gtkmm</span></span>在容器类上的选择是相反的。我对你的观点理解得不是很清楚。<span
lang=EN-US>Qt</span>拥有如<span lang=EN-US style='font-family:"Courier New"'><a
href="http://doc.trolltech.com/3.0/qvbox.html">QVBox</a></span>一样的控件，这正好像<span
class=SpellE><span lang=EN-US>gtkmm</span></span>拥有<span lang=EN-US
style='font-family:"Courier New"'><a
href="http://gtkmm.sourceforge.net/gtkmm2/reference/html/classGtk_1_1VBox.html">VBox</a></span>，这两个控件的的行为几乎一样<span
lang=EN-US>(</span>你只需把控件添加到上面就行了，在<span lang=EN-US>Qt</span>中这意味着以<span
lang=EN-US style='font-family:"Courier New"'>QVBOX</span>为父控件添加一个新的控件，并不需要外加一个“<span
lang=EN-US style='font-family:"Courier New"'>add</span>”语句<span lang=EN-US>)</span>。另外，<span
lang=EN-US>Qt</span>拥有可以让你能进行更好调整的布局管理的<span lang=EN-US>(</span>如<span
lang=EN-US style='font-family:"Courier New"'><a
href="http://doc.trolltech.com/3.0/qgridlayout.html">QGridLayout</a></span>，它同比它的“简化”但和它类似的<span
lang=EN-US style='font-family:"Courier New"'><a
href="http://doc.trolltech.com/3.0/qgrid.html">QGrid</a></span>相比，提供更多的选项<span
lang=EN-US>)</span>类。你当然可以在必要的情况下创建一个自己的布局类。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>所以这样<span
lang=EN-US>Qt</span>明显地提供了与<span class=SpellE><span lang=EN-US>gtkmm</span></span>一样的特性，甚至还有<span
class=SpellE><span lang=EN-US>gtkmm</span></span>没有的特性。因此我不理解你的观点。</p>

<h3 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>学习和使用</h3>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><i>我想<span
class=SpellE><span lang=EN-US>gtkmm</span></span>使你的代码更清晰也理协调。我认为它节省你学习时间并减少让你烦恼的东西。</i></p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>我自己的经验直接同这相矛盾。在使用<span
lang=EN-US>Qt</span>两周以后，我精通它的程度比我曾经用<span class=SpellE><span lang=EN-US>gtkmm</span></span>的时候对<span
class=SpellE><span lang=EN-US>gtkmm</span></span>的精通程度更胜一筹，约三年来我一直使用这个“该死的”东西<span
lang=EN-US>:-)</span>。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>在这两年来我也在与那六七个几乎全转向<span
lang=EN-US>Qt</span>或<span lang=EN-US>Swing</span>甚至正宗<span lang=EN-US>GTK+</span>的“前<span
class=SpellE><span lang=EN-US>gtkmm</span></span>用户”讨论，他们告诉我的是一样的：<span
class=SpellE><span lang=EN-US>gtkmm</span></span>太复杂了，用起来太笨重了。我相信你已经在<span
lang=EN-US>gtkmm2</span>里改进了<span lang=EN-US>API</span>，但是你无能为力的是要对付你加入的许多另外的库这样的琐事。我也很奇怪为什么<span
lang=EN-US><a href="http://terraform.sourceforge.net">Terraform</a></span>这个几乎是当时唯一使用<span
class=SpellE><span lang=EN-US>gtkmm</span></span>的大型应用程序，<span lang=EN-US><a
href="http://terraform.sourceforge.net/tf_requirements.html"><span lang=EN-US><span
lang=EN-US>不再使用它了</span></span></a></span>。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>那么让我再来谈谈我自己关于<span
lang=EN-US>Qt</span>的一些非常具普遍性的经验吧：所有这些<span lang=EN-US>Qt</span>的<span
lang=EN-US><a href="http://doc.trolltech.com/3.0/groups.html"><span lang=EN-US><span
lang=EN-US>非图形界面相关的类</span></span></a></span>，如<span lang=EN-US>XML</span>分析程序，线程处理类，日期和时间处理，正则表达式，等等，是非常有用的。<span
lang=EN-US>Qt</span>的开发者认为它们不实用，所以不想加入它们，但是<span lang=EN-US>Qt</span>的主顾对开发者提出加入它们的要求，这是因为主顾们需要它们。没有这些特性的帮助你是编写不出一个时髦的桌面应用程序的。<span
class=SpellE><span lang=EN-US>Rosegarden</span></span>使用<span class=SpellE><span
lang=EN-US>gzip</span></span>压缩的<span lang=EN-US>XML</span>作为文件格式。<span
lang=EN-US>XML</span>是一个显而易见的选择，大部分是因为<span lang=EN-US>Qt</span>拥有一个它的分析器。要用<span
class=SpellE><span lang=EN-US>gtkmm</span></span>做相同的事，我们需要与<span lang=EN-US><a
href="http://xmlsoft.org">libxml</a></span>连接。这意味着另外一些拥有不同<span lang=EN-US>API</span>和或多或少文档……等等的库需要处理，我们甚至有可能需要封装它，这又会导致更多的代码。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>这实际上正代表了我使用<span
class=SpellE><span lang=EN-US>gtkmm</span></span>开发<span class=SpellE><span
lang=EN-US>Rosegarden</span></span>的无益尝试<span lang=EN-US>(</span>见<span
lang=EN-US><a href="http://www.all-day-breakfast.com/rosegarden/history.html">Rosegarden<span
lang=EN-US><span lang=EN-US>开发历史</span></span></a></span>以获得更多细节<span
lang=EN-US>)</span>。我一开始试着创建一个可以把音符显示在上面的简单的控件。但是等一下，我必须创建一个没有多少实用价值的音符的位图，并且要做到这点我需要使用<span
lang=EN-US>GDK</span>和<span class=SpellE><span lang=EN-US>imlib</span></span>，它们中没有一个在当时是已经被封装的<span
lang=EN-US>(</span>而且封装者使用了一个与<span class=SpellE><span lang=EN-US>gtkmm</span></span>的其它部分完全不同的内存管理策略<span
lang=EN-US>)</span>。于是我首先要向这些封装者里加入材料。接下来我需要<span lang=EN-US>Gnome Canvas</span>来把谱线和音符显示到上面去。这又是没有封装的，所以又得封装。这此这般，令人非常之不爽。现在<span
class=SpellE><span lang=EN-US>libxml</span></span>、<span class=SpellE><span
lang=EN-US>vfs</span></span>和其它我们用的工具也是一样的，<span lang=EN-US>KDE</span>提供了它们，而它们的<span
lang=EN-US>Gnome</span>中的等价物还没有被封装<span lang=EN-US>(</span>另外我这里使用的“等价物”一词所指得东西比较宽泛<span
lang=EN-US>)</span>。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>在转向<span
lang=EN-US>Qt/KDE</span>后大概一个月里，我取得的进展比过去<span lang=EN-US>3</span>年还大。一段时间后，<span
lang=EN-US>Chris</span>和<span lang=EN-US>Rich</span>重新加入进来，现在我们仍然进展稳定，因为程序架构并不妨碍，甚至对于相当难的像<span
lang=EN-US>IPC</span>一样的东西也是这样。<span lang=EN-US>DCOP</span>运转得太好了，从甚至不知道该做什么事情的时候起，让<span
class=SpellE><span lang=EN-US>Rosegarden</span></span>对<span lang=EN-US>DCOP</span>的消息有反应，仅仅用了我<span
lang=EN-US>20</span>分钟<span lang=EN-US>(</span>我没有撒谎<span lang=EN-US>)</span>。大多数的用户界面问题在几小时之内就解决了，这样我们就能集中精力对付实际的问题。刚才我随便写了一些关于<span
lang=EN-US><a href="thoughts_on_rg_devel.html">Rosegarden<span lang=EN-US><span
lang=EN-US>的开发</span></span></a></span>的不是很有条理的想法，如果你需要更多的细节你可以去查阅一下。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>关于“节省学习时间”，看看<span
class=SpellE><span lang=EN-US>gtkmm</span></span>的<span lang=EN-US><a
href="http://gtkmm.sourceforge.net/docs/gtkmm-2.4/docs/tutorial/html/ch18.html"><span
lang=EN-US><span lang=EN-US>这篇关于内存管理的页面</span></span></a></span>。和<span
lang=EN-US><a href="http://doc.trolltech.com/3.0/objecttrees.html">Qt<span
lang=EN-US><span lang=EN-US>的内存管理</span></span></a></span>比较一下。</p>

<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>总结</h2>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><st1:City
w:st="on"><st1:place w:st="on"><b><span lang=EN-US>Murray</span></b></st1:place></st1:City><span
lang=EN-US> : <i>(...)Guillaume</i></span><i>现在使用<span lang=EN-US>QT</span>。他声称对他来说拥有一个完美运转的工具比一个完美的<span
lang=EN-US>API</span>更重要。<span lang=EN-US>gtkmm2</span>将很快变得稳定――这样我们就可以在<span
lang=EN-US>gtkmm2</span>里同时拥有易用性和完美的<span lang=EN-US>API</span>了。</i></p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>是的，我使用<span
lang=EN-US>Qt/KDE</span>，并为此感到高兴，因为经过了这么些年<span class=SpellE><span lang=EN-US>Rosegarden</span></span>开始看起来像一个真正的应用程序，<span
lang=EN-US>which has always been the point. </span>这在使用<span class=SpellE><span
lang=EN-US>gtkmm</span></span>的时候是绝对不会发生的。</p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>和你所说的相反，<span
lang=EN-US>gtkmm2</span>离可以提供相同级别的特性还有几年的差距。如果它能达到，它也会付出巨大的资源代价，因为你必须把每个库都添加到封装者里。即使拥有<span
class=SpellE><span lang=EN-US>gtkmm</span></span>、<span class=SpellE><span
lang=EN-US>gnomemm</span></span>、<span class=SpellE><span lang=EN-US>bonobomm</span></span><span
lang=EN-US>(</span>它暗示了与所有它们所封装的<span lang=EN-US>Gnome</span>的库所连接<span
lang=EN-US>)</span>，你仍然没有得到<span lang=EN-US>Qt</span>及<span class=SpellE><span
lang=EN-US>kde</span></span>库的所有特性。看看<span lang=EN-US><a
href="http://gtkmm.sourceforge.net/gtkmm2/docs/reference/html/classGtk_1_1Arrow.html"><span
lang=EN-US><span lang=EN-US>一个简单控件的层次结构</span></span></a></span>，我数出了<b><span
lang=EN-US>4</span></b>个如下的“对象”：</p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo3;tab-stops:list 36.0pt'><span class=SpellE><code><span
     lang=EN-US style='font-family:"Courier New"'>SigC::Object</span></code></span><span
     lang=EN-US style='font-family:"Courier New"'> <o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo3;tab-stops:list 36.0pt'><span class=SpellE><code><span
     lang=EN-US style='font-family:"Courier New"'>Glib::ObjectBase</span></code></span><span
     lang=EN-US style='font-family:"Courier New"'> <o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo3;tab-stops:list 36.0pt'><span class=SpellE><code><span
     lang=EN-US style='font-family:"Courier New"'>Glib::Object</span></code></span><span
     lang=EN-US style='font-family:"Courier New"'> <o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l3 level1 lfo3;tab-stops:list 36.0pt'><span class=SpellE><code><span
     lang=EN-US style='font-family:"Courier New"'>Gtk::Object</span></code></span><span
     lang=EN-US style='font-family:"Courier New"'> <o:p></o:p></span></li>
</ul>

<p class=MsoNormal style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>人们会对它们的内存冲突感到惊讶。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>另外一个问题，即使<span
class=SpellE><span lang=EN-US>gtkmm</span></span>这几年来一直稳定，为什么使用它的应用程序却很少呢？</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>我们大约一年前进行过<span
lang=EN-US><a
href="http://news.gnome.org/gnome-news/993658952/993677931/993691427/993718928/index_html"><span
lang=EN-US><span lang=EN-US>相似的讨论</span></span></a></span>。看起来你的观点还是没有改变：你因为个人喜好的缘故不喜欢<span
lang=EN-US>Qt</span>，但是你仍旧对为什么使用它就会让你的代码难于编写和维护这点没有一个清晰的论据。我的经验是<span
lang=EN-US>Qt</span>使编写及维护代码成为一项简单的任务。只要看看由它产生的软件的价值就知道了。如果<span class=SpellE><span
lang=EN-US>gtkmm</span></span>被如此广泛使用，你就会在这方面得分。这是自由软件，所以更好的技术应该流行，是吧？</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>你不喜欢<span
lang=EN-US>Qt</span>，因为它不符合你心目中一个<span lang=EN-US>C++</span>类库应该遵循的标准，如此而已。我认为你的想法是错误的，<span
class=SpellE><span lang=EN-US>gtkmm</span></span>正好重复了这类让<span lang=EN-US>C++</span>获得“艰深易错的语言”名声的错误：自身不够详尽和把太多的东西留给用户。</p>

<p style='line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>如此我祝你的<span
lang=EN-US>gtkmm2</span>好运，但我还要继续使用<span lang=EN-US>Qt/KDE</span>并在<span
class=SpellE><span lang=EN-US>Rosegarden</span></span>上帮助<span lang=EN-US>Rich</span>和<span
lang=EN-US>Chris</span>。</p>

<div class=MsoNormal align=center style='text-align:center;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
lang=EN-US>

<hr size=2 width="100%" align=center>

</span></div>

<h3 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
lang=EN-US>P.S. : </span>一个<span lang=EN-US><a
href="http://gtkmm.sourceforge.net/docs/gtkmm-2.4/docs/FAQ/html/index.html#id2443494">gtkmm<span
lang=EN-US><span lang=EN-US>常见问题 #2.4</span></span></a></span>的“补丁”</h3>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>下面是对关于一些项目的回答的修正。</p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo4;tab-stops:list 36.0pt'><span class=SpellE><i><span
     lang=EN-US>gtkmm</span></i></span><i>使用</i><span class=SpellE><i><span
     lang=EN-US style='font-family:"Courier New"'>std::string</span></i></span><i><span
     style='mso-ascii-font-family:"Courier New";mso-bidi-font-family:"Courier New"'>、</span></i><span
     class=SpellE><i><span lang=EN-US style='font-family:"Courier New"'>std::list</span></i></span><i><span
     style='mso-ascii-font-family:"Courier New";mso-bidi-font-family:"Courier New"'>、</span></i><span
     class=SpellE><i><span lang=EN-US style='font-family:"Courier New"'>std::vector</span></i></span><i><span
     style='mso-ascii-font-family:"Courier New";mso-bidi-font-family:"Courier New"'>、</span></i><span
     class=SpellE><i><span lang=EN-US style='font-family:"Courier New"'>iterators</span></i></span><i>，等等。<span
     lang=EN-US>Qt</span>使用自定义的容器。</i></li>
</ul>

<p style='margin-left:36.0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>这是对的，但是：</p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:71.7pt;text-indent:-17.85pt;line-height:125%;mso-list:l0 level2 lfo4;
tab-stops:list 72.0pt'><![if !supportLists]><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:125%;font-family:"Courier New";
mso-fareast-font-family:"Courier New"'><span style='mso-list:Ignore'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=SpellE><span lang=EN-US>QString</span></span>使用起来在功能和便利性上大大优于<span
class=SpellE><span lang=EN-US style='font-family:"Courier New"'>std::string</span></span>，另外它是基于<span
lang=EN-US>Unicode</span>编码的。实际上你的确不能对用户可见的字符串使用<span class=SpellE><span
lang=EN-US style='font-family:"Courier New"'>std::string</span></span>，除非你计划从不使你的软件多国语言化并使它仅仅保持为英文版。</p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
margin-left:71.7pt;text-indent:-17.85pt;line-height:125%;mso-list:l0 level2 lfo4;
tab-stops:list 72.0pt'><![if !supportLists]><span lang=EN-US style='font-size:
10.0pt;mso-bidi-font-size:12.0pt;line-height:125%;font-family:"Courier New";
mso-fareast-font-family:"Courier New"'><span style='mso-list:Ignore'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>容器在大多数情况下是作为一个没有好的<span lang=EN-US>STL</span>运行环境的平台的代替品。它们确实拥有几个便利的特性<span
lang=EN-US>(</span>如对基于指针的容器的“自动删除”<span lang=EN-US>)</span>，但是通常你的确不会使用它们，除非<span
lang=EN-US>Qt</span>的<span lang=EN-US>API</span>需要这样。它们也是兼容<span lang=EN-US>STL</span>的<span
lang=EN-US>, </span>这意味着你可以对它们使用<span lang=EN-US>STL</span>的运算法则。只要把它们视作另一种容器……</p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo4;tab-stops:list 36.0pt'><i>在<span class=SpellE><span
     lang=EN-US>gtkmm</span></span>里可以使用普通的<span lang=EN-US>C++</span>内存管理。<span
     lang=EN-US>Qt</span>需要把所有的控件都视为指针来进行处理，并且控件的删除交由父控件来处理。</i></li>
</ul>

<p style='margin-left:36.0pt;line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>上面的话彻底错了。你可以把控件视作变量来处理，不过显然这样做在及个别情况下才有意义<span
lang=EN-US>(</span>如<span lang=EN-US><a
href="http://doc.trolltech.com/3.3/wizard-example.html#x871"><span lang=EN-US><span
lang=EN-US>创建一个对话框</span></span></a>)</span>，另外你也可以在需要的时候自行删除控件。</p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo4;tab-stops:list 36.0pt'><span class=SpellE><i><span
     lang=EN-US>gtkmm</span></i></span><i>的控件的安排更加简单。在<span lang=EN-US>Qt</span>中，容器和布局是分开的类，子控件必须被同时添加到它们两者中。</i></li>
</ul>

<p style='margin-left:36.0pt;line-height:125%;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>这也是错的：看看<span
lang=EN-US style='font-family:"Courier New"'><a
href="http://doc.trolltech.com/3.3/qhbox.html">QHBox</a></span><span
style='mso-ascii-font-family:"Courier New";mso-bidi-font-family:"Courier New"'>、</span><span
lang=EN-US style='font-family:"Courier New"'><a
href="http://doc.trolltech.com/3.3/qvbox.html">QVBox</a></span><span
style='mso-ascii-font-family:"Courier New";mso-bidi-font-family:"Courier New"'>、</span><span
lang=EN-US style='font-family:"Courier New"'><a
href="http://doc.trolltech.com/3.3/qgroupbox.html">QGroupBox</a></span>和<span
lang=EN-US style='font-family:"Courier New"'><a
href="http://doc.trolltech.com/3.3/qgrid.html">QGrid</a></span>。只有在你需要对控件如何放置有更高要求的时候，布局类才是必要的。<span
lang=EN-US>Qt</span>的布局类同样拥有一个<span lang=EN-US style='font-family:"Courier New"'><a
href="http://doc.trolltech.com/3.3/qlayout.html#autoAdd">autoAdd</a></span>标志位，这样可以减轻你向它们或父控件添加控件时的工作量。</p>

<address style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
lang=EN-US><a href="mailto:glaurent@telegraph-road.org">Guillaume Laurent</a><o:p></o:p></span></address>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!-- Created: Fri May 24 22:43:17 CEST 2002 --><!-- hhmts start -->最后修改：<span
lang=EN-US>2004</span>年<span lang=EN-US>7</span>月<span lang=EN-US>28</span>日 星期三<span
lang=EN-US>23:46:07 CEST<o:p></o:p></span></p>

<!-- hhmts end --></div>

</body>

</html>
