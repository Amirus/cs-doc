<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>GTK 的 rc 文件</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="GTK+ 2.0 教程"
HREF="book1.html"><LINK
REL="PREVIOUS"
TITLE="实用程序和错误处理函数"
HREF="x2047.html"><LINK
REL="NEXT"
TITLE="GTK rc 文件的格式"
HREF="x2088.html"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>GTK+ 2.0 教程</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x2047.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x2088.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="CH-GTKRCFILES">GTK 的 rc 文件</H1
><P
>GTK 有自己缺省处理应用程序的方法，这就是使用rc配置文件。这些文件可用于给几乎任何构件设置颜色，也能为一些构件的背景贴上一幅像素图。</P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="SEC-FUNCTIONSFORRCFILES">rc 文件的功能</H1
><P
>在你的应用程序开始处，应包含一个如下的函数调用：</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>void gtk_rc_parse( char *filename );</PRE
></TD
></TR
></TABLE
><P
>把 rc 文件名传递给被调用的函数，随后 GTK 会解析这个文件，并且使用文件中所定义构件类型的风格设置。</P
><P
>如果希望定义一套和其它构件集或同一构件集中其它逻辑部分具有不同风格的特定构件集，使用以下函数调用：</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>void gtk_widget_set_name( GtkWidget *widget,
                          gchar     *name );</PRE
></TD
></TR
></TABLE
><P
>把新创建的构件作为第一个参数，把你给该构件定的名程作为第二个参数。这使你能够在 rc 文件中按名称更改这个构件的属性。</P
><P
>如果我们使用了一个如下的函数调用：</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>button = gtk_button_new_with_label ("Special Button");
gtk_widget_set_name (button,"special button");</PRE
></TD
></TR
></TABLE
><P
>那么这个按钮取名为"special button"，并且在 rc 文件中可能通过像"special button.GtkButton"这样的名称找到它。[&#60;--- Verify ME!]</P
><P
>后面作为示例的 rc 文件，设置主窗口的属性，告诉所有子窗口继承在"main button"风格项中规定的风格。在应用程序中的代码为：</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
gtk_widget_set_name (window, "main window");</PRE
></TD
></TR
></TABLE
><P
>然后在 rc 文件中用如下一行定义它的风格：</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>widget "main window.*GtkButton*" style "main_button"</PRE
></TD
></TR
></TABLE
><P
>该定义把"主窗口"中的所有按钮构件设置为 rc 文件中定义的"main_buttons"风格。</P
><P
>如你所见，这是一个非常强大和灵活的系统。如何最大限度的利用它的优势需要使用你的想象力。</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x2047.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x2088.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>实用程序和错误处理函数</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>GTK rc 文件的格式</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>