<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>编译 Hello World 程序</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="GTK+ 2.0 教程"
HREF="book1.html"><LINK
REL="UP"
TITLE="从这里开始"
HREF="c103.html"><LINK
REL="PREVIOUS"
TITLE="从这里开始"
HREF="c103.html"><LINK
REL="NEXT"
TITLE="信号和回调函数的原理"
HREF="x223.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>GTK+ 2.0 教程</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="c103.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>从这里开始</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x223.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="SEC-COMPILING">编译 Hello World 程序</H1
><P
>编译命令是：</P
><P
><P
CLASS="LITERALLAYOUT"
><TT
CLASS="LITERAL"
>gcc -Wall -g helloworld.c -o helloworld `pkg-config --cflags gtk+-2.0` \</TT
><br>
<TT
CLASS="LITERAL"
> `pkg-config --libs gtk+-2.0`</TT
></P
></P
><P
>这里使用了程序 <TT
CLASS="LITERAL"
>pkg-config</TT
>，可以从 <A
HREF="http://www.freedesktop.org"
TARGET="_top"
>www.freedesktop.org</A
> 得到。这个程序读取 GTK 附带的 <TT
CLASS="FILENAME"
>.pc</TT
> 文件来决定编译 GTK 程序需要的编译选项。<TT
CLASS="LITERAL"
>pkg-config --cflags gtk+-2.0</TT
> 列出 include 目录，<TT
CLASS="LITERAL"
>pkg-config --libs gtk+-2.0</TT
> 列出编译连接库，也可以合在一起，像这样：<TT
CLASS="LITERAL"
>pkg-config --cflags --libs gtk+-2.0</TT
>。</P
><P
>注意上面编译命令中使用的单引号类型是很重要的。(译者注：这里使用了“命令替换”。命令替换(command substitution)使得可以捕获一个命令的输出而在另一个命令中替换它。这个单引号不是回车键左边的那个，而是ESC键下面的那个。)</P
><P
>连接时常用的库：</P
><P
></P
><UL
><LI
><P
>GTK 库(<TT
CLASS="LITERAL"
>-lgtk</TT
>)，构件库，基于 GDK。</P
></LI
><LI
><P
>GDK 库(<TT
CLASS="LITERAL"
>-lgdk</TT
>)，Xlib 库的封装(wrapper)。</P
></LI
><LI
><P
>gdk-pixbuf 库(<TT
CLASS="LITERAL"
>-lgdk_pixbuf</TT
>)，图像处理库。</P
></LI
><LI
><P
>Pango 库(<TT
CLASS="LITERAL"
>-lpango</TT
>)，处理国际化文本。</P
></LI
><LI
><P
>gobject 库(<TT
CLASS="LITERAL"
>-lgobject</TT
>)，包含作为 GTK 基础的类型系统。</P
></LI
><LI
><P
>gmodule 库(<TT
CLASS="LITERAL"
>-lgmodule</TT
>)，动态运行库。</P
></LI
><LI
><P
>GLib 库(<TT
CLASS="LITERAL"
>-lglib</TT
>)，包含各种函数；这个示例里只用了 g_print()。GTK 是基于 GLib 的，因此你总需要这个库。详见 <A
HREF="c1977.html"
>GLib</A
> 这一章。</P
></LI
><LI
><P
>Xlib 库(<TT
CLASS="LITERAL"
>-lX11</TT
>)，GDK 要使用。</P
></LI
><LI
><P
>Xext 库(<TT
CLASS="LITERAL"
>-lXext</TT
>)，包含共享内存位图和其它 X 扩展。</P
></LI
><LI
><P
>math 库(<TT
CLASS="LITERAL"
>-lm</TT
>)，数学库，这个被 GTK 因各种目的而使用。</P
></LI
></UL
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="c103.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x223.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>从这里开始</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c103.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>信号和回调函数的原理</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>