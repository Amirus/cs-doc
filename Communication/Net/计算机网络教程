您下载的该电子书来自:TXT书库
欢迎访问:   www.txtsk.com
目    录


第1章  计算机网络概论	3
第二章  计算机网络数据通信基础	11
第三章  计算机网络体系结构	22
第四章  计算机局域网	41
第五章  计算机网络应用技术	50
模拟试卷1	65
 

第1章    计算机网络概论
【学习目的】
    1、掌握计算机网络发展阶段、组成及分类；
2、掌握计算机网络的拓扑结构类型和信息交换技术及其特点。    
【重点综述】
1.1  计算机网络的产生与发展
1.1.1 计算机网络的产生
1、计算机网络是计算机技术和通信技术相互结合、相互渗透形成的一门新兴学科。
2、发展的过程：
⑴ 具有远程通信功能的单机系统
⑵ 具有远程通信功能的多机系统        
⑶ 具有统一体系结构、国际化标准协议的计算机网络
1.1.2 计算机网络的发展
    这里所要讲的计算机网络的发展，系指现代计算机网络的发展。它包括：广域计算机网络、局域计算机网络和国际互联网络的发展。
    1.广域计算机网络的发展
所谓广域计算机网络系指利用远程通信线路组建的计算机网络。简称广域网(Wide Area Network，简写为WAN)。广域网络的发展是从ARPANET的诞生开始的。随着计算机应用的不断深入发展，一些规模小的机构甚至个人也有联网需求。这就促使许多国家开始组建公用数据网。早期的公用数据网采用的是模拟通信电话网，进而发展成为新型的数字通信公用数据网。典型的公用数据网有美国的TELENET、日本的DDX、加拿大的DATAPAC等；我国也于1993年和1996年分别开通公用数据网CHINAPAC和CHINADDN。
    2.局域计算机网络的发展
    所谓局域计算机网络系指分布于一个部门、一个校园或一栋楼内局部区域的计算机网络，简称局域网或局部网(Local Area Network，简写为LAN)。局域网的发展是微处理器和微型计算机迅速发展的产物。
    3.互联网的发展
所谓互联网的概念是指低层通信子网之间的互联，是在统一IP（Internet Protocol）网际互联协议的管理下各种局域、城域和广域通信网之间的互联（IP相当于OS/RM网络层协议）。随着广域网和局域网技术的发展和成熟，互联网络已成为计算机网络界新的热点。
1.1.3计算机网络系统的发展趋势
计算机网络系统的发展趋势。
开放性方向发展；一体化方向发展；多媒体网络方向发展；高效、安全的网络管理方向发展；智能化网络方向发展。
1.1.4  计算机网络对社会信息化发展的影响
管理信息化；企业生产自动化；商贸电子化；公众生活服务信息化；军事指挥自动化；网络协同工作；教育现代化；政府上网和电子政府。
1.1.5  我国计算机网络的发展
    1．我国公用网的初步建立
(1) 中国公用分组交换数据网(CHINAPAC)：1989年11月我国第一个公用分组交换网CNPAC(后改为CHINAPAC)通过试运行和验收。
(2) 中国数字数据网(CHINADDN)：它是我国的高速信息国道。CHINADDN采用三级网络结构，一级为全国骨干网，二级为省内网，三级为本地网。
2．我国“三金”工程的建成
“三金”工程指“金桥”、“金卡”和“金关”工程。“金桥”工程就是要建设我国社会经济信息平台，即建设国家公用经济信息网。“金桥”工程是“三金”工程的基础。“金卡”工程是指电子货币工程，是银行信用卡支付系统工程。它是金融电子化和商业流通现代化的重要组成部分，将与银行、内贸等部门紧密配合实施。“全关”工程是指国家对外经济贸易信息网工程，当前主要推广电子数据交换（EDI），实现无纸贸易。
3．我国Internet的建立
    20世纪90年代兴起的“信息高速公路”和因特网的发展促进了我国全国范围的互联网的发展，我国开始构建全国范围的公用计算机网络，目前，我国有可以与因特网互连的六个全国范围的互联网，它们是：中国公用计算机互联网CHINANET、中国教育和科研计算机网CERNET、中国科学技术网CSTNET、中国金桥信息网CHINAGBN、中国联通计算机互联网UNINET和中国网络通信有限公司CNC。
    4.我国计算机网络发展战略的几点思考
计算机网络建设与基础信息技术发展的关系；网络基础设施与应用系统建设的关系；中央统筹规划与地方分散建设的关系；独立自主与引进技术的关系。
1．2  计算机网络的组成
 1.2.1  网络节点
1.节点(Node)：也称为“站”，一般是指网络中的计算机，分为访问节点和转接节点两类。转接节点的作用是支持网络的连接性能，它通过所连接的链路转接信息，通常有集中器、信息处理机等。访问节点也简称为端点(Endpoint)，它除具有连接作用外，还可起到信源(Source)和信宿(Sink)(又称为发信点和收信点)的作用，一般包括计算机或终端设备。
    2．线路(Line)：在两个节点间承载信息流的信道称为线路。线路可以是采用电话线、电缆、光纤等的有线信道，也可以是无线电信道。
3．链路（Link）：链路是指从发信点到收信点（即从信源到信宿）的一串节点和线路。链路通信是指端到端的通信。
1.2.2  网络构型
    一般说来，在多个节点需要互相连接以构成网络时，希望每一个节点与其他的节点都有直接的点到点通信线路，这种情况称为全连通的网络拓扑。如果有N个节点，就要求网络有N(N一1)／2条全双工的链路，且每一节点上的装置设备要有(N一1)个输入／输出端口。因为系统的成本、安装费用等随着节点数量的平方增长，当N很大时，这显然是不现实的。所以，所有网络都采用全连通的方法是不可行的。
1.2.3  计算机网络系统的组成
1．按系统划分
    从系统角度上看，计算机网络由硬件系统和软件系统组成。
     ⑴ 计算机网络硬件系统，包括：主计算机、终端、集中器、前端处理机、通信处理机、通信控制器、线路控制器等等。
⑵ 计算机网络软件系统，它是实现网络功能所不可缺少的软件环境，通常包括：
        ① 网络操作系统：它是最主要的网络软件，负责管理网络中各种软硬件资源。
        ② 网络通信软件：它实现网络中节点间的通信。
        ③ 网络协议和协议软件：它通过协议程序实现网络协议功能。
        ④ 网络管理软件：它用来对网络资源进行管理和维护。
    ⑤ 网络应用软件：它为用户提供服务，解决某方面的实际应用问题。
2．按逻辑划分
计算机网络从逻辑结构上可以分成两部分：负责数据处理，向网络用户提供各种网络资源和网络服务的外层用户资源子网和负责数据转发的内层通信子网。二者在功能上各负其责，通过一系列计算机网络协议把二者紧密地结合在一起，共同完成计算机网络工作。
用户资源子网专门负责全网的信息处理任务，以实现最大限度地共享全网资源的目标，用户资源子网包括主机及其他信息资源设备。
通信子网是计算机网络中负责数据通信的部分，传输介质可以是架空明线、双绞线、同轴电缆、光导纤维等有线通信线路，也可以是微波、通信卫星等无线通信线路。一般终端与主计算机、终端与节点计算机及集中器之间采用低速通信线路；各计算机之间，包括主计算机与通信处理机及集中器之间采用高速通信线路。节点计算机和高速通信线路组成独立的数据通信系统，承担全网络的数据传输、交换、加工和变换等通信处理工作，即将一个主计算机的输出信息传送给另一台主计算机。
1.3 计算机网络的分类
    计算机网络的分类方法可以是多样的，其中最主要的两种方法是：    
1.3.1 根据网络传输技术进行分类
    网络所采用的传输技术决定了网络的主要技术特点，因此根据网络所采用的传输技术对网络进行分类是一种很重要的方法。
在通信技术中，通信信道的类型有两类：广播通信信道与点到点通信信道。
1．广播式网络
在广播式网络中，所有连网计算机都共享一个公共通信信道。   
2．点到点式网络
与广播式网络相反，在点到点式网络中，每条物理线路连接一对计算机。
1.3.2 根据网络的覆盖范围进行分类
    按覆盖的地理范围进行分类，计算机网络可以分为以下三类：局域网LAN（Local Area Network）；城域网MAN（Metropolitan Area Network）；广域网WAN（Wide Area Network）。
1．局域网LAN
局域网用于将有限范围内(如一个实验室、一幢大楼、一个校园)的各种计算机、终端与外部设备互连成网。局域网按照采用的技术、应用范围和协议标准的不同可以分为共享局域网与交换局域网。局域网技术发展迅速，应用日益广泛，是计算机网络中最活跃的领域之一。
    2．城域网MAN
城市地区网络常简称为城域网。城域网是介于广域网与局域网之间的一种高速网络。城域网设计的目标是要满足几十公里范围内的大量企业、机关、公司的多个局域网互连的需求，以实现大量用户之间的数据、语音、图形与视频等多种信息的传输功能。
    3．广域网WAN
广域网也称为远程网。它所覆盖的地理范围从几十公里到几千公里。广域网覆盖一个国家、地区，或横跨几个洲，形成国际性的远程网络。广域网的通信子网主要使用分组交换技术。广域网的通信子网可以利用公用分组交换网、卫星通信网和无线分组交换网，它将分布在不同地区的计算机系统互连起来，达到资源共享的目的。
1．4  计算机网络的拓扑结构
1.4.1  计算机网络拓扑的概念
    计算机网络拓扑是通过网中节点与通信线路之间的几何关系表示网络结构，反映出网络中各实体间的结构关系。拓扑设计是建设计算机网络的首步，也是实现各种网络协议的基础，它对网络性能、系统可靠性与通信费用都有重大影响。计算机网络拓扑主要是指通信子网的拓扑构型。
1.4.2  网络拓扑分类方法
    在采用点到点线路的通信子网中，每条物理线路连接一对节点。采用点到点线路的通信子网的基本拓扑构型有四类：星型、环型、总线型、树型和网状型。
    在采用广播信道通信子网中，一个公共的通信信道被多个网络节点共享。采用广播信道通信子网的基本拓扑构型主要有四种：总线型、树型、环型和无线通信与卫星通信型。
    以下简单介绍点到点线路通信子网的拓扑特点，广播信道通信子网的拓扑特点将在第四章中讨论。     1．星型拓扑的主要特点
在星型拓扑构型中，节点通过点到点通信线路与中心节点连接。中心节点控制全网的通信，任何两节点之间的通信都要通过中心节点。星型拓扑构型结构筒单，易于实现，便于管理，但是网络的中心节点是全网可靠性的瓶颈，中心节点的故障可能造成全网瘫痪。
    2．环型拓扑的主要特点
在环型拓扑构型中，节点通过点到点通信线路连接成闭合环路。环中数据将沿一个方向逐站传送。环型拓扑结构简单，传输延时确定，但是环中每个节点与连接节点之间的通信线路都会成为网络可靠性的瓶颈。环中任何一个节点出现线路故障，都可能造成网络瘫痪。为保证环的正常工作，需要较复杂的环维护处理。环节点的加入和撤出过程都比较复杂。
    3．树型拓扑的主要特点
树型拓扑构型可以看成是星型拓扑的扩展。在树型拓扑构型中，节点按层次进行连接，信息交换主要在上、下节点之间进行，相邻及同层节点之间一般不进行数据交换或数据交换量小。树型拓扑可以看成是星型拓扑的一种扩展。树型拓扑网络适用于汇集信息的应用要求。
4．网状型拓扑的主要特点
网状拓扑构型又称做无规则型。在网状拓扑构型中，节点之间的连接是任意的，没有规律。网状拓扑的主要优点是系统可靠性高，但是结构复杂，必须采用路由选择算法与流量控制方法。目前实际存在与使用的广域网，基本上都是采用网状拓扑构型的。
1.5 信息交换技术
    通常使用的数据交换技术有三种：线路交换、报文交换、分组交换。
1.5.1 线路交换
    使用线路交换(Circuit  Switching)方式，就是通过网络中的节点在两个站之间建立一条专用的通信线路。最普通的线路交换例子是电话系统。
    通过线路交换进行通信，指的是在两个站之间有一个实际的物理连接。这种连接是节点之间的连接序列。在每条线路上，通道专用于连接。线路交换方式的通信包括三种状态。
    1．线路建立：在传输任何数据之前，都必须建立端到端(站到站)的线路。
2．数据传送：所传输的数据可以是数字的也可以是模拟的。
3．线路拆除：在某个数据传送周期结束以后，就要结束连接，通常由两个站中的一个来完成这个动作。
1.5.2 报文交换
    另一种网络通信的方法是报文交换(Message  Switching)。在报文交换中不需要在两个站之间建立一条专用通路。相反，如果一个站想要发送一个报文(信息的一个逻辑单位)，它把一个目的地址附加在报文上。然后把报文通过网络从节点到节点。在每个节点中，接收整个报文，暂存这个报文，然后发送到下一个节点。    
   这种方法比线路交换有以下优点：
1）．线路效率较高，这是因为许多报文可以分时共享一条节点到节点的通道。
    2）．不需要同时使用发送器和接收器来传输数据，网络可以在接收器可用之前，暂时存储这个
报文
    3）．在线路交换网上，当通信量变得很大时，就不能接受某些呼叫。而在报文交换网上，却仍
然可以接收报文，但是报文被缓冲导致传送延迟增加，但不会引起阻塞。
    4）．报文交换系统可以把一个报文发送到多个目的地。
    5）．根据报文的长短或其他特征能够建立报文的优先权，使得一些短的、重要的报文优先传递。
    6）．报文交换网可以进行速度和代码的转换。因为每个站都可以用它特有的数据传输率连接到
其他节点，所以两个不同传输率的站也可以连接。报文交换网还能转换数据的格式，例如从ASCII
码转换为EBCDIC码。
    但报文交换不能满足实时或交互式的通信要求。经过网络的延迟时间相当长，而且由于负载不同，延迟时间有相当大的变化。这种方式不能用于声音连接，也不适合交互式终端到计算机的连接。
1.5.3  分组交换
    分组交换(Packet Switching)试图兼有报文交换和线路交换的优点，而使两者的缺点最少。分组交换与报文交换的工作方式基本相同，形式上的主要差别在于，分组交换网中要限制所传输的数据单位的长度。典型的最大长度是1千位至几千位，称为包(Packets)。报文交换系统却适应更长的报文。从一个站的观点来看，把超过最大长度的报文的数据块按限定的大小分割成一个个小段，为每个小段加上有关地址信息以及段的分割信息组成一个数据包，然后依次发送。为了区分这两种技术，分组交换系统中的数据单位通常称为分组。与报文交换的区别是，分组通常不归档，分组拷贝暂存起来的目的是为了纠正错误。
目前有两种方法：数据报和虚电路。
在数据报中，每个数据包被独立地处理，就像在报文交换中每个报文被独立地处理那样，每个节点根据一个路由选择算法，为每个数据包选择一条路径，使它们的目的地相同。一个节点在发送多个发往同一地址的数据包时，可以根据线路的拥挤情况为各个包选择不同的转发节点，所以一个大数据段的各个数据包可能是从不同的路径到达目的地的，并且到达的先后顺序也不一定是分割时的顺序，这要根据网络中当时的具体流量等情况而定。每个数据包都有相应的分割信息，接收端可以根据这些信息把它们重新组合起来，恢复原来的数据块。
在虚电路中，数据在传送以前，发送和接收双方在网络中建立起一条逻辑上的连接，但它并不是像电路交换中那样有一条专用的物理通路，该路径上各个节点都有缓冲装置，服从于这条逻辑线路的安排，也就是按照逻辑连接的方向和接收的次序进行输出排队和转发，这样每个节点就不需要为每个数据包作路径选择判断，就好像收发双方有一条专用信道一样。发送方依次发出的每个数据包经过若干次存储转发，按顺序到达接收方。双方完成数据交换后，拆除掉这条虚电路。
1.5.4  三种数据交换技术的比较
    三种数据交换技术总结如下：
1．电路交换  在数据传送之前需建立一条物理的通路；在线路被释放之前，该通路将一直被一对用户完全占有。
    2．报文交换  报文从发送方传送到接受方采用存储转发的方式。在传送报文时，只占用一段通路；在交换节点中需要缓冲存储，报文需要排队。因此，这种方式不满足实时通信的要求。
    3．分组交换  此方式与报文交换类似，但报文被分成组传送，并规定了分组的最大长度；到达目的地后需重新将分组组装成报文。这是网络中最广泛采用的一种交换技术。
三种数据交换方式各有其特点，对于实时性强的交互式传输，电路交换最合适，不宜采用报文方式；对于网络中较轻的或间歇式负载，电路交换方式较合算；对于中等或稍重的负载，数据包方式有较好的效果，并且在包交换中，短信息用数据报，长信息用虚电路较适合。
1.5.5  其他数据交换技术
目前提高数据交换速度的方案有很多，主要有DSI，Frame Relay和ATM等。
1. 利用数字语音插空技术DSI(Digital Speech Interpolation)能提高线路交换的传输能力。
2. 帧中继(Frame Relay)是对目前广泛使用的X.25分组交换通信协议的简化和改进。
3. 异步传输模式ATM（Asynchronous Transfer Mode）是线路交换与分组交换技术的结合，能最大限度地发挥线路交换与分组交换技术的优点，具有从实时的语音信号到高清晰度电视图像等各种高速综合业务的传输能力。
思考题答案
1．	计算机网络的发展可划分为几个阶段？每个阶段各有何特点？
	答：计算机网络的发展可分为以下四个阶段：
	（1）面向终端的计算机通信网：其特点是计算机是网络的中心和控制者，终端围绕中心计算机分布在各处，呈分层星型结构，各终端通过通信线路共享主机的饿硬件和软件资源，计算机的主要任务还是进行批处理，在20世纪60年代出现分时系统后，则具有交互式处理和成批处理能力。
	（2）分组交换网：分组交换网由通信子网和资源子网组成，以通信子网为中心，不仅共享通信子网的资源，还可共享资源子网的饿硬件和软件资源。网络的共享采用排队方式，即由节点的分组交换机负责分组的存储转发和路由选择，给两个进行通信的用户端续（或动态）分配传输带宽，这样就可以大大提高通信线路的利用率，非常适合突发式的计算机数据。
	（3）形成计算机网络体系结构：为了使不同体系结构的计算机网络都能互联，国际标准化组织ISO提出了一个能使各种计算机在世界范围内互联成网的标准框架——开放系统互联参考模型OSI。这样，只要遵循OSI标准，一个系统就可以和位于世界上任何地方的，也遵循同一标准的其他任何系统进行通信。
	（4）高速计算机网络：其特点是采用高速网络技术，综合业务数字网的实现，多媒体和智能型网络的兴起。
2．	计算机网络可从哪几个方面进行分类？
	答：计算机网络可以从不同的角度进行分类：
	1）根据网络的交换功能分有电路、报文交换和混合交换；
	2）根据网络的拓扑结构可以分为星型网、树型网、总线网、环型网、网状网等；
	3）根据网络的通信性能可以分为资源共享计算机网络、分布式计算机网络和远程通信网络；
	4）根据网络覆盖范围与规模可分为局域网、城域网和广域网；
	5）根据网络的使用范围分有公用网和专用网；
3．	局域网、城域网与广域网的主要特征是什么？
	答：局域计算机网（LAN, Local Area Network）通常简称为局域网，它是在有限的地域范围内构成的计算机网络，是把分散在一定范围内的计算机、终端、带大容量存储器的外围设备、控制器、显示器以及用于连接其它网而使用的网间连接器等相互连接起来，进行高速数据通信的手段。
	4、试从多个方面比较电路交换、报文交换和分组交换的主要优缺点。
答： (1)电路交换:由于电路交换在通信之前要在通信双方之间建立一条被双方强占的物理通路（由通信双方之间的交换设备和链路逐段连接而成）,因而有以下优缺点。
优点:①由于通信线路为通信双方用户专用,数据直达,所以传输数据的时延非常小
②通信双方之间的物理通路一旦建立,双方可以随时通信,实时性强。
③双方通信时按发送顺序传送数据,不存在失序问题。
④电路交换既适用于传输模拟信号,也适用于传输数字信号。
⑤电路交换的交换设备(交换机等)及控制均较简单。
缺点: ①电路交换的平均连接建立时间对计算机通信来说嫌长。
②电路交换连接建立后,物理通路被通信双方独占,即使通信线路空闲,也不能供其他用户使用,因而信道利用低.
③电路交换时,数据直达,不同类型、不同规格、不同速率的终端很难相互进行通信,也难以在通信过程中进行差错控制。
（2）报文交换:报文交换是以报文为数据交换的单位,报文携带有目标地址、源地址等信息,在交换结点采用存储转发的传输方式,因而有以下优缺点:
优点:①报文交换不需要为通信双方预先建立一条专用的通信线路,不存在连接建事时延,用户可随时发送报文。
②由于采用存储转发的传输方式,使之具有下列优点:（1）在报文交换中便于设置代码检验和数据重发设施,加之交换结点还具有路径选择功能,就可以做到某条传输路径发生故障时,重新选择另一条路径传输数据,提高了传输的可靠性；（2）在存储转发中容易实现代码转换和速率匹配,甚至收发双方可以不同时处于可用状态。这样就便于类型、规格和速度不同的计算机之间选行通信（3）提供多目标服务,即一个报文可以同时发送到多个目的地址,这在电路交换中是很难实现的；（4）允许建立数据传输的优先级,使优先级高的种优先转换。
③通信双方不是固是占有一条通信线路,而是在不同的时间一段一段地部分占用这条物理通路,因而大大提高了通信线路的利用率。
缺点:①由于数据进入交换结点后要经历存储、转发这一过程,从而引起转发时延（包括接收报文、检验正确性、排队、发送时间等）,而且网络的通信量愈大,造成的时延就愈大,因此报文交换的实时性差,不适合传送实时或交互式业务的数据。
②报文交换只适用于数字信号。
③由于报文长度没有限制,而每个中间结点都要完整地接收传来的整个报文,当输出线路不空闲时,还可能要存储几个完整报文等待转发,要求网络中每个结点有较大的缓冲区。为了降低成本,减少结点的缓冲存储器的容量,有时要把等待转发的报文存在磁盘上,进一步增加了传送时延。
(3)分组交换:分组交换仍采用存储转发传输方式,但将一个长报文先分割为若干个较短的分组,然后把这些分组(携带源、目的地址和编号信息)逐个地发送出去,因此分组交换除了具有报文交换的优点外,与报文交换相比有以下优缺点:
优点:①加速了数据在网络中的传输。因为分组是逐个传输,可以使后一个分组的存储操作与前一个分组的转发操作并行,这种流水线式传输方式减少了报文的传输时间。此外,传输一个分组所需的缓冲区比传输一份报文所需的缓冲区小得多,这样因缓冲区不足而言等待发送的机率及等待的时间也必然少得多。
②简化了存储管理。因为分组的长度固定,相应的缓冲区的大小也固定,在交换结点中存储器的管理通常被简化为对缓冲区的管理,相对比较容易。
③减少了出错机率和重发数据量。因为分组较短,其出错机率必然减少,每次重发的数据量也就大大减少,这样不仅提高了可靠性,也减少了传输时延。
④由于分组短小,更适用于采用优先级策略,便于及时传送一些紧急数据,因此对于计算机之间的突发式的数据通信,分组交换显然更为合适些。
缺点:①尽管分组交换比报文交换的传输时延少,但仍存在存储转发时延,而且其编点交换机必须具有更强的处理能力。
②分组交换与报文交换一样,每个分组都要加上源、目的地址和分组编号等信息,使传送的信息量大约增大5%~则,一定程度上降低了通信效率,增加了处理的时间,使控制复杂,时延增加。
③当分组交换采用数据报服务时,可能出现失序、丢失或重复分组,分组到达目的结点时,要对分组按编号进行排序等工作,增加了麻烦。若采用虚电路服务,虽无失序问题,但有呼叫建立、数据传输和虚电路释放三个过程。
	总之,若要传送的数据量很大,且其传送时间远大于呼叫时间,则采用电路交换较为合适：当端到端的通路由很多段的链路组成时,采用分组交换传送数据则较为合适。从提高整个网络的信道利用率上看,报文交换和分组交换优于电路交换,其中分组交换比报文交换的时延小,尤其适合于计算机之间的突发式的数据通信。
练习题
一、选择题
	1．在分组交换网中,X.25分组长度的缺省值为（    ）
		A.160字节		B.53字节		C.128字节		D.48字节
	2．下列关于分组交换网络的说法不正确的是（    ）。
		A.多个分组可以动态共事结点链路,线路利用率较高
		B.在分组交换网中,不同数据率的站点可以交换分组
		C.当负载比较重时,网络拒绝接收更多的连接
		D.当负载比较重时,分组仍被接收,但增加传输延迟
	3．在分组交换网络中,两种数据传输方式为（     ）。
		A.虚电路方式和数据报方式		B.虚通路方式和数据报方式
		C.数据报方式和虚通道方式		D.虚通道方式和虚通路方式
	4．在分组交换网络中,外部虚电路,内部数据报方式的特点为（     ）。
		A.从用户和网络角度看，每个分组都被单独处理
		B.外部的用户没有连接,只是向网络发送分组
	C.网络内部分别处理每个分组,发往网络的分组要标明虚电路号及顺序号
		D.网络内部为传输分组建立逻辑连接
	5．在分组交换网络中，若需在网络目的接点缓冲分组，重新排序后再发送至目的站点的传送方式（     ）。
		A.外部虚电路,内部虚电路			B.外部虚电路,内部数据报
		C.外部数据报,内部虚电路			D.外部数据报,内部数据报
	答案
		1、C		2、C		3、A		4、C		5、B
二、填空题
1、计算机网络由负责信息传递的         和负责信息处理的         组成。
2、计算机网络的功能主要表现在         、         和用户间         三个方面。
3、按地理分布范围来分类，计算机网络可以分为         、         和         三种。
4、按交换方式来分类，计算机网络可以分为         、         和         三种。
	5、计算机网络的演变和发展可概括为         、         和         三个阶段。
	答案
	1、通信子网；资源子网
	2、硬件资源共享，软件资源共享，信息交换
	3、广域网，局域网，城域网
	4、电路交换网，报文交换网，分组交换网
	5、面向终端的计算网络。计算机-计算机网络，开放式标准化网络
 

第二章  计算机网络数据通信基础
【学习目的】
	1、掌握数据通信与传输的基本概念和工作原理，包括数据通信模型、传输概念、模拟数据和数字数据传输、传输损害等。
	2、掌握数据调制与编码的基本方法和简单工作原理，包括调制与编码原理、模拟数据的模拟信号调制、数字数据的模拟信号调制、数字数据的数字信息编码、模拟数据的数字信号编码等。
	3、掌握多路复用的基本工作原理及其常用技术，包括多路复用技术、频分多路复用、时分多路复用、统计时分多路复用等。
	4、熟悉物理层典型接口RS232所完成的工作及四种特性，掌握RS232C的内部电路功能及几种应用。比较RS232C接口及其它接口，了解V.24接口，RS449接口，V.35接口，X.21接口的特性。
【重点综述】
2.1   数据通信与传输
2.1.1 数据通信模型
简单的概念性通信模型包括数据源、发送器、传输系统、接受器和目的站，如图2-1所示。
图2-1 概念性的通信模型
2.1.2 传输概念
从通信系统的基本理论上分析，传输的确知信号可用两类概念来描述：时域概念和频域概念。
1.时域概念
从时域概念分析，信号是时间的函数，可分为连续信号和离散信号。
(1)连续信号：连续信号在时间上和取值上都是连续变化的，例如，话音是一种典型的连续信号。
(2)离散信号：离散信号在时间上和取值上都是离散的，例如，计算机所用的二进制信号是一种典型的离散信号。
(3)周期信号：信号可分为周期信号与非周期信号。周期信号是指周期性重复的信号形式，它的数学表达式为：S(t+T)=S(t)    -∞<t<+∞	式中T为信号周期。
S(t)表示信号是一个时域函数，也表示每一瞬时信号的幅度。
(4)正弦信号：正弦信号是典型的周期性连续信号，数学表达式为：S(t)=Asin( )
式中参数A表示幅度、f表示频率、 表示相位。
余弦信号也是典型的周期性连续信号，余弦信号与正弦信号仅在相位上相差900。
2.频域概念
从频域概念上分析，任何一个信号可由多个频率成分组成。频域法可用频谱分析或其它正交变换的方式来描述和研究信号。
3.数据率与频带的关系
根据频谱分析，可知不论单个方波脉冲信号，还是周期性矩形波信号均有无限频宽，但信号的大部分能量集中于一个相对窄的频带之内，我们把这个相对窄的频带称之为信号的有效频带或频带。
在理论上，可进一步熟悉并理解下列有用结论：
(1)奈奎斯特(Nyquist)准则：理想低通信道的最高码元传输速率=2B(波特,Baud)  其中，B为理想低通信道的带宽，单位为赫兹(Hz)。
(2)香农(Shannon)公式：给定信道的极限信息传输速率=B log2(1+S/N)  (比特/秒，bit/s)  其中，B为信道的带宽；S为信道内所传送信号的平均功率；N为信道内的噪声功率。
香农(Shanmn)公式是针对噪声信道而言的，适用于模拟信道和数字信道。而奈奎斯特(Nyquist)准则指明了无噪声的数字信道的信道容量。
2.1.3 模拟数据传输和数字数据传输
首先要求理解术语：数据、信息和信号的含义，如图2-2所示。
 
图2-2 数据、信息和信号的含义
数据是有意义的实体，分为模拟数据和离散数据，前者在某个区间产生连续的值，后者则产生离散的值。而信号是数据的(电子或电磁)编码形式，分为模拟信号和数字信号。
模拟传输和数字传输的特征：
?	模拟传输是一种不考虑内容的传输模拟信号的方法。不论模拟信号所表示的模拟数据还是
数字数据，经过一定距离的传输，模拟信号的幅度会减小，即存在衰减(又称衰耗)。在模拟传输系统中，,通过放大器来支持远距离的模拟信号传输。问题是经多级放大后会使噪音分量累加，影响通信质量。
?	数字传输则与所传信号的内容有关。传输介质的衰减频率特性，相移频率特性会使数字信
号产生失真，数字信号只能在有限的距离内传输。为了延长数字信号的传输距离，通常使用中继器(也称再生器)，将其整形后传输。数字传输中主要问题是时延。
数字数据可以通过调制解调器用模拟信号表示，而模拟数据也可以通过编码解码器用数字信号表示。模拟信号和数字信号都可以在合适的传输介质上进行传输。
2.1.4 传输损害
在数据通信过程中，信号会受干扰而产生失真，称之为传输损害。传输损害有各种类型，分为外部损害和内部损害。前者是外部信号源使传输系统产生的信号失真，而后者是传输系统本身内部所引起的信号失真。传输损害的详细分类参见表2-1。
衡量传输损害程度的重要参数之一是信噪比，它是传输介质同一点上信号与噪声的功率比，常以分贝(dB)计。设：S为信号功率(W)，N为噪声功率(W)。例如，信噪功率比为1000，则信噪比以电平分贝计为：10log10(S /N) =10log10(1000) =30dB
信噪比越高，传输损害越小，信号在接收端也就失真越小。
表2-1 传输损害的分类
 
2.2   数据调制与编码
2.2.1 调制与编码原理
所谓调制是在发送端载波信号的某些特性根据输入信号而变化的过程。
所谓编码是将模拟数据或数字数据变换成数字信号，以便通过数字信道传送出去。在接收端相反处理过程，称为解码，再变换回原始的信号形式。
信号经调制或编码后，将会更有效适合于系统、介质内进行数据传输。
2.2.2 模拟数据的模拟信号调制
模拟数据的原始信号频谱分量的频率较低，不适合于直接在模拟信道中传输，必须进行模拟数据的模拟信号调制。模拟数据的模拟信号调制技术有：AM幅度调制、FM频率调制和PM相位调制，分别使载波的幅度、频率和相位随调制信号的变化而变化。而在接收端通过解调又可恢复原始的模拟信号。
2.2.3 数字数据的模拟信号调制
用数字数据对连续的载波信号的参量进行调制称之为数字数据的模拟信号调制。
数字数据的模拟信号传输是通过数字调制解调器来实现的。最基本的数字调制方式有：幅移键控法ASK，频移键控法FSK和相移键控法PSK，如图2-3所示。
 
图2-3 基本的数字调制方式
其基本原理：
?	ASK通过调制载波的振幅来实现，用载波频率的两个不同的振幅来表示两个二进制值。在
有些情况下，一个振幅为零，即用振幅恒定载波的存在来表示一个二进制数字，而另一个二进制数字用载波的不存在表示。图中‘0'为无载波输出，‘1’为恒幅载波。
?	FSK通过调制载波的频率来实现，用载波频率附近的两个不同频率来表示两个二进制值。
图中‘0’为频率F1，‘1’为频率F2。
?	PSK通过调制载波的相位来实现，利用载波信号的相位移动来表示数据。在图2-4中，‘0’
表示发送与以前已发信号串同相的信号；‘1’表示发送与以前已发信号串反相的信号。
上述各种技术也可以组合起来使用，常见的组合是幅移键控法ASK和相移键控法PSK的组合，组合后在两个振幅上均可以分别出现部分相移和整体相移。例如：正交相移键控法(QPSK)、正交幅移键控法(QAM)等技术。
2.2.4 数字数据的数字信号编码
在数字数据的数字信号编码中，可以用不归零电压电平表示，但它对同步的要求较高，系统本身也具有若干缺点。
数字数据的数字信号传输是通过编解码器(CODEC)来实现的。最普遍而且最容易的方法是用两个电压电平来表示两个二进制数字。二进制数字‘0’用无电压来表示，二进制数字‘1’用正电压来表示，这种方法称之为不归零制(NRZ： Non Retum to Zero)编码。其它常用的编码有:曼彻斯特(Manchester)编码，差分曼彻斯特编码等，在局域网中得到了广泛的应用。
?	曼彻斯特(Manchester)编码
曼彻斯特(Manchester)编码规则：
(1) 在每个码元(即指一位)的中间必须存在跳变；
(2) 二进制数字‘0’用低电位跳变到高电位来表示；
(3) 二进制数字‘1’用高电位跳变到低电位来表示。
?	差分曼彻斯特编码
差分曼彻斯特编码规则：
(1) 在每个码元的中间必须存在跳变；
(2) 二进制数字‘0’在每个码元周期开始时有跳变；
(3) 二进制数字‘1’在每个码元周期开始时无跳变。
上述两种编码的特点：发送时钟均包含于信号的数据流中，例如，发送数据速率为10Mbit/s，则发送时钟频率为20Mbit/s。在接收端从信号的数据流中，获取发送端时钟，常称其为自同步编码。
2.2.5 模拟数据的数字信号编码
模拟数据的数字信号编码最常见的例子是脉冲代码调制(PCM，常称"脉冲编码调制")。它以采样定理为基础，常用于对声音信号进行编码。
(1) 什么是采样定理?
采样定理是模拟信号数字化的理论基础，定理描述为：如果对某一带宽(B)有限的时间连续信号(模拟信号)进行采样，采样频率fs满足fs 2B，那么接收端根据这些采样值就能准确地确定恢复原信号。这就是说，若要传输模拟信号，不一定要传输模拟信号本身，可以只传输按采样定理得到的采样值。
(2) PCM处理三步骤：采样(或称取样)、量化、编码。
PCM全称是脉冲编码调制,就是将模拟信号的采样量化值变换成代码。PCM通信系统组成方框图，如下图2-4所示：
 
图2-4  PCM工作原理
输人的模拟信号m(t)经抽样、量化、编码后变成了数字信号(PCM信号)，经信道传输到达接收端，先由译码器恢复出抽样值，再经低通滤波器滤出模拟基带信号m(t)。通常，将量化与编码的组合称为模/数变换器；而译码与低通滤波的组合称为数/模变换器。前者完成由模拟信号到数字信号的变换；后者则相反，即完成数字信号到模拟信号的变换。
2.3   多路复用
2.3.1 多路复用技术
	多路复用(Multiplex，简写为MUX)是指在一条物理线路上建立多条逻辑信道，使多个用户能共享某一线路。它能有效地节省线路的开销，降低通信的成本，提高系统的工作效率。这一共享原理在通信技术中十分重要，常用的多路复用有频分多路复用(FDM)、时分多路复用(TDM)和统计时分多路复用(STDM)。现在，在移动通信中还采用码分多址(CDMA)复用技术，在光纤上采用波分复用(WDM)技术。这章主要讨论FDM、TDM和STDM三种多路复用技术。
2.3.2 频分多路复用
频分多路复用(FDM)是一种共享通信线路的方法，早就成为载波电话系统、无线通信系统、卫星通信系统的技术基础。它将传输介质的可用频带划分为多个子频带，传输介质允许传输的最大带宽即是信道容量，每一子频带构成一个子信道。
现以在载波电话系统中应用频分多路复用(FDM)为例，说明其工作原理，如图2-5所示。通常话音频带为(300~3400)Hz，常用4KHz带宽计算。
 
图2-5  频分多路复用
频分多路复用技术应用仍然很广泛，例如，在日常生活中，收听的无线广播电台、收看的电视节目等，都是采用FDM方式工作的。
2.3.3 时分多路复用
TDM是将终端设备发送来的信号以交织的序列在一条线路上发送。时分多路复用器负责扫描相连的各终端以确定数据的发送，其扫描方法可以按位、按字节、按字符、按字等方式对每个终端进行扫描。这里侧重讨论隔位扫描和隔字符扫描。
1.隔位扫描多路复用是按位轮流采样各路的数字输入信号，然后按采样次序串行发送，形成交错的位图称为位流(比特流)。其特点是：
(1) 位流的前后都得加上同步位，两同步位之间的数据形成一帧；
(2) 数字数据传输效率约为90-98%；
(3) 无论各信源有无数据传送，均发送信源的时隙，当存在空时隙时，会浪费传输容量。
2.隔字符扫描多路复用是按字符轮流采样各路的数字输入信号，然后按采样的次序发送字符流。字符可设置成任意位数，其他特点类同隔位扫描多路复用。
在数字传输网中，现有准同步数字系列(PDH)，同步数字系列(SDH)。PDH是以脉冲编码调制(PCM)为基础构成的，我国现采用E系列制式，其数字信号分级：
?	一次群E1的数据速率为2.048Mbit/s (64Kbit/s 32=2.048Mbit/s)
?	二次群E2的数据速率为8.448Mbit/s
?	三次群E3的数据速率为34.368Mbit/s
?	四次群E4的数据速率为138.264Mbit/s
?	五次群E5的数据速率为565.148Mbit/s
而北美、日本等地区，采用的T系列分为DS0~DS4：DS0为64kbit/s；T1数据传输速率为24×64Kbit/s=1.544Mbit/s (DS-l)；T2传输速率为6.312Mbit/s (DS-2)；T3为44.736Mbit/s (DS-3)；T4为274Mbit/s(DS-4)等。
为了在干线网上有效地传送高次群的比特流，以利于全球范围的宽带综合业务数字网间互连，美国贝尔通信研究公司(Bellcore)最早提出了同步光纤网(SONET：Synchronous Optical NETwork)，后来成为美国国家标准ANYS T1.105~105。 SONET标准为应用光纤传输系统定义了线路传送速率的分级结构。以51.840Mbit/s (相当于PDH的E3/T3传输速率)为基础，对电信号来说，作为第1级同步传送信号，即STS-1(Synchronous Transport Signal -1)；对于光信号而言，则是第1级光载波，即OC-1 (Optical Carrier-1)。1988年ITU-T在SONET的基础上，经过修改，制定了相应的国际标准一同步数字系列(SDH： Synchronous Digital Hierarchy)，即G.707，G.708，G.709系列建议，随后又增加了十多条建议。SDH以155.520Mbit/s作为第1级同步转移模式，即STM-1(Synchronous Transfer Mode-1)，较高等级的STM-N则是N个STM-1的复用。
2.3.4 统计时分多路复用
	在分组交换网中，采用的分组多路复用技术，是基于统计分布规律而设计的一种动态时分多路复用方式。统计时分复用(STDM：Statistical Time Division Multiple)又称动态时分复用，或称异步时分复用，是一种按需分配媒体资源的方式，即当用户有数据要传输时才分配资源，若用户暂停发送数据时，就不分配，如图2-6(a)所述。为了比较，图2-6(b)给出了静态时分复用，即同步时分复用，它是一种固定分配资源的方式，即将多个用户的数据分别置于预定的时隙内传送。
 
图2-6 （a）统计时分多路复用和（b）同步时分多路复用
从图2-6(a)和(b)比较可见，设线路传输速率为19.2kbit/s，若用户终端数n=4，则采用静态时分复用方式时，传输的循环周期T= ，其中ti表示第i个用户所用的时隙。因此，每个用户的平均数据速率为4800bit/s；当采用动态时分复用时，每个用户的数据传输速率可高于平均速率，最高可达到线路传输速率19.2Kbit/s。但动态时分复用方式在各个线路接口处应采取必要的技术措施：
(1) 设置缓冲区，按需要存储已到达的分组；
(2) 设置流量控制，以利于缓和用户争用资源而引发的冲突。
2.4   数据通信的物理层接口
2.4.1 RS232C接口
RS232C接口是由美国电气工业协会(EIA)提出的参考标准，定义为数据终端设备(DTE)和数据电路终接设备(DCE)间的接口，在数据通信中应用非常广泛，如图2-7所示。
RS232C接口完成下列两项工作：提供DTE和DCE之间的物理连接；规定它的25个插脚的每个信号的含义。
 
图2-7 数据通信模式与RS232C接口
(1) RS232C的电气特性：确定接口的电压电平和电压变化的定时关系。
RS232C标准定义如下：
比-3更负的电压电平=二进制‘1’=传号
比+3更正的电压电平=二进制‘0’=空号
采用反逻辑，即外部特性与设备内芯片的电气特性相反，当二进制‘1’=传号时，经驱动电路反向输出比-3更负的电压电平，当二进制‘0’=空号时，经驱动电路反向输出比+3更正的电压电平，如图2-8所示。
 
图2-8 非平衡方式RS232C电气特性
(2) RS232C的机械特性：规定RS232C有25个插脚，引线做了具体安排：引线在每端都被捆扎成一根带端接插头的电缆；DTE和DCE必须各具有一个阴阳属性相反的插头，以便与该电缆连接。
(3) RS232C功能特性：DTE和DCE之间的连接必须包含数据传输引线、信号传输引线和控制引线以及其他重要的功能。 RS232C的功能分成以下四类：接地、数据、控制和定时。
(4)RS232C接口的三种应用：异步应用的RS332C，同步应用的RS332C，零调制解调器连接。
2.4.2 其他标准接口
1.V.24标准接口
V.24标准接口是由CCITT V系列建议之一，其功能大体与RS232C相同，唯一的区别在于插脚号和有关数据终端准备引线状态。 V.24标准对插脚采用lxx来编号，例如在RS232C上"数据终端准备"引线为插脚20，而在V.24上为电路108/1和108/2。
2.RS449接口
RS449接口比RS332有更多的引线和功能。RS232C标准的主要目的是将RS232C的电气特性、机械特性和功能特性分解成独立的文件。
3.V.35接口
V.35接口的一些特性如下：
(1) 34插脚连接器；
(2) 与V.24的设计相类似，但V.35具有平衡的数据和时钟信号；
(3) 较高的数据速率，但传输距离极限与RS232C相似。
4.X.21接口
X.21接口实现每根引线进行多路复用，完成多种功能。X.21为15插脚连接器，依赖于它所连接的设备要具有适当的智能，应用于公用数据网。它与RS232C的本质区别在于X.21接口要求DTE和DCE具有更多的逻辑功能和智能。
2.5  差错控制
2.5.1差错检测
侧重理解和应用奇偶校验，循环冗余校验码(简称循环冗余码)的检测方法。
1.奇偶校验
奇偶校验是在基于字符的通信(异步或同步)中采用的一种差错检测方法。它是在一个二进制字上加一位，以便检测差错。
?	在偶校验时，要在每一个字符上增加一个附加位，使含"1"的个数为偶数。
?	在奇校验时，要在每一个字符上增加一个附加位，使含"1"的个数为奇数。
接收端检测该校验位，以确定是否有差错发生。奇偶检验方法的缺陷:如果有两个数据位在传输中出错，接收端仍将可能无法检测出差错的数据。
奇偶检验检错适用于低速数据传输:通常偶检验常用于异步传输或低速传输，奇检验用于同步传输。
2.循环冗余检错
循环冗余码(CRC)是一种分组码。在一个长度为T的码组中有k个信息位和n个校验位，校验位的产生只与该组内的k个信息位有关。通常称这种结构的码为(T,k)码，此值k/T称为这种码的编码效率。
发送站将含k位数据通过移位寄存器(即除以一常数)，产生一个含n位的帧校验序列，后随数据位组成发送帧T。
接收站将收到的帧T仍除以同一常数P，若余数为0，则表示传输中没有出错。
2.5.2 差错控制
计算机通信中的差错控制主要用来提高数据传输的可靠性与传输效率，它涉及纠、检错编码理论与方法、数据信道中差错分布的统计特性，以及选择相应的差错控制方式。
计算机通信中的差错控制方式基本上可分为以下三类：
(1) 自动请求重发(ARQ)：接收端检测到接收信息有错时,通过重发发送端保存的副本以达到纠错的目的；
(2) 前向纠错(阻C)：接收端检测到接收信息有错后，通过计算，确定差错的位置，并自动加以纠正：
(3) 混合方式：接收端采取纠错混合，对少量差错予以自动纠正，而超过其纠正能力的差错则通过重发原信息的方法加以纠正。
不论哪种控制差错方式，都是以降低实际传输效率来提高其传输的可靠性。因此，在信道特性已经确定的条件下，差错控制的基本任务是寻求简单、有效的方法确保系统的可靠性。
目前，按码的构型可分为分组码和卷积码。常用的分组码有：恒比码、垂直水平奇偶校验码、记数校验玛、斜校法校验码、循环冗余校验码。其中卷积码则在前向纠错系统中应用较多，而循环冗余校验码在数据链路控制中应用最为普遍。

思考题答案
1、什么是基带信号？什么是宽带信号？信号的带宽与频谱有何关系？
答：将数字信号"1"或"0"直接用两种不同的电压表示，这种高电平和低电平不断交替的信号称为基带信号。
经过调制后的模拟信号是宽带信号。
信号的带宽就是它的频谱宽度。
2、奈氏准则与香农公式在数据通信中的意义是什么？
答：它们分别给出了无噪声信道和有噪声信道的最大传输速率。
3、什么是数据编码？简述三种常用的数字数据→数字信号的基带方式编码。
答：所谓数据编码是将模拟数据或数字数据变换成数字信号，以便通过数字信道传送出
去。常用的数据编码有：不归零编码、曼彻斯特编码、差分曼彻斯特编码。
4、何谓波特率和比特率？它们之间的关系是什么？
答：波特率（RB）是每秒发送的信号数，是调制速率；比特率（Rb）是每秒传输的二
进制位数。关系：Rb= RB log2V
5、信号在传输中，常遇到哪几种噪声？产生的原因是什么？
答：一般把噪声分为高斯白噪声、交叉调制噪声、串音及脉冲干扰噪声等。高斯白噪声
又称为起伏噪声或热噪声，它是由于导体中电子的热运动而产生的，存在于所有的电子设备中，其能量随频谱是均匀分布的，主要包括信道内元器件所产生的热噪声和散弹噪声等。脉冲干扰噪声是指外来的幅度大而持续时间短的干扰，它是一种无规则的时而安静时而突发的噪声，例如：电火花、电吹风、雷电、闪电干扰等形成的噪声。这类噪声的特点是突发的脉冲幅度大，但每个突发脉冲的持续时间短，并且相邻突发脉冲之间往往有较大的平静期。串音是指附近线路上的信号经电耦合而形成的干扰；交叉调制噪声是指当两个不同频率的信号共用一条传输介质时，若系统中有非线性元件存在，则会产生这两个信号频率的和、差及其整数倍频率的信号来，并会干扰相应频率范围内的正常传输信号。
6、请简述惠特克─卡切尼柯夫─香农模拟信号采样定理。
答：采样定理：如果对某一带宽(B)有限的时间连续信号(模拟信号)进行采样，采样频率
fs满足fs 2B，那么接收端根据这些采样值就能准确地确定恢复原信号。
7、模拟传输系统与数字传输系统的主要特点是什么？
答：在模拟传输系统中是采用模拟信号传送数据，该系统的特点是使用放大器来补偿信
号在传输过程中的衰减；在数字传输系统中，既可采用数字信号，也可采用模拟信号传送数据。数字传输系统的特点是在传输介质中插入转发器（Repeater）以补偿传输过程中信号的衰耗和抑制干扰。当采用数字信号时，转发器收到被干扰和衰减的数字信号后，恢复出原来的0、1信号序列，重新发送出去；当采用模拟信号时（假设这时模拟信号运载的是数字数据），转发器首先从模拟信号中恢复出数字数据，然后再产生一个新的无噪声模拟信号发送出去。
8、简述TDM的基本原理，并分析TDM与ATDM的区别与特点。
答：TDM是将终端设备发送来的信号以交织的序列在一条线路上发送。时分多路复用
器负责扫描相连的各终端以确定数据的发送，其扫描方法可以按位、按字节、按字符、按字等方式对每个终端进行扫描。
9、通信中的同步方式有几种？什么叫同步传输？什么叫异步传输？
答：数据传输的同步方式一般分为位同步、字符同步等。
同步传输中，在每块数据的开头设置专门的同步字符，它可以是一个字符或多个字符，
然后要求发送端和接收端在该帧数据传输的过程中保持同步。
	异步字符同步传输中，发送端可以在任意时刻发送字符，字符之间的间隔时间可以任意变化。该方法是将字符看作一个独立的传送单元，在每个字符的前后各加入1～3位信息作为字符的开始和结束标志位，以便在每一个字符开始时接收端和发送端同步一次，从而在一串比特流中可以把每个字符识别出来。
练习题
一、选择题
1．多路复用是（       ）。
A.在信道中增加带宽的过程		B.使多个数据源共享使用一个公共线路的技术
C.到邮局去寄信				D .通过时间共享频率的能力
2．"复用"是一种将若干个彼此独立的信号合并为一个可在同一信道上传输的（    ）。
A.调制信号		B.已调信号			C.复合信号			D.单边带信号
	3．设有一个频分多路复用系统，系统的频率为300~3000Hz，相连各终端的输入基带信号的频宽皆为制施，不考虑防护频带，试问该系统最多能允许的复用路数为（    ）。
A.7				B.6					C.13					D .15
4．设有一个同步时分多路复用系统，它与三个用户终端相连。其用户终端的数据速率分别为2400bit/s、2400bit/s和4800bit/S。试问该多路传输线路的数据速率最高为：（     ）。
A.2400bit/s 		B .4800bit/s 			C.7200bit/s 			D.9600bit/s
5．在统计时分多路复用系统中，当某一输入端状态空闲时，将会（     ）。
A.发送一个"1"或"0"字符			B.发送一个控制字符
C.发送一个空字符					D.不发送数据
6．在数字信号分级中，DS1信号包含的数字化话路的路数为（    ）。
A.12			B .24		C .48		D .96
7．下列关于T1多路复用器说法：（       ）是不正确的。
A.它必须通过信道服务部件与线路连接		B.它可以脱离数字信号分级而单独使用
C.它不能处理输入的数字化话音				D .它可以在点对点的全双工线路上工作
8．CCITT建议有两种PCM体制，其中E1的数据率为（      ）Mbit/s，共有（     ）个时隙。
A.1.544,24		B.1.544,32		C.2.048,24		D.2.048,32
	9．若在规定的时间间隔内，以高于（      ）最高有效信号频率的速率对信号f(t)进行采样，那么，这些采样值包含了原始信号的全部信息。
A.一倍			B.两倍			C.三倍			D.四倍
10．模拟信号的数字传输的理论基础是：（   ）。
A.ASK调制		B.时分复用		C.采样定理		D.脉冲振幅调制
11．脉冲代码调制的传输过程：先将模拟信号经采样、量化、编码后变成了数字信号，经信道传输到接收端，先由译码器恢复出采样值，在经（     ）滤出模拟基带信号。
A.低通滤波器		B.高通滤波器			C.串并变换器			D.中继器
12．PCM的采样速率为每秒8000次，这是因为（    ）。
A.这个速率代表PCM技术所能支持的最大速率		
B.这个速率确保了唯一性
C.这个速率确保了语音信号能够无失真地重构
D.这个速率通过采样芯片很容易获得
13．一般来说，数字传输比模拟传输能获得较高的信号质量，这是因为（     ）。
A.中继器再生数字脉冲，去掉了失真；而放大器在放大模拟信号的同时也放大了失真
B.数字信号比模拟信号小，而且不容易失真
C.模拟信号是连续的,不容易发生失真
D.数字信号比模拟信号容易采样
14．局域计算机网传输的主要编码方案为（     ）。
A.格雷码			B.补码			C.曼彻斯特码			D.不归零码
15．码通常是：（     ）。
A.每位字符8位						B.每位字符8位或7位
C.发送方和接收方同时约定				D在所有计算机中都相同
16．ASCII码：（     ）。
A.是一种七位代码，有128种组合			B.是8位EBCDIC码的子集
C.只在美国和加拿大使用					D.第一个电编码系统
17．当采用奇校验编码时，每个符号中含有0的个数是（      ）。
A.奇数		B.偶数		C.未知数		D.以上都不对
18．当采用偶校验编码时，每个符号(包括校验位)中含有1的个数是：（     ）。
A.奇数		B.偶数			C.未知数			D .以上都不对
19．对于低速传输来说，奇偶校验是一种令人满意的检错法，通常奇校验用于（     ）。
A.异步传输		B.低速传输			C.同步传输		D.以上都不对
	20．一维奇偶校验码适合于（     ）。
A.检测随机错误					B.不仅检错，而旦可以纠错
C.检测突发错码					D.检测两个错码
21．在理论上，各种调制方式的频带利用率都存在着极限，对二进制频带传输来说，它的频带利用率是（     ）bit/s?Hz。
A.2			B.1			C.O				D.3
答案：
1、B		2、C		3、B		4、D		5、D
	6、B		7、C		8、D		9、B		10、C
	11、A		12、C		13、A		14、C		15、C
	16、A		17、C 		18、B		19、C		20、A
	21、B

二、填空题
	1、将下列描述与设备类型相匹配。一个设备类型可以用一次、多次或根本不用；而对于每一个描述仅有一个正确的设备类型。
	设备类型：	a.	DCE
				b.	DTE
	描述：
	（1）实际地处理和使用数据								          
	（2）例子包括调制解调器或数字服务装置					          
	（3）处理信号，使其与线路规范相一致						          
	（4）例子包括终端和主计算机								          
	2、把下列描述与复用类型相匹配。每一种复用类型可以使用一次、多次或根本不用；而对于每一个描述仅可以有一个正确的复用类型。
	复用类型：	a.	频分复用
				b.	时分复用
				c.	统计复用
	描述：
	（1）免除了对调制解调器的需求，因为它使用模拟技术				          
	（2）智能多路复用，能够最大限度地使用线路						          
	（3）把通道划分成若干个较慢的窄的子信道							          
	（4）把固定的时隙分配给每条传输线路，不管它的用户是否有数据要传输
																	          
3、根据RS-232-C标准，在传送每一个字符或每一比特块之前，DTE都要把       引脚置成ON状态，DCE作为响应动作把        引脚也置成ON状态。而在每一字符或比特块传送结束时，这两个引脚都会被关闭。如果在这里发生的握手过程是基于字符的，则可以推断，与RS-232-C相邻的高层采用        步协议；如果在这里发生的握手过程是基于比特块的，则可以推断，与RS-232-C相邻的高层采用        步协议。
4、为了实现长距离传输，模拟传输系统需要使用       来增强信号，而在数字传输系统中，则使用      。
5．数字调制技术的三种基本形式是     、      和     。
6．采用曼彻斯特编码的100Mb/s局域网的码元传输速率为      Baud。
7．模拟数据的数字化转换过程包括     、      和      三个步骤。
8．分组交换的具体方式可分为    方式和         方式。
答案：
1．（1）b    （2）a    （3）a    （4）b 
2．（1）a    （2）c    （3）a    （4）b 
3．RTS			CTS			异     同
4．放大器			中继器
5．移幅键控		移频键控		移相键控
6．200M
7．采样		量化		编码
8．虚电路		数据报
 
第三章 计算机网络体系结构
【学习目的】
	1、了解开放系统互连参考模型中的若干重要概念。
	2、熟悉OSI/RM各层协议的功能及基本原理。
	3、掌握流量控制与差错控制的基本原理。	
【重点综述】
3.1   网络体系结构概述
3.1.1 分层次的体系结构 
	计算机网络也采用了层次结构的方法，每一层都完成某些特定的功能。每一层的功能都是向它的上一层提供一定的服务，并把这种服务是如何实现的细节对上层屏蔽起来。其优点：灵活性、层与层的独立性。
	一般将网络中的各层和协议的集合，称为网络体系结构。如SNA、DNA、OSI等。
3.1.2 开放系统互连参考模型 
	OSI参考模型只定义了分层结构中的每一层向其高层所提供的服务，它提供了一个概念化和功能化的结构。ISO/OSI参考模型从下至上定义了物理层、数据链路层、网络层、传输层、会话层、表示层、应用层七层。
	各层的主要功能简介：
（1）物理层(Physical Layer)：功能：完成相邻节点之间原始比特流的传输，分如下四个方面研究：机械特性：连接器形状，DB25；电气特性：正、负逻辑，传输介质、速率、距离等；功能特性：每一根信号线的功能定义；过程特性：完成特定功能时，各信号的工作过程；例如：EIA RS-232-C， RS-449，RS-422，RS-423，RS-530；CCITT V.24，V.28，V.35，X.21，X.3，X.28，X.29；CCITT 10Base5，10Base2，10BaseT；
（2）数据链路层(Data Link Layer)：功能：完成相邻节点之间数据的可靠传输；主要是解决：成帧(frame)、差错控制、流量控制；例如：SDLC，HDLC，LAPB；LAN的数据链路层又分为两个子层：介质访问子层（MAC）、逻辑链路子层（LLC）。
（3）网络层(Network Layer)：功能：完成两个主机之间的报文的传输；主要解决：报文(packet)传输、主机寻址、路由选择、拥塞控制、网络互联、网络计费；例如：IP、IPX。
（4）传输层(Transport Layer)：功能：在两个主机的不同进程之间提供无差错和有效的数据通信服务；主要解决：进程寻址、流量控制、差错控制、服务质量QoS、多路复用和分解；例如：TCP/UDP、SPX。
（5）会话层(Session Layer)：功能：完成用户进程之间的会话管理；主要解决：同步、令牌管理；例如：OSI’s 会话层协议、SUN’s RPC；
（6）表示层(Presentation Layer)：功能：完成数据格式转换、数据加密/解密、数据压缩/解压；例如：OSI ASN.1。
（7）应用层(Application Layer)：功能：提供访问网络的各种接口和应用层协议；例如：E-mail、Telnet、FTP、WWW、BBS、Gopher、Achieve、WAIS。
3.2  OSI/RM中的若干重要概念
3.2.1 协议和接口
网络中用于规定信息的格式以及如何发送和接收信息的一套规则称为协议；
	网络中上下层之间传递数据的约定称为接口；
3.2.2  PCI、SDU和PDU
	（N）PCI是第N层协议控制信息。（N）SDU是第N层的服务数据单元，它是供(N+1)层与(N)层间接口用的数据，只要求在(N)连接的两端保持其大小，而不管在传送过程中还要经过什么变化。因此,一个(N)层SDU就是(N)服务所要传送的逻辑数据单元。
(N)PDU为第N层的协议数据单元，即不同站点的第N层对等实体之间，为实现第N层协议所交换的信息单元。
上述三种数据单元的关系:在最简单的情况下,由于(N)层的服务数据单元(N)SDU就相当于(N)层的用户数据，所以(N)SDU和(N+1)PDIJ对应。而 (N)PDU=(N)PCI+（N）SDU=(N)PCI+(N+1)PDU
但是,在许多情况下,服务数据单元和协议数据并不等同,当(N)SDU较长,而(N)协议所要求的(N)协议数据单元(N)PDU较短时,就要对(NmDU进行分段处理。然后,再分别加上不同的协议控制信息,形成不同的(N)PDU来传送;当PDU所要求的长度比SDU大时,也可以将几个SDU及其相应的PCI合并,成为一个PDU来传送,这就是"合块"的情况。
在物理层、数据链路层、网络层和运输层,其(N)pnu分别是指比特、帧、分组和报文。
3.2.4 面向连接和无连接服务
面向连接服务(connection-oriented)，类似电话服务；每次数据传输要经过连接建立、数据传输和连接撤销三个过程。
在数据传输过程中，各数据单元不携带目的(destination)地址，而使用连接号。接收方接收的数据与发送方发送的数据次序一致且不发生错误。
无连接服务(connectionless)，类似邮政服务；每个数据单元携带完整的目的地址并单独传送，不保证顺序、正确性
3.2.5、服务原语
	是指服务用户与服务提供者之间进行交互时所要交换的一些必要信息。OSI/RM规定了四种服务原语类型。如表3-1所示：
表3-1  4种服务原语及其意义
3.3  物理层
	物理层主要负责在物理链路上传输非结构的位流;提供为建立、维护和拆除物理链路所需要的机械的、电气的、功能的和规程的特性。
1.机械特性：机械特性规定了物理连接时采用的可接插连接器的规格、尺寸、连接器中引脚(Pin)数量等。
2.电气特性：电气特性规定了在物理连接传输二进制位流(比特流)时线路上信号电压高低、阻抗匹配情况、传输速率和距离的限制等。
物理层接口的电气特性主要分为三类：非平衡型、新的非平衡型和新的平衡型。
?	非平衡型的信号发送器和接收器采用平平在首方式工作，信号用一根导线传输，所
有信号公用一根地线；信号传输速率限于20kbps以内，电缆长度限于15m以内。
?	新的非平衡型的发送器采用非平衡方式工作，接收器采用平衡方式工作，信号用一
根导线传输，所有信号公用两根地线:随着传输速率的提高，传输距离将缩短。
?	新的平衡型的发送器和接收器均以差分方式工作，信号用两根导线传输，信号的电
平由两根导线上信号的差值表示；随着传输距离的缩短，传输速率提高。
3.功能特性：功能特性规定了物理接口上各条信号线的功能分配和确切定义。物理接口上的信号线通常分为4类:致壁、控制、定时和地垒。
4.规程特性：规程特性定义了各信号线的工作规则和先后顺序。
3.4  数据链路层
数据链路层的作用：（1）帧同步，（2）流控，（3）差错控制，（4）寻址，（5）同一链路上的数据和控制信息的识别，（6）链路管理。
3.4.1 链路控制技术
数据链路层引用流量控制(Flow Control)技术，其目的是确保发送站的发送速率不能超过接收站接收帧的速率，防止缓冲区溢出。
两种基本的流控技术：停-等流控和滑动窗口流控。
1.停-等流控
停-等(stop -and -wait)流控是最简单的数据链路层流量控制方法，其基本原理：发方发出一帧后，必须停止发送且得等待收方发回的确认，才能接着发下一帧。存在问题是链路的利用率低。
2.滑动窗口流控
"滑动窗口"机制是实现数据帧的顺序控制的逻辑过程。要求通信两端结点(或称结点)设置发送存储单元(缓冲区)，用于保存已发送但尚未被确认的帧，对应着一张连续序号列表。实质上，这也等效成一个先进先出(FIFO：First In First Out))的队列，如图3-1所示。
 
图3-1 滑动窗口的概念图
图中所示的允许发送但未收到确认的序号队列的界，称为发送窗口。其上界和下界分别称为发送窗口的上沿H(W)和下沿L(W)，上沿与下沿的区间定义为窗口尺寸W。设WT为发送窗口的尺寸，这表示要占用存储单元的数量。同理，在接收端也可设置类似的接收窗口，设WR为接收窗口尺寸，指示期待接收的帧序号。
窗口尺寸W的选择与信道的数据速率以及传输延迟都有关，还与编号的位数有关。若用n位编号，可以编2n个序号，从0到2n-1，其中最大序号值Smax=2"-1。经常选用的n值为3或7。当n=3时，序号可为(O~7)，模8循环使用；当n=7时，序号可为(0-127)，模128循环使用。
发送窗口是用来对发送端进行流量控制的，发送窗口尺寸WT表示在没有收到对方确认的条件下发送端可连续发送的帧数。就停止等待协议而言，按照窗口尺寸的概念，其WT=1。这意味着停止等待协议在发出一个数据帧后，没有收到对方确认的条件下，就不能连续发下个数据帧。
现在来解释图3-1中滑动窗口的流量控制方法。假定其发送窗口尺寸WT=5，按定义这表明在没有收到对方确认的情况下，发送端可连续最多发5个数据帧。在结点初始化后，图3-1的发送窗口内包含5个序号，即0向4。当发送端依次发完了0~1号数据帧，而尚未收到确认信息之前，应保留缓冲区内用户信息，参看图3-1(a)。此时窗口的下沿L(W)=0，而窗口的上沿H(W)=4。设最后收到的确认帧的N(R)=2，则表示发送的帧编号为0、1号的帧已全部正确被对方所接收，收方期待接收序号为2的帧。这时将收到帧的N(R)作为窗口的下沿L(W)=2，则窗口上沿H(W)=W+N(R)-1(模8)=6，表示现在可以发送的数据帧编号为2~6，整个窗口滑动了一个区域，参看图3-4(b)。如果发送帧的序号N(S)等于窗口的上沿时，则窗口关闭，应停止发送，等待确认。待接收到新的数据帧或确认帧，它的N(R)大于上次的N(R)时，则窗口的下沿向右移动，那样又可继续发送N(S)等于内存变量V(S)的数据帧。正因为窗口按照上述规律不断地向右滑动，故称之为滑动窗口机制的流量控制方法。
对于接收窗口的设置与发送窗口有类似原理，但接收窗口是表明接收端允许接收的数据帧的序号范围。因此，只有在接收窗口内的数据帧才是期望接收的，换句话说，接收窗口之外的帧，看作非法而丢弃。
3.4.2 自动重复请求(ARQ)
	自动重复请求(ARQ)有三种标准：
1.停-等ARQ：停-等ARQ是基于停-等流控技术，从两方面来分析：
(1) 正常情况
所谓正常情况是指在传输过程中，任何帧都不会出错或被丢失，这是一种理想情况。如图3-2所示，主机A将原文送到结点A，以数据帧格式通过数据链路传到结点B。结点B收到数据帧后，经验证无误，应立即执行：
?	把数据帧送往主机B；
?	向结点A回送一个确认帧(ACK)。
 
图3-2 停-等AQR
(2) 非常情况
现在，我们再来讨论结点A与B之间的数据传输有可能出现差错的情况,具体表现在以下两方面：
?	结点A向结点B发送数据帧I时，在传送中受到干扰或丢失；
?	结点B收到数据帧后，回送出ACK帧，在B→A的传输过程中，受到干扰或丢失。
这两方面出现的问题，其结果都会使结点A将一直等不到ACK确认帧，所以结点A也就永远无法继续发送下一个帧，这就形成了死锁(dead lock)。
解决上述问题的办法是：在结点A设置一个定时器T1，它的预定时间为t0。当发出一个数据帧后，启动定时器飞。若在预定时间to内，结点A能受到ACK，则可继续正常地传送下一个待发帧。若在预定时间内收不到ACK，称超时(time out)，则结点A由此可判定应重发数据帧。
2.连续ARQ协议：连续ARQ(Go-Back N ARQ)协议的的工作原理是应用滑动窗口机制的流量控制方法，改进了停止等待协议的缺点，在发送一个数据帧后，不是停止发送，而是允许继续发送多个数据帧，致使通信的效率得到了提高。
在连续ARQ协议中，所用的发送窗口尺寸WT应大于1，且接收端是有序接收的。我们知道，允许连续发送数据帧的个数取决于窗口尺寸的大小。一般WT 2n-1，其中n为编号的位数。
 
图3-3 连续ARQ协议的工作过程
现举例解释连续ARQ协议的工作过程。如图3-3所示。假设结点A向结点B发数据帧，设发送窗口的尺寸WT=5，表明结点A可连续发送5个数据帧，其序号为0~4。当结点A发完0号帧后，可以继续发送后续的1号帧、2号帧等，对于每一帧分别按顺序编号。而接收窗口的尺寸WR=1。
?	又设结点B在收到一帧后立即应答，可想而知，应指明是对哪个帧号予以确认或
否认，因为结点A已发了多个帧。
?	现在假设2号数据帧在传输中出了差错，于是结点B发送否认帧NAK2(实际上用
REJ：Reject，表示帧拒绝)，它到达结点A时，结点A正在发送4号帧。结点A根据收到的R目中附带的N(R)=2，就可知道应当重发2号帧，但应在4号帧发送完后才能进行2号帧的重发。
?	结点B应答NAK2后，接着陆续收到34号帧，尽管这些帧号是正确到达帧的序号，
但结点B也要将其丢弃。由于有序接收的约束,结点B期待的是2号帧。可知连续ARQ协议有这么一个特征：结点一旦发现出错的数据帧后，其状态变量V(R)值一直不变，等待该帧序号的到达。此例中的V(R)=2，因此任何不等于2的N(S)都不加以处理。
?	结点A在发完4号帧后，还要向回走，重传从2号帧开始的所有帧，所以连续ARQ
协议又称为GO -back N ARQ，它指的是出现差错必须重传时，要向后走N个帧，然后开始重传。
由此可知，连续ARQ协议应允许连续发送多个数据帧，提高了吞吐率；但重传的方法(即把原己正确的帧也不得不重传)又增加了开销。当数据链路不太可靠(误码率大)的网络环境中，连续ARQ协议的通信效率并不会改善。
值得注意的是，在连续ARQ协议中，为了减少接收端开销，不必象图3-6所示的那样每收到一个正确的数据帧就立即回送一个确认帧(ACK)或否认帧(NAK)，而是等连续收到好几个正确数据帧后，只对最后那个帧发一个确认信息即可。用N(R)表示接收端期望接收的帧序号，也表明【N（R）-1】号的帧及此号以前的各个数据帧均已正确无误收到。例如，如图3-3所示发送窗口WT=5，发送端结点允许连续发送0~4号帧，然后窗口关闭，等待确认；而接收端结点每收到一个正确序号的帧，用V(R)与N(S)相比。如果相等，V(R)←V(R)+1(模n)。由于接收是有序的，每当V(R)增1后，则表示前一帧已判为正确帧。若不相等，收端结点应立即回送一个否认帧。
当接收端结点接收了所有应该收到的序号，如果接收端恰有数据帧传送到结点A，则可由数据帧将N(R)信息捎带传到结点A。如果接收端尚未有数据帧要传送，则应送出确认帧带上N(R)值。
问题是应该等待多久才送出确认帧。为确保应答及时，可设置一应答定时器T2，其预定时间应小于T1的预定时间。每接收一数据帧，经判断为正确帧后，就启动飞。若结点B有数据帧发送，则可复位T2，并发出捎带N(R)的数据帧。如一时无数据要发，则等待T2超时后即送出确认帧。
3.选择重传ARQ协议
为了进一步提高信道利用率，减少重传的帧数，可以设法只重传有错的帧或者是定时器超时的帧，这就是选择重传ARQ(Selective -Reject ARQ)协议。在该协议中，接收窗口的尺寸WR必须加大，使得接收序号不连续的但仍在接收窗口内的那些帧可暂存一下，以便等待所缺序号的帧经重传到之后再一并送交主机。由此可见，这种协议所允许的发送窗口的尺寸WT和接收窗口的尺寸WR均可大于1，但应满足下式：WT+WR ≤2n
接收窗口的约束条件为：WR ≤2n -1≤WT ，由此可得，WR的最大值等于2n-1。若用3bit编号，取WR max=2n-1=4时，可求得WT=4。
这种选择重传ARQ协议可以避免重传那些已经正确到达对方的数据帧，但要求占用更多的缓冲空间，对于存储单元大幅下降的今天，还是很有价值的。
3.4.3 高级数据链路控制
1.HDLC基本特征
HDLC定义了三种类型的站、两种配置和三种数据传送模式。
?	三种类型的站为:主站、从站、复合站。
?	两种配置为：不平衡配置，可用于点-点链路或多点链路；
平衡配置，只能用于点-点链路，链路两端要求为复合站。
?	三种数据传送操作模式为：
(1) 正常响应模式(NRM)，属于不平衡配置，只有主站才能发起向从站的数据传输，而从站只有在主站询问(即发送命令帧)时才能回答响应帧；
(2) 异步响应模式(ARM)，也属于不平衡配置，这种方式允许从站发起向主站的数据传输，即从站不必等待主站发命令，就可向主站发响应帧。但主站仍负责全程的初始化、差错恢复和逻辑拆线(释放)；
(3) 异步平衡模式(ABM)，属于平衡配置，任一复合站均可发送、接收命令/响应帧，无询问的额外开销。
2.HDLC的帧结构
如上所述，数据链路层的数据传输是以帧为单位，在OSI中称为数据链路协议数据据单元，通常称帧，一个帧的结构有固定的格式，如图3-4所示。
 
图3-4 HDLC帧格式
(1)标志字段(F)
标志字段在帧的两端用一组合型字符为帧的定界符，即011111100当连续传输两帧时，前一帧的结束标志F可设置成为后一帧的起始标志。在链路上的各站，采用硬件搜索标志码，作为一个帧的开始和结束。在接收一帧的过程中，站继续搜索帧的标志码以确定该帧是否结束。显然，意味着帧标志码不允许在帧内出现。为确保F的唯一性，在发送端采用"零比特插入"方法；除帧标志F外，对帧内其它字段进行监测，当发现有5个连1时，则立即插入一个0。在接收端，进行反变换，即检测比特流，在连续5个1后，若后一个比特为0，则自动删除，恢复为原比特流。这祥确保在两个F之间不会出现与F字段相同的比特组合，实现了透明传输。在接收端，若连续5个1后的比特为1，则有待进一步判断，因为有可能是插人的0比特在传输过程中错成为1，也可能出现结束帧标志的前兆。在此情况下，收端尚需通过对第7个比特位的属性来作出判决。若为0，则认定为标志码；若为1，则认定为帧放弃比特序列，如图3-5所示。
 
图3-5 接收端帧的判决过程
(2)地址字段(A)
地址字段的使用取决于特定的过程类别。在使用不平衡配置传送数据时，地址字段总是写入从站的地址，但在平衡配置时，则总是填人应答站的地址。此外，某些地址可以分配给一个以上的站，形成组(group)地址。全1地址为广播方式，全0地址是无效地址。8位地址字段的有效地址可达254个，对一般的多点链路是足够的，但考虑有些特殊链路(如无线分组网)的用户较多，可以扩展地址字段。每个8bit地址段的低位比特指明：如为1，是最后一个字节；如为0，则表示下一字节的高7位亦为地址。
(3)控制字段(C)
控制字段是HDLC的关键字段，许多重要的功能都靠控制字段来实现。 HDLC有3种不同类型的帧格式，如图3-8所示，即信息帧、监视帧、未编号帧，分别简称为I帧、S帧和U 帧。在控制字段8bit中，b0比特为0，则定义为I帧；b0=1，bl=0，为S帧，b0=1，b1=1，为U帧。
?	信息帧(I帧)
信息帧用于数据传送，它包含有信息字段。在控制字段中，b1-b3比特为N(S)，b5~b7比特为N(R)。 N(S)表示当前发送的信息帧的序号，N（R）表示该站所期望收到的帧的发送序号。为了保证协议正常工作，在全双工通信的收发双方均设置两个状态变量V(S)和V(R)。在采用连续ARQ协议时，每发送一个新帧，必须将当前V(S)和V(R)值分别填人控制字段的N(S)和N(R)。发送1帧后，可将V(S)加1(模8)。每当需要重发时，可从缓存队列中依次取出已发过而未收到确认的帧，其序号N(S)仍用原序号，与当前V(S)之值无关。但重发旧帧时，其接收序号N(R)应予以更新，使其与V(R)一致。
B4比特称作P/F比特。这个比特的功能较多，在命令帧中是探询位(P位)，在响应帧中是终止位(F位)。探询位用于引导对端发送响应，终止位用于对探询位为l的命令帧作出的响应，即收到探询位为1的命令帧后，应尽快发送终止位为1的响应帧。有了P/F比特，可使HDLC规程的应用更加灵活。若两个复合站全双工通信时，一方随时可使P=1，这时对方应立即回答且置F=1。如果不用P/F比特，那么收方不一定马上会发送确认帧，有可能在收方要发送信息帧时，把确认信息N(R)捎带出去。
?	监视帧(S帧)
监视帧用于监视和控制数据链路，完成信息帧的接收确认、重发请求和暂停发送请求等功能。监视帧没有信息字段，全帧长度(含F标志)为48bit。监视帧共有4种，由b2 b3比特组成。前3种用在连续ARQ中，最后一种只用于选择重发ARQ中(较少使用)。
S帧没有含用户的数据信息字段，因而不需要N(S)。但S帧中的N(R)特别有用。在RR(Receive Ready)、RNR(Receive Not Ready)帧，意味着序号为【N{R}-1】及以前的各帧均已收妥，相当于以前讲过的确认帧ACK。然而，RR、RNR帧还具有流量控制的作用。 RR帧表示接收端准备妥，期望接收下个帧，其帧序号为N(R)，允许对方可以继续发送。然而，RNR帧则表示因收方忙(如来不及处理收到的帧，或缓冲器已存满等因素)，希望对方暂停发送。REJ(REJect)帧表示帧拒绝，相当于否认帧NAK，其中N(R)表示所否认的帧号，要求发送端从N(R)指示的帧号开始重发，但REJ帧也确认了【N(R)-1】及以前的各帧均已收妥。SREJ(Select REJect)帧表示选择性帧拒绝，通知发送端只需对出错的帧加以重发，应该重发的帧序号由N(R)来指明。
?	未编号帧(U帧)
未编号帧用于附加的数据链路控制及管理，它本身不带编号，可以在任何需要的时刻发出，而不影响带序号的信息帧的交换顺序。它由5个比特位(即M1,M2)来表示不同的未编号帧(共32种组合)。
(4) 信息字段(I)
信息字段允许可变长的任意比特数，但应是8比特的整数倍。
(5) 帧校验序列(FCS)
帧校验序列(FCS)是一个16bit的序列，它用于帧的差错检验。帧校验序列采用循环冗余校验，生成多项式为CCITT V.41建议的P(x)=x16+x12+x5+1。
3数据链路控制的操作
HDLC执行数据传输控制功能，一般可分3个阶段：(1)数据链路的建立；(2)信息帧传送；(3)数据链路释放。
 
图3-6 复合站的数据链路建立与释放过程
数据链路信道分工作和空闲两种工作状态。当主站、从站或复合站正在发送一个帧，或者发连续7个1而放弃某一个帧，或在帧之间连续发帧标志序列来填充，这时均称为工作状态。如果一个站检测出至少15个比特为连续的1，表示远程数据站已停止其继续传输的要求，数据据信则处于空闲状态。
图3-6为两个站都是复合站的点-点数据链路建立与释放过程。复合站中的一个站先送出SABM(P=1)的未编号帧(命令帧)，待对方回送一个UA(F=1)的响应帧后，则完成链路的建立过程。这时双方设置的V(S)、V(R)值为0。接着开方就可进行双向的信息传送。
由于两站是复合站，任何一站可在数据传送结束后提出释放要求，即发出DISC(P=1)的命令帧，在对方用UA(F=1)响应后，链路释放过程完成。若B站发出释放命令，要A站作出响应，则地址字段应填人A站的地址。
3.5   网络层
3.5.1 网络层所提供的服务
    1.面向连接服务
面向连接服务就是在数据交换之前，必须先建立连接，当数据交换结束后，则应该终止这个连接。面向连接服务在网络层中又称为虚电路服务。“虚”表示：虽然在两个服务用户的通信过程中没有自始至终都占用一条端到端的完整物理电路，但却好象占用了一条这样的电路。
2.无连接服务
在无连接服务的情况下，两个实体之间的通信不需要先建立好一个连接，因此其下层的有关资源不需要事先进行预定保留，这些资源是在数据传输时动态地进行分配的。无连接服务大致有以下三种类型：
⑴ 数据报（Datagram） 它的特点是发完了就算，而不需要接收端做任何响应。
⑵ 证实交付（Confirmed Delivery） 它是一种可靠的数据报服务。这种服务对每一个报文产生一个证实给发方用户，这种证实只能保证报文已经发给远端的目的站了，但并不能保证目的站的用户已经收到了这个报文。
⑶ 请求回答（Request Reply） 这种类型的数据报服务是收端用户每收到一个报文，就向发端用户发送一个应答报文。
    3.虚电路服务与数据报服务的对比
    表3-2归纳了虚电路服务与数据报服务的一些主要区别。
表3-2  虚电路与数据报的对比
	虚 电 路	数 据 报
端到端的连接	必须有	不要
目的站地址	仅在连接建立阶段使用	每个分组都有目的站的全地址
分组的顺序	总是按发送顺序到达目的站	到达目的站时可能不按发送顺序
端到端的差错处理	由通信子网负责	由主机负责
端到端的流量控制	由通信子网负责	由主机负责
  3.5.2 路由选择算法与协议
1.设计目标
一个好的路由选择算法通常具有下列一个或多个设计要求，如：正确性、简易性、低开销、算法应具有较强的稳定性、灵活性和强壮性，能适应通信量和网络拓扑的变化，具有自适应性；算法应当对所有用户是公平的，应以最低的费用来实现“最佳”的路由算法。所谓“最佳”只能是相对于某一种特定要求下得出的较为合理的选择而已。
2.最短路径路由选择
当整个网络拓扑和各链路长度一定时，任意给定网络中的两个结点，求它们之间的最短路径，若将已知各链路的长度改为链路时延或费用，这就相当于求任意两结点之间具有最小时延或最小费用的路径，因此，求最短路径的算法具有普遍的意义。
⑴ Dijkstra算法
该算法有时也称为前向搜索算法（Forward Search Algorithem），即从源结点搜索到网络中其他各结点的最短路径，每搜索一次即在最短路径上增加一个结点；当所有结点都搜索到时，搜索即告结束。
⑵ 反向搜索算法（Backward Search Algorithem）
该算法是从所有结点向目的结点搜索，每个结点根据和它相邻的各结点的状态信息，确定出到目的结点的最短路径距离，然后反复搜索和更新所得结果，当结果不再变化时，搜索即告结束。
3.非自适应路由选择
常用的有以下五种：
    ⑴ 洪泛法（flooding） 就是当某个结点收到一个不是发给它的分组时，就向所有与此结点相连的链路转发出去。
⑵ 有选择的洪泛法 它与洪泛法的区别是仅在满足某些事先确定的条件下的链路上转发分组，因此分组不会向不希望去的方向转发。
⑶ 固定路由法  就是在每个结点上保持一张表，表上标明对每一个目的地址应当走哪条链路进行转发。
⑷ 随机走动法(random walk)  此方法特点是当分组到达某个结点时就随机地选择一条链路作为转发的路由。
⑸ 查表选择路由(directory routing)，该方法是事先在每个结点的内存中设置一个路由表，路由表中给出几个可供采用的输出链路，并且对每条链路赋予一个概率。当一个分组到达该结点时，此结点即产生一个从0.00到0.99的随机数，然后按此随机数的大小，查表找出相应的输出链路
	4.自适应路由选择
    ⑴ 孤立的路由选择策略  就是各结点只根据本结点的状态来决定路由选择，而不用和网络中的其他结点交换状态信息。
⑵ 分布式路由选择策略  该方法是每个结点周期性地从相邻的结点获得网络状态信息（链路排队情况、网络拓扑变化等），同时也将本结点做出的决定周期性地通知周围的各结点，以使这些结点不断地根据网络新的状态更新其路由选择决定。整个网络的路由选择经常处于一种动态变化的状况。
    ⑶ 集中式路由选择策略  该策略的核心是网控中心NCC。NCC负责全网状态信息的收集、路由计算以及路由选择的实现。
    ⑷ 混合式路由选择策略  为了克服集中式路由选择的缺点，在一个网络中可以综合使用几种路由选择策略。
5.路由选择信息协议RIP
路由选择信息协议RIP是一种简单的距离矢量协议，它利用“跳（Hop）”数作为其计量标准。RIP的路由选择只是基于两点间的“跳”数，穿过一个路由器认为是一跳。RIP选定的路由总是距离目的地址跳数最少的。
6.开放最短路径优先协议OSPF
OSPF路由选择协议是由互联网工程部（IETF）内部网关协议IGP工作组专为互联网络协议（IP）开发的，随着RIP越来越无力为大型、复杂的互联网络服务，OSPF便应运而生。
7.内部网关路由选择协议IGRP
IGRP是一种距离向量的内部网关协议（IGP），它要求所有路由器通过定期发往相邻路由器的路由选择更新消息发送全部或部分路由选择表，当通过网络的路由选择信息激增时，路由器能计算出互联网络中所有结点的距离。
8.增强型IGRP
增强型IGRP是IGRP演变而来的，它能够更好地适应各种大规模互联网络工作方式的要求，并提供了与IGRP路由器互操作的能力。
9.外部网关协议EGP
两个交换路由选择信息的路由器若分别属于两个自治系统，则称为外部邻站。
10.边缘网关协议BGP
BGP是TCP/IP网络中执行域间路由选择并侧重于确定地址路径的协议。
3.6 流量控制
3.6.1 流量控制的基本概念及意义
流量控制的功能主要是：防止网络因过载而引起吞吐量下降和时延增加；避免死锁；在互相竞争的各用户之间公平地分配资源等。
在计算机网络中,流量控制可以划分为段级、人口级到出口级、进网级和运输级等四种级别。
3.6.2 段级流量控制
在数据链路层中，控制相邻两结点之间帧的流量，以避免出现局部的缓冲区拥塞和产生死锁。又分为链路段级和虚电路级。其控制方法一般用信道队列限制法，即将输入到这个结点的分组按照它们的转发路由进行分类排队，当某一队列中的待转发的分组数超过一个预定的极限值时，则丢弃该分组。从而克服网络吞吐量下降、出现不公平现象的缺点，防止产生直接死锁。也可采用结构化缓冲池的方法来预防直接和间接死锁。
3.6.3 人口到出口级流量控制
在网络层中，控制源结点向目的结点发送的分组数量，以避免在目的结点出现缓冲区拥塞。控制的方法是当源结点要向目的结点发送数据时，首先发送一个"请求缓冲空间"的分组，目的结点收到请求分组后，若有足够的缓冲空间，则为源结点分配8个缓冲区(因为ARPANET中一个报文最多包括8个分组)，并回发一个"分配"分组，当所有8个分组都收齐并把它们重新组装成报文送交目标主机后，目的结点发回一个"准备下一个报文"的确认分组。若目的结点还有接收下一报文的缓冲区，可把"分配"分组的信息捎带给源结点，以便源结点接着发下一报文。当源结点没有报文要发送时，必须发"归还"分组，以释放在目的结点的缓冲空间。
3.6.4 进网级流量控制
在数据链路层控制网络外部的通信量进入网络，以免整个网内的缓冲区产生拥塞。控制的方法是采用许可证方案来抑制从外部进入网内的通信量。
3.6.5运输级流量控制
在运输层控制两个远程进程之间的信息流量，在进程级防止用户缓冲区出现拥塞，采用的方法是通过信用量的分配进行流量控制。
3.6.6 死锁
当以存储转发方式在网络的一对结点之间传输分组时，有可能缓冲区在发送分组之前就已经全部被占满了。这样，当每个分组到达对方时，由于没有地方存放，只有被丢弃，发送分组的一方因收不到对方发来的确认信息，只能将已发送的分组保存在自己结点的缓冲区中。这种既不能发送，又不能接收的状态称为存储转发死锁。
存储转发死锁分直接死锁和间接死锁两类。
直接死锁可以采用信道队列限制法预防，即将输入到这个结点的分组按其转发链路进行排队，对每一个队列定义一个极限，监视每一个队列的缓冲区的占用情况。当某一队列中待转发的分组数超过极限时，即丢弃该分组。间接死锁，可采用结构化缓冲池的方法预防，这一方法进一步发展为缓冲区的有向图分配法。这种方法的基本思想是：设网络有N个结点，其中最长的路由要经过M段链路。给每个结点开辟M+1个缓冲区，每个缓冲区存放一个分组，并从0到M编上号码。分组转发的路由是从一个结点的缓冲区I转发到其相邻结点的缓冲区I+1，然后再转发到与该结点相距2段链路的结点的缓冲区I十2，依次类推。主机发出的分组只能进入其源结点的缓冲区0(空闲时)。可以证明采用了结构化缓冲池和上述策略后，能有效地预防直接和间接存储转发死锁。
3.8 传输层
3.8.1 传输层在OSI/RM中的作用
1.	引人运输层的原因：
① 通信子网(OSI的1~3层)只能提供主机到主机的通信，不能提供进程之间的通信。
但是，对通信子网的用户(用户进程)来讲，希望提供端到端(即进程到进程)的可靠通信服务；
② 各通信子网所提供的服务存在差异，服务质量有待提高，需要设置运输层来弥补用户要求与子网服务之间的不足，使通信子网的用户进程得到一个统一的通信服务，让高层协议感到像在两个运输实体之间有一条端到端的可靠通信通路。
2.	运输层的作用
主要表现在弥补网络层所提供的网络服务与OSI高层协议要求的服务之不足。具体分
为主个方面：
①提高服务质量：根据通信子网服务质量(剩余差错和故障通知率)的不同，将服务质量提高到用户'要求的水平。
②多路复用：如果通信子网所提供的网络服务，其数据传输率、吞吐量和传输时延不能满足OSI高层的要求，运输层可通过分流或合流来适应要求，即把一个运输连接分配到多个网络连接上(向下多路复用,即分流)，以提高数据传输速率；反之，当OSI所要求的数据传输速率、吞吐量和传输时延等服务性能，都远低于网络层提供的相应指标时，运输层可将多条运输连接复用到一条网络连接上(向上多路复用)，以提高网络连接的传输效率，降低服务费用。
③分段与重新组装：网络层所传送的网络协议数据单元的大小是有限的，而会话协议数据单元比网络协议数据单元大，需要运输层将运输服务数据单元分段后交网络层传送，传送到目的端运输层后，再重新组装、还原。
3.8.2 传输协议的分类
按网络的服务质量大致有三种类型的网络：
?	A型──网络连接具有可接受的低差错率和可接受的低故障通知率。
?	B型──网络连接具有可接受的低差错率和不可接受的高故障通知率。
?	C型──网络连接对传输层服务用户来说具有不可接受的高差错率。
为了能够在各种不同的网络上进行不同类型的数据传送，ISO定义了5类传输协议，即第0～4类传输协议，它们都是面向连接的。
3.8.3 传输服务
传输层服务可以通过传输层服务原语提供给传输层的上位层应用进程，当上位层要利用传输层服务时，就通过传输服务端口（TSAP）来实现，这里的端口通常指传输地址。
3.8.4 传输层的差错检测和恢复机制
差错恢复方法是：在数据DT TPDU中设立发送序列号，以便检查出TPDU重复或顺序号颠倒的错误。在应答响应确认ACK TPDU中设立接收序列号，以便通知发送端已正确接收TPDU，对重复、顺序号颠倒的TPDU不发送ACK TPDU，超时后，以“重发”方式恢复差错。对丢失的TPDU，也按超时重发处理。通过在TPDU中携带校验信息可以检查出差错，则立即丢弃该TPDU并以丢失方式处理，通过超时重传弥补差错。
3.9 传输控制协议TCP
3.9.1 TCP/IP基本概念
     TCP/IP（Transmission Control Protocol / Internet Protocol）是国际互联网络事实上的工业标准，从下向上分为：网络接口层、网络层、传输层、应用层。
3.9.2 TCP报文段格式
每个TCP报文分为两部分，前面是TCP首部，后面是数据。TCP首部的各字段的意义是：
源端口（Source Port）字段和目的端口（Destination）字段都各占16bit。它们分别是在源站和在目的站中传输层与高层的服务接口，实际上就是OSI的TSAP地址。
序列号（Sequence Number）字段占32bit ，它不是为每一个TPDU编号，而是为所传数据的每一个字节编上序号。序号字段就是指该TPDU所传数据的最大序号。
确认号字段也占32bit，它是捎带在本站发送的TPDU中，指出期望收到对方的数据字节中的最小序号，因而隐含地告诉对方，比确认号少一个号的数据字节已经正确收到。
数据偏移字段是必要的，因为在首部的20个字节以后有一个长度不定的选项，它用来在连接建立时指出允许的最大报文段长度，它指出了数据部分是从TPDU中的多少个32bit字以后才开始的。偏移字段之后有6bit的保留字段，供以后使用。接着就是6bit的控制字段。
检验和字段检验的范围包括TPDU的首部和数据部分。TPDU长度的选择也很不容易。当TPDU长度变小时，网络的利用率就降低；但若TPDU非常长，那么在IP层传输时就要分段，到达目的站后再将收到的各个段装成原来的TPDU，一旦传输出错还要重传出错的数据报，这些都使网络开销增大。
3.9.3 IP分组格式
IP分组也称IP数据报，它是以无连接方式通过网络传输的，在源发主机和目的主机以及经过的每个路由器中，网络层都使用始终如一的IP协议和不变的IP分组格式。IP头中每一个字段的意义：
① 版本号──该4位字段标识当前协议支持的IP版本号，在处理IP分组之前，所有的IP软件都要检查分组的版本号字段，以便保证分组格式与软件期待的格式一样。
② IP分组首部长度──该4位字段表示IP分组头的长度，取值的范围是5～15。
③ 服务类型──该8位字段说明分组所希望得到的服务质量，它允许主机制定网络上传输分组的服务种类及高层协议希望处理的当前数据报的方式，并设置数据报的重要性级别，允许选择分组的优先级，以及希望得到的可靠性和资源消耗。
④ 总长度──该16位字段给出IP分组的字节计数的总长度，包括分组头和数据的长度。
⑤ 标识符──该16位字段包含一个整数，用来使源站唯一地标识一个未分段的IP分组，该分组的标识符、源站和目的站地址都相同，且“协议”字段也相同，该字段可以帮助将数据报再重新组合在一起。
⑥ 标志段──3位的标志段含有控制标志， 
⑦ 段偏移──13位的段偏移（Fragment Offset）字段表明当前分组段在原始IP数据分组报文中数据起点的位置，以便目的地站点能够正确地重组原始数据报。
⑧ 生存时间──8位的生存时间字段指定IP分组能在Internet互联网中停留的最长时间，记为Time To Live，计数器单位为秒。
⑨ 协议──8位的协议字段表示哪一个高层协议将用于接收IP分组中的数据
⑩ 分组头校验和──16位的分组头校验和字段保证了IP分组头值的完整性，当IP分组头通过路由器时，分组头发生变化（例如TTL生存时间段值减1），校验和必须重新计算。
3.10 会话层
3.10.1 会话层的基本概念
会话层的主要目的是提供一个面向用户的连接服务，它给合作的会话用户之间的对话和活动提供组织和同步所必须的手段，以便对数据的传送提供控制和管理。
为了方便用户从这12个功能单元中选择一些合适的功能单元来用，会话服务还定义了如下所列的3个子集即：
   ?基本组合子集BCS(Basic Combined Subset)──为用户提供连接建立、正常数据传输、对令牌进行处理以及释放连接等最基本的服务。
   ?基本同步子集BSS（Basic Synchronized Subset）──在BCS的基础上增加了为用户通信过程提供同步的功能，遇到差错后，可从双方确认的同步点重新开始同步。
   ?基本活动子集BAS(Basic Activity Subset) ──在BCS的基础上增加了对活动的管理。
3.10.2 会话层的服务
会话服务主要分为会话连接管理与会话数据交换两大部分。会话连接管理服务使得进行通信的双方对等应用进程之间可以建立和维持一条信道连接。会话数据交换服务为两个进行通信的应用进程在此信道上交换会话服务数据单元提供手段。
3.10.3 会话层的协议机制
通常每个用户服务请求都会直接被映射为一个对应的会话协议数据单元SPDU，然后按照规定的协议将此SPDU传送给远端的会话实体。会话协议数据单元SPDU有它规定的固定格式。会话连接和传输连接的关系不一定总是一对一的，有时，当一个会话连接结束后，可以不释放传输连接而使下一个会话连接继续使用前面用过的传输连接；有时传输连接会出现短暂的故障，但立即就会建立另一条新的传输连接，所有这些对于会话层都是透明的；这说明了一个会话连接也可以对应于多个传输连接；虽然一个运输连接可以对应多个会话连接，但这些会话连接总是一个接一个地出现的；这说明一个传输连接并不能复用多个会话连接，而仅能支持一个会话连接。
3.11 表示层
3.11.1 表示层的基本概念
表示层的基本功能是对源站点内部的数据结构进行编码，形成适合于传输的比特流，到了目的站再进行解码，转换成用户所要求的格式并保持数据的意义不变。表示层要解决的问题是：如何描述数据结构并使之与机器无关。
1.语法与语义
语法是指构成应用数据的一组规则，是数据的表示形式，它涉及文字、图像、数据等的表示；语法实际上是一种对应用数据单元符号比特串的解释方法。语义是指一个数据的特定内容及含义，语义是由应用层负责处理的，只有应用实体才能知道数据的意义。
2.语法转换
当一个应用程序在多个计算机上实现的时候，往往需要把一个数据对象从一台计算机传送到另一台计算机，为了保证程序语义的正确性，必然要对比特串的格式进行变换，把符号发送方局部语法的比特串转换成为符合接收方局部语法的比特串，这一工作称为语法转换。
3.表示上下文 
表示上下文（Presentation Context）是抽象语法和所商定的传送语法的一种组合，主要用于描述抽象语法与传送语法之间的映象关系。
4.表示服务原语
    表示层的服务原语和会话层的服务原语十分相似，只是多了P-ALTER-CONTEXT的四条服务原语（Request、Indication、Response、Confirm），它们的作用是创建、增加和删除表示上下文。 
3.12 应用层
应用层是作为与用户应用进程的接口，负责用户信息的语义表示，并在两个通信者之间进行语义匹配，它不仅要提供应用进程所需要的信息交换和远地操作，而且还要作为互相作用的应用进程的用户代理（User Agent），来完成一些为进行语义上有意义的信息交换所必须的功能。

思考题答案

1、	试简述协议与服务之间的区别及相互关系。
答：网络中用于规定信息的格式以及如何发送和接收信息的一套规则称为协议；是对等
层之间的关系；服务是下层向上层提供的功能，它是通过协议来实现的。
2、试写出连续ARQ协议的算法。
答：在发送完一个数据帧后，不是停下来等待对方应答帧，而是连续再发送若干个数据
帧，如果在此过程中又收到了接收端发来的应答帧，那么还可以继续再发送数据帧。
3、在什么条件下，选择重传ARQ协议和连续ARQ协议在效果上完全一致？
答：在正常数据传输过程中。
4、根据控制字段的不同，HDLC数据帧可分为哪几类？请简述各类帧的作用。
答：1）信息帧(I帧)：用于数据传送，它包含有信息字段
2）监视帧(S帧)：帧用于监视和控制数据链路，完成信息帧的接收确认、重发请
求和暂停发送请求等功能。
3）未编号帧(U帧)：用于附加的数据链路控制及管理。
5、请比较虚电路服务与数据报服务的异同。
答：(1)在传输方式上,虚电路服务在源、目的主机通信之前,应先建立一条虚电路,然后
才能进行通信,通信结束应将虚电路拆除。而数据报服务,网络层从运输层接收报文,将其装上报头(源、目的地址等信息)后,作为一个独立的信息单位传送,不需建立和释放连接,目标结点收到数据后也不需发送确认,因而是一种开销较小的通信方式。但发方不能确切地知道对方是否准备好接收,是否正在忙碌,因而数据服服务的可靠性不是很高。
(2)关于全网地址:虚电路服务仅在源主机发出呼叫分组中需要填上源和目的主机的全
网地址,在数据传输阶段,都只需填上虚电路号。而数据报服务,由于每个数据报都单独传送,因此,在每个数据报中都必须具有源和目的主机的全网地址,以便网络结点根据所带地址向目的主机转发,这对频繁的人一机交互通信每次都有附上源、目的主机的全网地址不仅累赘,也降低了信道利用率。
(3)关于路由选择:虚电路服务沿途各结点只在呼叫请求分组在网中传输时,进行路径选择,以后便不需要了。可是在数据报服务时,每个数据每经过一个网络结点都要进行一次路由选择。当有一个很长的报文需要传输时,必须先把它分成若干个具有定长的分组,若采用数据报服务,势必增加网络开销。
(4)关于分组顺序:对虚电路服务,由于从源主机发出的所有分组都是通过事先建立好的
一条虚电路进行传输,所以能保证分组按发送顺序到达目的主机。但是,当把一份长报文分成若干个短的数据报时,由于它们被独立传送,可能各自通过不同的路径到达目的主机,因而数据报服务不能保证这些数据报按序列到达目的主机。
(5)可靠性与适应性:虚电路服务在通信之前双方已进行过连接,而且每发完一定数量的
分组后,对方也都给予确认,故虚电路服务比数据服务的可靠性高。但是,当传输途中的某个结点或链路发生故障时,数据报服务可以绕开这些故障地区,而另选其他路径,把数据传至目的地,而虚电路服务则必须重新建立虚电路才能进行通信。因此,数据报服务的适应性比虚电路服务强。
(6)关于平衡网络流量:数据报在传输过程中,中继结点可为数据报选择一条流量较小的
路由,而避开流量较高的路由,因此数据报服务既能平衡网络中的信息流量,又可使数据报得以更迅速地传输。而在虚电路服务中一旦虚电路建立后,中继结点是不能根据流量情况来改变分组的传送路径的。
综上所述,虚电路服务适用于交互作用,不仅及时、传输较为可靠,而且网络开销小。数
据报服务适用于传输单个分组构成的、不具交互作用的信息以及对传输要求不高的场合。
6、请简述死锁产生的原因及相应解决措施。
答：网络由于突发性负载导致对网络资源的需求大于供给，就会产生全局性拥塞，严重
拥塞的结果会使网络的吞吐量下降到零，网络已完全不能工作，即网络发生了拥塞。
      解决的方法就是要使对资源的总需求小于可用的资源。
7、何谓重装死锁？其解决方法是什么？
答：如：有三个报文A、B、C，每个报文有4个分组，节点的缓冲区也是4个，节点1，
2，3发往主机H。由于报文的分组不是按序到达目的节点，在目的节点报文A已占了4个缓冲区，其中为A2留了一个缓冲区，还缺一个分组A2，不能交付给主机H。这样，节点2的缓冲区的分组不能到达节点3，而分组A2暂存于节点1的缓冲区中，由于节点2的缓冲区已全占满，A2也无法到达节点2中，更谈不到节点3，从而形成死锁。这种死锁称为重装死锁。
	入口到出口级流量控制可以解决重装死锁。
8、试说明应用实体AE中的用户元素UE和应用服务元素ASE之间的关系。
答：用户元素UE是在应用实体AE中代表应用进程,为用户的应用进程与应用实体的接
口,与具体的应用服务有关,不同的应用服务决定不同的接口,但用户元素UE是各种应用服务元素ASE的最终使用者。UE和ASE之间是服务使用者与服务提供者之间的关系。
9、试简述报文处理系统MHS组成对象的主要功能。
答: MHS提供的功能:①报文生成:帮助用户编辑生成报文;②传输:按收信人地址,将报
文逐个结点转发到收信人的信箱;③报告:负责向发信者报告报文发送进展,给出回执;④探查:向某些指定的用户发探查信息,探查报文能否顺利到达;⑤格式化:使收发双方统一报文格式;⑥报文处理:帮助用户管理所收到的报文,如保存、阅读、转发、删除等。

练习题

一、选择题
1．调制解调器也被称为:（      ）。
A.数据通信设备(DCE)					B.数据终端设备(Dt)
C.分组交换结点(PSN)					D.分组装拆设备(PAD)
2．计算机为了通过串行口将数据发送出去,必须（       ）。
A.通过适配器将计算机内的并行位流转换成串行位流
B.将数字信号转换为模拟信号
C.将模拟信号转换为数字信号
D.通过适配器将计算机内的串行位流转换为并行位流
3．在异步应用的RS232C中，发送和接收所需要的定时（     ）。
A.由DTE产生和复原				B.由DTE产生,DCE复原
C.由DCE产生和复原				D.既可由DTE产生,也可由DCE产生
4．RS232C接口的电路AA为（     ）。
A.保护接地线		B.信号地线		C.发送数据			D.接收数据
5．在异步应用的RS232C中,完成接收信号检测的电路是（     ）。
A.电路CC 			B.电路CB 		C.电路CF 			D.电路DB
6．RS232C接口的电气特性用来确定该接口的电压电平和电压变化的定时关系,根据标准,下列说法正确的是（      ）。
A.比-3更负的电压电平表示二进制0
B.比-3更负的电压电平表示空号
C.比+3更正的电压电平表示二进制O
D.比+3更正的电压电平表示传号
7．RS449标准规格包括两个关于电气特性的子集标准,其中RS422是（      ）。
A.非平衡式电气接口					B.平衡式电气接口
C.异步应用的RS449接口				D.同步应用的RS449接口
8．数据链路层流控技术确保（     ）。
A.数据包按顺序从源端发送到目的端	B.数据链路被高效利用
C.发送方不会使接收方发生数据溢出	D.发送帧无丢失和错误的到达目的地
9．在滑动窗口流控技术中,接收方发送RNR5表示（     ）。
A.已接收到顺序号为4及之前的帧,发送方可发送从顺序号5开始的帧
B.已接收到顺序号为5及之前的帧,发送方可发送从顺序号6开始的帧
C.已接收到顺序号为4及之前的帧,但不能再接收其它帧
D.已接收到顺序号为5及之前的帧,但不能再接收其它帧
10．在滑动窗口流控技术中,若源端和目的端都能发送及接收数据,则可采用捎带响应算法,即（    ）。
A.数据和响应组合在一个帧内发送,响应帧不可以单独发送
B.数据帧控制字段中一个域表示帧的顺序号,另有一个域表示响应顺序号,若无数据要发送,可单独发送响应帧
C.数据帧控制字段中仅有表示响应顺序号的域,响应顺序号表示前面的帧都已收到
D.数据帧和响应帧分开发送,每发一个数据帧后,即发送一个响应帧
11．下列关于滑动窗口机制的说法正确的是（    ）
A.帧的顺序号占据帧的一个域,若域的位数为3,则帧的最大顺序号为8
B.发送方每发送一帧,窗口就往里收缩,每接收到一个响应,窗口就向右扩张
C.接收方发送RR4,表示已收到0,1,2帧
D.若窗口范围为7,则当发送方发送了3帧后没有收到响应,则需等接收到响应后在发送剩下的数据帧
12．在奇偶校验的差错检测方法中,下列说法正确的是（    ）
A.对于奇校验来说,每个ASCII字符用八位表示,最后加上一个奇偶位使九位中1的个数为偶数
B.对于偶校验来说,每个ASCII字符用八位表示,最后加上一个奇偶位使九位中1的个数为奇数
C.对于偶校验来说,每个ASCII字符用七位表示,最后加上一个奇偶位使八位中1的个数为偶数
D.对于偶校验来说,每个ASCII字符用七位表示,最后加上一个奇偶位使八位中1的个数为奇数
13．CRC的英文全称为（    ）
A.Cyclic Retum Check 				B.Cyclic Redundancy Check
C.Cyclic Retum Correct 				D.Cyclic Redundancy Correct
14．在CRC中,若M为包含有k位的数据块。P是已知的除数,为n+1位,则发送帧为（  ① ）位。FCS为（  ②   ）。
①、②:		A.k+n+1		B.n+1		C.n 		D.n-1	E.k+n 		F.k+n-1
15．若M=1010001101,P=110101,则FCS为（     ）。
A.1011		B.10110		C.0111		D.01110
16．在CRC的多项式表示方法中,若M=110011,则多项式为（     ）。
A.M(x)=X6+X5+X2+X 					B.M(x)= X6+X5+X2+X+1
C.M(x)= X5+X4+X 						D.M(x)= X5+X4+X+1
17．差错控制涉及多方面,其中,差错检测（①）；正响应（②）；负响应并重传（③）。
①-③:A.检测错误					B.检测并控制错误	
C.对成功到达且无错误的帧返回一个响应
D.对成功到达且有错误的帧返回一个响应	
E.对成功到达且无错误的帧返回一个响应,发送站重传这些帧	
F.对目的站没有接收到的数据帧发回一个响应
18．自动重复请求(ARQ)的运行机制基于（）。
A.奇偶校验					B.纠错技术雄
C .BSC 						D.流控技术
19．在ARQ技术中,发送器、接收器需较复杂的功能,且滑动窗口大小小于2n-1的差错检测技术为（    ）。
A.停-等ARQ 					B.Go-Back-N ARQ	
C .Selective-Reject ARQ 	D.以上都不正确
20．下列关于HDLC的正常响应模式(NRM)的说法正确的是（    ）。
A.用于平衡组合
B.任何一个组合站都可以开始传输而不必得到另一组合站的允许
C.次站不必得到主站的允许即可进行初始化传输
D.主站发送命令对次站的数据传送进行初始化,次站发送对该命令的响应
21．HDLC中的两种链路组合为（     ）。
A.非平衡组合和平衡组合				B.NRM和ABM
C.非平衡组合和异步平衡模式			D.平衡组合和异步平衡模式
22．在HDLC操作中,UA表示（     ）。
A.终止逻辑链路连接,表示拒绝设置模式
B.对于接收到set-mode命令的响应
C.用于请求交换控制信息
D.用于请求控制信息
23．在连续ARQ协议中,选用编号的位数n为3。发送窗口尺寸的最大值可为（①）。经初始化,当所用的发送窗口尺寸WT=5,A站可连续发送的帧的最大号为（②）。实际上A站在发送了0,1号帧后,其内存变量V(S)为（③）,内存变量V(R)为（④）。B站收到正确的0号帧后,将信息递交上层实体后内存变量V(R)则为（⑤）。
①~⑤:A.8	B.7		C.O		D.4		E.3		F.2		G.5		H.1	
24．下列关于内部网关协议(IGP)的说法错误的有（     ）。
A.为能保存网络的可达信息,自治系统的内部路由器之间需进行通信
B.一个路由器可以同时使用两种路由选择协议
C.路由选择信息协议(RIP)是目前使用最广泛的一种IGP
D.自治系统内部路由器通信为一个单独的标准
25．下列不属于OSPF协议特点的是（      ）。
A.包含服务类型的路由选择				B.负载均衡功能
C.是基于距离矢量路由选择算法的协议		D.支持主机路由、子网路由、网络路由
26．路由选择信息协议(RIP)是用于（①）网的距离-矢量路由选择的实现。它将参与通信的组成部分分为两类:路由器只能工作在（②）模式,RIP进程使用（③）的520端口来进行收、发。
①~③:	A.广域	B.本地(局域)	C.被动	D.主动	E.UDP 	F.TCP
27．路由选择信息协议(RIP)用于本地(局域)网的（①）路由选择的实现。开放最短路径优先协议是基于（②）L路由选择算法的一种协议。IGRP的协议性能优于（③）。
①~③:	A.链路-状态		B.距离-矢量		C.OSPF 		D.RIP	E.IJDP 	F.TCP
28．关于TCP层滑动窗口机制,下列说法不正确的是（       ）。
A.窗口尺寸值增加(或减小),发送方可扩大(或缩小)发送数据流
B.它提供了可靠的传输服务
C.它提供了流量控制功能
D.解决了IP网络的拥塞控制
答案:
1、A		2、A		3、A		4、A			5、C
	6、C		7、B		8、C		9、C			10、B
	11、B		12、C		13、B		14、①E、②C	15、D.
	16、D		17、①A、②B、③D		18、D			19、C
	20、D		21、A		22、B		23、①B、②D、③F、④C、⑤H
	24、D		25、C		26、①B、②D、③E			27、①B、②A、③D
	28、D
二、填空题
	1．在下列每一个OSI层的名称前面标上一个正确的字母序号，使得每一个名称与你认为最恰当的描述相匹配。
	       应用层		       表示层		       会话层		       传输层
	       网络层		       数据链路层						       物理层
a.	指定在网络上沿着网络链路在相邻结点之间移动数据的技术
b.	在通信应用进程之间组织和构造交互作用
c.	提供分布式处理和访问
d.	在由许多开放系统构成的环境中，允许在网络实体之间进行通信
e.	将系统连接到物理通信介质
f.	协调数据和数据格式之间的转换，以满足应用程序的需要
g.	在端点系统之间传送数据，并且有错误恢复和流控功能
2．在下列每一特征前面的空白处标出该特征所描述的是局域网（LAN）还是广域网（WAN）。
       通常为一个单位所拥有
       限制条件是传输通道的速率
       跨越无限的距离
       通常使用广播技术来替代存储转发的路由选择
3．在下列每个空白处填上一个阿拉伯数字（1～6），表示在源结点的一个用户发送一个信息给目标结点的一个用户所发生的事件的顺序。
        当信息通过源结点时，每一层都给它加上控制信息
        在源结点的网络用户产生信息
        在目标结点的网络用户接收信息
        信息向上通过目标结点的各个网络层次，每一层都除去它的控制信息
        信息以电信号的形式通过物理链路发射
        信息传给源结点的最高层（OSI模型的应用层）
4．ITU-T X.25建议书定义定义了三级通信，即     级、      级和      级。
5．ISO定义了3种类型的网络服务，即具有不可接受的残留差错率的      网络服务、具有可接受的残留差错率和不可接受的故障通知率的      网络服务和具有可接受的残留差错率和故障通知率的      网络服务。基于3种类型的网络服务，ISO定义5类运输协议，其中0类是      级，1类是      级，2类是       级，3类是      级，4类      级。
6．会话与传输层的连接可以有3种对应关系，一种是      ；另一种是      ；第三种是       。
7．在TCP/IP网络中，两个应用进程之间的连接实际上是由4个数字确定的，包括源和目的的      及源和目的的       。
8．为使各个系统间交换的信息具有相同的语义，应用层采用了相互承认的      语法，是对数据一般结构的描述。      语法是同等表示实体之间通信时对用户信息的描述。两种语法之间的对应关系成为        。
9．物理层标准规定了物理接口的     、     、     和     。
10．OSI七层模型从下到上分别为        、       、        、       、会话层、表示层和        。
11．数据链路层的数据传送单位为      ，网络层的传输单位为       ，而物理层的传输单位是        。
12．       层将计算机内部的数据转换位网络通信中的标准形式。         层组织和同步不同主机上各种进程间的通信。
13．通信双方对等进程或实体通过协议进行的通信称为        通信，通过物理介质进行的通信称为       通信。
14．RS-232-C规定，电平为-15V至-5V表示逻辑         ，电平为+5V至+15V表示逻辑         。
15．DTE与DCE接口的各根导线的电平连接方式有        、采用差动接受器的非平衡方式和        三种。
16．RS-232-C接口的通信速率小于等于     b/s。
答案：
	1．c		f	b	g	d	a	e
	2．LAN		WAN	WAN	LAN
	3．3	1	6	5	4	2
	4．物理		链路	分组
	5．C型		B型		A型		简单	基本差错恢复	多路复用	差错恢复与多路复用	差错检测与恢复
	6．一对一	多个会话对应于一个传输连接	一个会话对应多个传输连接
	7．IP地址	端口号
	8．抽象		传输	上下文关系
	9．机械特性		电气特性	功能特性	规程特性
	10．物理层	数据链路层		网络层		运输层		应用层
	11．帧		分组		比特
	12．表示	会话
	13．虚	实
	14．1   0
	15．非平衡方式		平衡方式
	16．20k
 

第四章  计算机局域网
【学习目的】
	1、了解局域网特点、分类、IEEE802体系结构
2、熟悉局域网的体系结构和CSMA/CD介质访问控制方式
3、掌握局域网中互连设备
【重点综述】
4.1  局域网概述
4.1.1局域网定义和特性
局域网是将小区域内的各种通信设备互联在一起的通信网络。从这个定义可引出局域网络的三个属性：
(1) 局域网络是一个通信网络，从协议层次的观点看，它包含着下三层的功能，将连接到局域网络的数据通信设备加上高层协议和网络软件组成为计算机网络，我们称它为计算机局域网络。
(2) 计算机局域网络中数据通信设备是广义的，包括计算机、终端和各种外围设备等。
(3) 所指的小区域可以是一建筑物内、一个校园或者大至几十公里直径的一个区域。
决定局域网特性的主要技术有以下三个：
?	传输介质：用以传输数据。
?	拓扑结构：用以连接各种设备的拓扑结构。
?	介质访问控制方法：用以共享资源的介质访问控制方法。
这三种技术在很大程度上决定了网络特性：传输数据的类型、网络的响应时间、吞吐率和利用率，以及网络应用等。其中最重要的是介质访问控制方法，它对网络特性起着十分重要的影响。
传统的局域网介质访问控制协议有载波监昕多路访问/冲突检测CSMA/CD、标记环Token Ring和标记总线Token Bus等。
4.1.2 IEEE802标准体系
IEEE802委员会先后为LAN内数字设备提出了一套连接的标准，如图4-1所示，这些标准包括：
 
图4-1  IEEE 802标准
?	IEEE标准802.1  概述、体系结构(801.1A)，寻址、网间互连和网络管理(802.1B)
的指南文件
?	IEEE标准802.2逻辑链路控制(LLC)
?	IEEE标准802.3 CSMA/CD访问方式
?	IEEE标准802.4标记总线(Token Bus)访问方式
?	IEEE标准802.5标记环(Token Ring)访问方式
?	IEEE标准802.6城域网(MAN,或称市域网)访问方式
?	IEEE标准802.7宽带传输标准
?	IEEE标准802.8光纤网标准(FDDI)
?	IEEE标准802.9综合话音/数据(V/D)局域网标准
?	IEEE标准802.10网络安全
?	IEEE标准802.11无线局域网WLAN(采用扩展频谱技术)
?	IEEE标准802.12 100VG-Any LAN
4.1.3 计算机局域网体系结构
局域网络的协议结构包括物理层、数据链路层和网络层。由于局域网络没有路由问题，一般不单独设置网络层；由于LAN的介质访问控制比较复杂，因此将数据链路层分成逻辑链路控制层和介质访问控制层两层。
在图4-1中，802.6是城域网(MAN)标准，已超越了局域网的传输范围，但也置于LLC下面。近来，又相继出现了100VG-Any IAN(802.12)，100Mbit/s快速以太网(802.3U)，千兆位以太网(802.1p，802.1Q)等标准，从层次功能范畴来看均为介质访问控制。由此可见，链路层中与介质访问无关的部分都集中在LLC子层，局域网(也可拓宽到城域网、无线网，光纤网等)对LLC子层是透明的。只有下到MAC子层才能知道所连接的局域网是属于何种类型(CSMA/CD、Token Bus或Token Ring)。
4.2  几种典型局域网
4.2.1以大网
以太网是一种总线型局域网，采用载波监听多路访问/冲突检测(CSMA/CD)介质访问控制方法。
1.CSMA控制方案
CSMA控制方案如下：
(1) 一个站要发送，首先需监听总线，以决定介质上是否存在其它站的发送信号。
(2) 如果介质是空闲的，则可以发送。
(3) 如果介质是忙的，则等待一定间隔后重试。
介质的最大利用率取决于帧的长度和传播时间。
如果发现介质呈忙，采用退避策略，其算法很多。
下面图4-2讨论了三种退避算法，从中理解如何提高通道利用率。
 
图4-2  三种退避算法
2.CSMA/CD
CSMA/CD是CSMA一种改进方案，可以提高总线的利用率。这种协议是基于介质共享的机理，即在基带总线上只能存在一个单向的信息流，各个站点(包括工作站、服务器)均得通过争用来获取通信权限，其工作原理如下：
?	任一站要发送信息，首先要监测总线，用来判决介质上有否其它站的发送信号；
?	如果介质呈忙，则等待一定间隔后重试，如果介质为空闲，则可以发送；
?	由于通道存在传播时延，采用载波监测的方法，仍避免不了两站点在传播时延期间
发送的帧会产生冲突；
?	每个站在发送帧期间，同时具有检测冲突的能力。一旦遇到冲突,就立即停止发送，
并向总线上发一串阻塞(jam)信号，通报总线上各站冲突已发生；
?	检测到冲突，并在发完阻塞信号后，为了降低再次冲突的概率，需要等待一个随机
时间(冲突的各站可不相等)，然后再用CSMA的算法重新发送。
为了决定这随机时间，采用二进制指数退避法，算法的过程如下：
?	对每个帧，当第一次发生冲突，设置参数为L=2；
?	退避间隔取1到L个时间间隔，1个时间间隔等于任意两个站之间最大传播时延的
两倍，即2a（设最大传播时延为a，适用于基带总线）；
?	当帧重复发生一次冲突，则将参数L加倍；
?	设置一个最大重传次数，超过这个限值，则停止，不再重传，并报告出错。
这种算法是按后进先出的次序控制的，即未冲突，或很少发生冲突的帧，具有优先发送的概率。
4.2.2 标记环网
这种介质访问使用一个标记沿着环循环。当一个站要发送帧时，需等待空标记通过，然后将它改为忙标记。紧跟着忙标记，站把数据帧发送到环上。由于标记是忙状态，所以其它站不能发送帧，必须等待。发送的帧在环上循环一周后再回到发送站，将该帧从环上移去。同时将忙标记改为空标记，传至后面的站，使之获得发送帧的许可权。
标记环网使用01111111作为空标记，使用01111110作为忙标记。考虑到数据和标记形式有可能相同，用位插入的办法以区别数据和标记。
标记环网上的各个站点可以设置成不同的优先级，采用分布式调度算法实现。
4.2.3 FDDl网
FDDI是一功高性能的光纤标记环局域网，运行速率为100Mbps，最大距离可达200km，可最多连接1000个站点。
FDDI采用多模光纤作为传输介质，采用发光二极管LED作为光源。FDDI包含两个光纤，一个是顺时针方向传输，另一个是逆时针方向传输。任意一个环发生故障，另一个可作为后备。如果两个环在同一点发生故障，则两个环可合成一个单环。每个站具有能加入两个环或旁路站点功能的开关。
FDDI的协议十分接近802.5协议，FDDI的数据帧和802.5帧也十分相似。
4.2.4 交换式局域网
交换技术的两种主要应用形式是折叠式主干网和高速服务器联接。采用交换技术将大大增加桌面的频宽、扩充网络用户数，以及传送大量的文件和多媒体文本。多媒体应用的逐渐普及将使频宽需求猛增，只有采用交换技术，才有潜力满足这日益增长的需求。
交换器之间以及交换器和服务器之间还可以以全双工方式运行。全双工是和交换器一起工作的链路特性，它使数据流在链路中同时两个方向流动。全双工效率取决于本地通信的型式。如果在发送和接收之间的通信，则理论上全双工可增加100%吞吐量。如果不是平衡的，则效率会降低。从理论上讲，全双工性能可大于100%，因为全双工链路没有冲突，每个方向的效率要高于共享介质链路的效率。
一些重要的多媒体应用可使用快速以太网，比如办公室之间通信、远程会议、广播会议、广播电视，以及基于视频的桌面训练系统。
4.3 局域网互连
局域网的互连是采用适当的技术和设备将孤立的局域网连接起来，以使原来隔离的局域网上的计算机可以交换信息，实现资源共享。
局域网互连可以有多种方法。可以按距离区分，也可以按互连所采用的介质区分。但最重要的互连概念应以ISO/OSI开放系统互连参考模型的分层观点考察局域网的互连，由此出发，可将互连划分为四个层次，即物理层、数据链路层、网络层和高层，与之对应的分别是中继器Repeater、网桥Bridge、路由器Router和网关Gateway。
层次一：使用中继器在不同电缆段之间复制位信号
层次二：使用网桥在局域网之间存储、转发帧
层次三：使用路由器在不同网络间存储、转发帧
层次四：使用协议转换器提供高层接口
中继器工作在OSI的物理层，互连同类型网段，它只起再生信号的作用，驱动长距离通信。中继器安装简单容易，造价低廉，但是它不能隔离分段间的不必要网络流量，其扩展规模(长度、站点数)不能突破单级的限制，它也不能互连不同类型的网络。
集线器一般可分普通型，可叠加组合型和高档智能型。
网桥的操作涉及到OSI的数据链路层，更准确他说位于MAC层。它互连兼容地址方案的局域网，利用MAC和MAC地址(也称为硬件地址)，以及存储、转发功能作局域网间的信息帧交换。网桥需要处理MAC帧，也就是要对通过网络连接到达网桥的某个口而进入网桥的MAC帧进行分析判断和转发工作。网桥只关心信息从哪个口进入、处理,向哪个口转发，
不关心属于网络层的全局路径，那是"外边"的事情。
从应用上划分，网桥可分为本地网桥和远程网桥；从帧转发功能分配考虑，网桥可分为透明网桥(transparent bridge)和源地址路径选择网桥(source routing bridge)。
互连不同型局域网时，要有适当方式解决协议不一致的问题，按桥接方式可分为：封装桥接方式(encapsulation bridging)，转换桥接方式(translation bridging)和源地址路径选择透明桥SRT方式。
路由器工作在ISO/OSI的第三层，即网络层。它需要处理网络层的数据分组或网络地址，决定数据分组的转发，它要决定网络中信息通信的完整路由。由于处理的层次高，因而路由器也具有更强的网络互连功能。
4.4 文件服务器
文件服务器为用户提供操作系统中文件系统的各种功能，例如:生成文件、删除文件等。
磁盘服务器将数据组成块，可供用户读写，没有数据结构问题。文件服务器是建立在磁盘服务器基础上，但它们提供的服务是有区别的。文件服务器可根据文件的大小来确定从磁盘上读出的信息量，而磁盘服务器只可读出整块数据。
设计文件服务器会涉及到很多问题。文件服务器接口是设计文件服务器的一个基本问题。接口用来将用户认识的文件符号名映象到服务器认识的文件标识号。文件服务器不直接和用户接口，而是在文件服务器上建立一些更有用的功能，如：文件系统、数据库服务器等，用户再和这些系统直接接口。
设计文件服务器时还会另外一些方面碰到一些问题，诸如独立故障状态、保护问题、防止文件破坏、重复存放、事务处理和性能等方面。
4.5 网络操作系统的功能
网络操作系统(Network Operating System.缩写为NOS)是使网络上各计算机能方便而有效地共享网络资源，为网络用户提供所需的各种服务的软件和有关规程的集合。
所述可共享的网络资源包括硬件(传输介质、服务器等)、软件(系统程序、实用程序、应用程序等)以及数据。
网络操作系统除了应具有通常操作系统应具有的处理机管理、存储器管理、设备管理和文件管理外，还应具有下列两大功能：
(1) 高效、可靠的网络通信能力
(2) 多种网络服务功能
总的说来，网络操作系统的基本要求是：
?	必须提供共享资源及解决多个用户对资源需求冲突的能力。
?	必须提供或支持通信协议,使数据能在局域网上传送。
为此，网络操作系统有两个基本的组成部分，即运行在服务器上的操作系统，以及运行在每个PC或桌面工作站上的软件，并和客户操作系统交互工作。网络操作系统还要提供能和局域网上服务器通信的协议。
网络操作系统(NOS)与PC DOS操作系统的主要区别，如下表4-1所示。
表4-1  NOS与PC DOS操作系统的主要区别
 
思考题答案

1.什么是计算机局域网，它有哪些主要特点?
	答：局域网是将小区域内的各种通信设备互联在一起的通信网络。
		主要特点：
(1)共享传输信道。在局域网中,多个系统连接到一个共享的通信媒体上。
(2)地理范围有限,用户个数有限。通常局域网仅为一个单位服务,只在一个相对独立的局部范围内连网,如一座楼或集中的建筑群内。一般来说,局域网的覆盖范围约为10m~lokm内或更大一些。
(3)传输速率高。局域网的数据传输速率一般为1~100Mbps,能支持计算机之间的高速通信,所以时延较低。
(4)误码率低。因近距离传输,所以误码率很低,一般在10-8~10-11之间。
(5)多采用分布式控制和广播式通信。在局域网中各站是平等关系而不是主从关系,可以进行广播或组播。
2.请画出局域网的体系结构。
答：局域网的体系结构如下：
ISO OSI/RM		IEEE802 LAN/RM
应用层		
表示层		
会话层		
传输层		
网络层		
数据链路层		逻辑链路控制层
		介质访问控制层
物理层		物理层
3.局域网最常用的介质访问控制方式有哪两种?各自有什么特点?
答：常用的介质访问控制方式有三种：载波侦听多路访问/冲突检测法(CSMA/CD)，令牌环访问控制(Token-Ring)和令牌总线访问控制(Token-Bus)。
CSMA控制方式又被称为“先听后讲”，其基本思想是：任何一个站点需要发送信息时，首先侦听一下目前有无另一个站点正在发送，即介质上有无信息传输，如果侦听的结果信道是空闲的，则该站点可以立即发送信息。如果侦听结果信道上有信息传送，则就继续侦听，直到信道空闲时再立即发送信息。
令牌环访问控制(Token-Ring)利用令牌来访问总线；
令牌总线访问控制(Token-Bus)物理上总线结构，逻辑上环型结构。
4.局域网参考模型(LAN/RM)结构与ISO/OSI参考模型(OSI/RM)相比有哪些不同?
答：同OSI/RM相比，LAN/RM只相当于OSI的最低两层。物理层用来物理连接是必需的，数据链路层把数据构成编址帧形式传输，并实现帧的排序控制、差错控制及流量控制功能，使不可靠的链路成为可靠链路，因此也是必需的。由于局域网没有路由问题，任何两点之间可用一条直线链路进行传输，所以不需要设置网络层。考虑到局域网种类繁多，其介质访问控制方法也各不相同，为了使局域网中的数据链路层不致于过于复杂，并减轻其负担，LAN/RM将其划分为两个子层，即介质访问控制(MAC)子层和逻辑链路控制(LLC)子层。把与访问各种传输介质有关的问题都放在MAC层。把数据链路层中与介质访问无关的部分都集中在LLC子层。
5.简述10Base-2和10Base-T二种以太网的组网特点。
答：10BASE-2以太网组网特点：
    1）采用RG-58/U型50Ω同轴电缆。每段电缆最大长度为185m，最多5段(段间需用中继器连接)，各段电缆末端使用终接器(50Ω)终结，电缆总长度最大为925m。
    2）每段电缆最多可连接30个站点，两站点之间的最大距离为0.5m。
    3）网卡提供BNC接口，两条同轴细缆通过T形接头与网卡连接，所有T形接头必须直接接到工作站BNC接口上，不能在电缆中间作段接使用。
4）终接器为50Ω的BNC终接器，一个网络的两端终接器中的一端必须接地。
10BASE-T以太网组网特点：
    1）用双绞线(UTP)将工作站连接到集线器(HUB)上，一段双绞线的最大长度为100m。
    2）双绞线插头、工作站网卡和集线器的插座均采用RJ-45标准接口。
    3）介质上最多只允许接入4个中继器，从而构成5个网段，每个网段可长500m。
    4）最低采用3类UTP，其特征阻抗为100Ω。
    5）网卡上配有内置式收发器和RJ-45型插座，用于双绞线直接连接。
6）多个集线器之间可使用同轴细缆互连，其最大长度为100m。
6.简述令牌环网的组网特点。
答：令牌环网的组网特点：使用STP时可连2～260台设备，而使用UTP时只能连2～72台设备，尽管网络的覆盖范围没有限制，但站点数却受到一定限制。
7.局域网操作系统分为哪几类?每一类的特点是什么?为什么C/S模式的网络操作系统是未来网络的发展方向?
答：局域网操作系统分为
1）对等式网络操作系统
    对等式局域网操作系统的特点是网络上的所有联结站点地位平等，因此又称为同类网。
    2）文件服务器模式
    在这种模式中，应用程序和数据都存放在一台指定的计算机中，这台计算机称之为文件服务器，一般均由专业服务器和性能较高的微机担任。网络上的其它站点被称为工作站。在文件服务器模式中，所有的工作站都以文件服务器为中心，网络上的各个工作站彼此间无法直接传输信息，必须通过服务器作媒介，即所有的文件读取、传送等都在文件服务器的控制中。
    3）客户机──服务器(Client-Server)模式
     C/S模式网络操作系统具有如下特点：
    （1）每个局域网上至少具备一台服务器，专为网络提供共享资源和服务，因此对服务器要求较高。
    （2）客户机可以访问网络服务器上的全部共享资源，但本机资源只供本机用户使用。
（3）具有良好的网络性能并适合于较大规模网络。
C/S模式的显著特点是请求服务(Client端)和提供服务(Server端)各尽其能。这种模式较好地利用了局域网中的各类资源，只要求服务器具有运行大型应用程序所需要的处理能力、存储能力等。工作站可以不具备这些能力，并且C/S模式所交换的信息只是请求和回答，而不是C/S模式中的应用程序，因此C/S模式只需要交换相对较少的信息量，从而大大提高了网络使用效率。

练习题

一、选择题
1．在以太网中，假如两站最大传播延迟为1，则一站点发送信号后需继续监昕的时间为（        ）。
A.1					B .2					C .4					D.直至发送完毕
2．以太网采用（       ）退避算法。
A.不坚持CSMA 		B-1-坚持CSMA		C.P-坚持CSMA 		D.以上都不是
3．以下几种CSMA坚持退避算法中，（           ）的介质利用率相对来说比较低。
A.不坚持CSMA 		B.1-坚持CSMA 		C.P-坚持CSMA 		D.以上都一样
4．以下几种CSMA坚持退避算法中，（        ）在监听到介质是空闲时仍可能不发送。
A.不坚持CSMA 		B.1-坚持CSMA 		C.P-坚持CSMA 		D.以上都不是
5．以下几种CSMA坚持退避算法中，（        ）在有两个或两个以上的站点有数据要发送时，冲突就不可避免。
A.不坚持CSMA 		B.1-坚持CSMA 		C.P-坚持CSMA 		D.以上都是
6．标记环网中，空标记的形式为（       ）。
A.01010101			B.11111110			C.011111111			D.01111110
7．若在标记环网中，有10个站点，环长为1km，传播延迟为5us/km，速率为1Mbps，环上存在（        ）位。
A.10					B.5					C.15					D.50
8．FDDI网最多可连接（       ）个站点。
A.100				B .250				C .500				D .1000
9．FDDI网物理层采用（       ）。
A.曼切斯特编码		B.差分曼切斯特编码	C .4BAB编码			D.3BAB编码
10．FDDI网协议十分接近下列（      ）。
A.802.3协议			B.802.4协议			C.802.5协议			D.802.2协议
11．在OSI模型的网络层运行的设备是（      ）。
A.网桥				B.路由器					C.网关			D.中继器
12．在标记环网中，位填充用于（     ）。
A.填补不够的信息							B.区别数据和标记
C.把8位字转换成16位					D.填补数据
13．计算机通信协议实际上是（      ）
A.一组接口			B.一组规则				C.一组译码		D.一组呼叫
14．标记环网络上出现一个死工作站，如果没有（      ），会使网络瘫痪。
A.特殊软件								B.连线中心或特殊旁路硬件
C.额外的令牌								D.死站令牌(DST)
15．在以太网中，通过网络发送的阻塞信号意味着（     ）。
A.网络流量太拥挤							B.有数据冲突
C.该走了									D.打印机的送纸器塞住了
16．如果干扰是个主要问题，网络设计者应考虑（      ）。
A.基带同轴电缆		B.宽带同轴电缆		C .双绞线	D.光纤
17．智能型集线器之所以是智能的，是因为（      ）。
A.它们可以象犬一样进行训练
B.它们有内置的智能
C.它们更贵
D.如果有侵入者试图进入局域网，它们向网络管理员报警
18．CSMA/CD中的CSMA代表（      ）。
A.Copper System Media Access 				B . Carrier Sense Media Access
C .Carrier Sense Multiple Access 				D .Copper System Multiple Access
19．10BASE5局域网特征是（      ）。
A.基带细同轴电缆数据传输速率10Mbit/s，最大传输距离为200米
B.基带细同轴电缆数据传输速率10Mbit/s，最大传输距离为500米
C.基带粗同轴电缆数据传输速率10Mbit/s，最大传输距离为500米
D.基带粗同轴电缆数据传输速率10Mbit/s，最大传输距离为200米
20．10Base-T通常是指（     ）。
A.细缆			B.粗缆			C.双绞线(UTP)			D.以太网
21．CSMA/CA网通常比CSMA/CD网慢，是因为（      ）。
A.在CSMA/CA网上有更多的冲突
B.CSMA/CA网在介质上发送数据前必须先等待一个随机的时间量
C.CSMA/CA网在电缆上发送数据前必须先等待一个令牌的到来
D.CSMA/CA网使用双绞线,而CSMA/CD网使用同轴电缆
22．下列（       ）不是一个可路由协议。
A.IP 			B.IPX 			C.AppleTalk				D.NetBEUI
23．组建一个星型网络通常比组建一个总线型网络昂贵，是因为（     ）。
A.星型集线器非常昂贵
B.星型网络在每根电缆的末端需要昂贵的连接头
C.星型NIC比总线型NIC昂贵
D.星型网络较之总线型网络需要更多的电缆
24．下列的（       ）使用比特流来连接，而不使用帧。
A.网络层				B.会话层			C.物理层			D.数据链路层
25．IEEE802对OSI模型的（       ）进行了加强。
A.数据链路层			B.应用层			C.会话层			D.物理层
26．下列设备（      ）只是简单地再生进入的信号。
A.中继器				B.网络卡				C.网桥				D.网关
答案：
1、B		2、B		3、A		4、C		5、B
	6、C		7、C		8、D 		9、C		10、C
	11、B		12、B		13、B		14、B		15、B
	16、D		17、B		18、C		19、C		20、C
	21、B		22、D		23、D		24、C		25、A
	26、A
二、填空题
	1．局域网的数据链路层分为       子层和       子层。
	2．在局域网参考模型中，与传输媒体无关的数据链路子层称为       子层。
	3．以太网和令牌网的主要区别是它们的       子层不同。
	4．在基带CSMA/CD总线网中，为了保证有足够的冲突检测时间，要求站点间数据帧的最大传播时延是信号传播时延    倍以上，而对于单向传播的宽带总线则为   倍以上。
	5．如果以太网的一段电缆长度为500m，信号的传播速度为200m/μs，数据传输速率为10Mb/s，数据帧长度512b，则站点间最大信号传播时延为         μs，最大数据传播时延为      us。
	6．对于总线长度为500m，信号的传播速度为200m/μs，数据传输速率为10Mb/s的基带以太网，为了保证冲突检测的时间，则要求最短的数据帧长度为      b，如果对于数据传输速率为100Mb/s的基带以太网，则要求最短的数据帧长度为     b。而对于10Mb/s的单向传播的宽带总线网，要求的数据帧最短长度为     b。
	7．对于10Mb/s的基带以太网，最大长度为      m，允许   个中继器，允许的最小帧长度为     B，最大帧长度为       B，其中数据字段最大长度为         B。
答案：
	1．逻辑链路控制		媒体访问控制
	2．逻辑链路控制
	3．媒体访问控制
	4．2	4
	5．2.5		51.2
	6．2.5μs		51.2μs
	7．2500		4	64	1518	1500
三、计算题
	1．某基带总线网络，其帧长为64～1518B，欲使总线上的数据传输速率为10Mb/s，已知信号在总线上的传播速度为200m/μs，试求最大允许的总线长度。
	2．某文件长10000B，若采用802.3的MAC帧传送，问至少应分成几帧传送？若改用ATM信元传送，需要几个信元？
	3．某令牌环长度为1km，数据传输速率为16Mb/s，环路上共有200个站点，每个站点的接口产生1比特延迟，已知信号在环上的传播速度为200m/μs，计算环的比特长度。
	4．某10Base-5局域网总线长度为500m，已知信号的传播速度为200m/μs，计算允许的最短数据帧长度。
	5．当数据传输速率为5Mb/s，且传播速度为200m/μs时，令牌环接口中的一个比特时延等价于多少米的电缆？
答案：
	1．5120m
	2．7	209
	3．280b
	4．50b
	5．40m
 

第五章 计算机网络应用技术
【学习目的】
	1．了解计算机网络的互连设备；
2．熟悉国际互联网Internet的概念及网络服务；
3．掌握Windows NT的基本功能和校园网的构建	；
【重点综述】
5．1    Windows NT网
5．1．1 Windows NT简介
	Windows NT是Windows桌面图形用户接口和LAN Manager的汇集，前者是基于DOS操作系统，后者是基于OS/20 Windows NT具有完整的网络操作系统的功能，而不依赖于任何执行的操作系统。
Windows NT Workstation能单独用作一个桌面操作系统，成为点对点的工作组环境中的一员或成为Windows NT服务器域中的一台工作站。
Windows NT Server被优化成为一个文件、打印机和应用程序服务器，同时又能处理从小型的工作组到企业网络范围内的各种事务。 Windows NT Sewer通过一些全新的服务器应用程序和工具来实现其功能。它的客户机/服务器平台在设计时就考虑到现有和将来的技术集成，并能通过较好的信息访问来提供竞争中的优越性。
在Windows NT操作系统中集成了网络功能。基于Windows NT的计算机能使用不同的协议和网卡跨网络进行通信。由于有内置的、集成的网络功能，仅有一台Windows NT计算机就能同时在Microsoft网络、TCP/IP系统、远程访问系统、基于Apple talk的网络、Novell NetWear3.x和4.x网络等网络环境中互操作。
5．1．2 Windows NT体系结构与网络模型
	1、Windows NT体系结构
	Windows NT的网络结构包括：I/O管理器组件，NDIS兼容的网卡驱动程序，NDIS4.0传输协议，传输驱动程序接口(TDI)，文件系统驱动程序。
	2、Windows NT网络基本模型
(1)	工作组模型。
(2) 域模型。
5．2    网络互连
5．1．1网络互连的概念
	在异构网络之间实现通用服务的方案称为网络互连。
5．1．2网络互连的要求和结构方案
1、网络互连有如下要求：
(1) 在网络之间提供一条链路，至少需要一条物理和链路控制的链路。
(2) 在不同网络的进程间提供路径选择和传递数据。
(3) 提供各用户使用网络的记录和保持状态信息。
(4) 在提供上述服务时，不需修改原有各网络的网络结构，这就需要网络互连功能协调各个网络的不同特性。
这些特性包括：
① 不同的寻址方案；
② 不同的路由选择方法；
③ 不同的连接方式；
④ 不同的服务支持策略；
⑤ 不同的最大分组长度；
⑥ 不同的超时控制；
⑦ 不同的差错恢复方法；
⑧ 不同的状态报告方式；
⑨ 不同的网络管理和控制方法等。
2、网络互连的结构方案
网络互连的功能可以分为两类：基本功能和扩展功能。
?	基本功能指网络互连必须的功能，即使对那些类型相同的网络互连也应该具备的功
能，它包括不同网络间传送信息时的寻址和路径选择等。
?	扩展功能指当各种互连的网络提供不同的服务级别时所需的功能，包括协议的转
换、分组的分端、组合和重定序以及差错检测等。
根据网络互连接口的特性是DCE还是DTZ,以及传送服务是端到端还是网络对网络，可以把互联网络结构方案分成四种：
 
5.2.2  网络互连设备
1．中继器
中继器又叫转发器是两个网络在物理层上的连接，用于连接具有相同物理层协议的局域网，是局域网互连的最简单的设备。集线器(HUB)就是一种特殊的中继器，它作为多个网络电缆段的中间转换设备将各个网段连接起来。集线器一般可分为无源集线器、有源集线器和智能集线器。
    中继器的任务就是接收一端电缆上的信号，放大并重新生成该信号，然后发到另一端  电缆上去，此外它再不执行任何操作。
中继器主要优点是安装简单，使用方便，价格相对低廉，不仅起到扩展网络距离的作用，还能将不同传输介质的网络连接在一起。但中继器不能提供网段间的隔离功能，通过中继器连接在一起的网络实质上是逻辑上的同一网络。
2．网桥
网桥(Bridge)是一种存储转发设备,主要用来连接类型相似的局域网络。从互连网络的结构看，桥是属于DCE级的端到端的连接；从协议层次看，桥是在逻辑链路层将数据帧进行存储转发。
网桥的基本功能有：
(1) 它能从源网络接收信息帧，并以目的网络介质访问控制协议向目的网络发送；
(2) 网桥对所接收的信息帧不做任何修改,或只做少量的包装；
(3) 网桥可以采用另外一种协议来转发信息，采用这种方法时必须把原协议的信息作为另外一种协议的数据部分被装配在帧中；
(4) 网桥应有足够大的缓冲空间,以满足高峰期的要求，在短时间内,帧的到达速度有可能高于重新传送的速度；
(5) 网桥必须具有寻址和路径选择能力，至少网桥必须知道每个网络上有哪些站点及地址码，以确定帧的传输方向。
网桥的基本操作过程可简述如下：
假设一802.3(CSMA/CD)局域网上的主机A与802.5(Token Ring)局域网上的主机B通信，两个局域网通过网桥互连，如图5-1所示。
 
图5-1 两个局域网通过网桥互连
王机A的高层盲先将用户数据包PKT传给LLC子层，LLC子层加上分组头后送给MAC子层，MAC子层又加上帧头，再传给物理层并通过传送介质送到网桥的MAC子层，在网桥内部的802.3一侧，MAC子层首先剥掉802.3帧头送到它的LLC子层，然后送给网桥的802.5一侧，加上802.5的帧头，传送给主机B，在主机B重复主机A的逆过程。
但是，转换不同局域网的桥存在一些普遍的问题：
(1) 不同的局域网有不同的帧格式，因此在连接不同的局域网时，需要对帧重新格式化，这就需要CPU的开销和新的差错校验处理。
(2) 互连的局域网通常数据速率不相同，每个标准规定了不同的速率：
如	IEEE802.3                  	l~10~100Mbit/s；
IEEE802.4					1~10Mbit/s；
IEEE802.5					1~4~16Mbit/s；
因此，速率不匹配的问题，需要桥有足够的缓冲器存放一些帧。
(3) IEEE802局域网设有不同的最大帧长。如IEEE802.3的最大帧长为1518字节(含帧头，帧尾)；IEEE802.4的最大帧长为8191字节(含帧头，帧尾)；IEEE802.5的最大帧长无上限。在网间互连时，如果帧太长，超过了规定的范围，就只能简单地除去。
除了以上三个普遍问题外，对于IEEE802.3，IEEE802.4，IEEE802.5三种不同类型的局域网的互连有9种组合，对各种组合的桥都存在不同的问题。
桥必须具有路径选择的功能，当接收到帧后，要决定正确的路径，将该帧转送到相应的目的局域网站点。根据路径选择算法的不同，可将局域网的桥分成两种：透明桥(Transparent Bridges)和源路径选择桥(Source Routing Bridges)。
(1) 透明桥
透明桥选用一种称做向后学习的扩散式路径选择算法，向后学习只依赖于本地的信息，这种算法具有隔离和自适应性质。
	桥的路径选择算法根据每个站在互连网络中独有的地址决定，每个桥有独立的结构，且保持自己的路径选择表。当桥要转发一幅帧时，要查找路径选择表的目的地址，如查到，则按指定的通道将该帧向前发送，否则，按扩散法将帧送至所有的通道，除了接收该帧的输入通道例外。
透明桥的主要优点是易于安装，只须简单地接入互连的局域网。它的缺点是不能最优地利用系统的频宽，只能用于分支拓扑结构的互联网络。IEEE802委员中IEEE802.3和IEEE802.4的小组选用透明桥的方案，而IEEE802.5小组选择了另一种路径选择算法的桥，称为源路径选择桥。
(2) 源路径选择桥
源路径选择桥算法是假定每个发送站知道所发送的帧是送往本地局域网还是送给别的局域网。当送往不同的局域网时，则将目的地址的高位设置为1，且在帧格式的头内包括了该帧传递的确切途径。因此，网络内部的每个机器知道到每个其他局域网的确切路径，如何能发现这些路径就成为这种算法的重要组成部分。
算法的基本思想是如果不知道目的局域网，则源站发送一幅广播帧，询问该目的帧接在哪一个局域网上。每个桥接收被广播的帧，并转发至每个局域网。当目的站收到该广播帧后，发一回答响应给发送站，发送站记录它的标识，并获得确切的路径信息。这种算法能寻找最佳路径，但是存在着帧爆发(广播风暴)的现象。
3．X.75协议
CCITT X.75标准是对X.25建议的补充，其目的是为X.25公共数据网互连而制定的一个网际标准协议。图5-2给出了网络1的主机A和网络2主机B之间建立网际虚电路连接示意图。
 
图5-2 经过X.75的X.25网互连
图中的STE为信号传输终端设备，又称半信关G，是连接两个X.25网络的DCE级的网间连接器。当在不同的公共数据网PDN上的主机欲进行信息交换时，若经判断主机不在网内，就选择本网适当的STE，此STE再选择适当网络的STE，直至找到目标主机为止，从而建立了一条从源主机到目标主机的网际虚电路。
X.25规定了DTE和DCE之间的接口标准，包含低3层协议，X.75规定了半信关STE之间的接口标准，X.75将一些虚电路串接起来，提供了一条两端主机DTE-DTE的虚电路，其中包括从DCE到STE，或从STE到DCE的网内虚电路(如图中的VC1和VC3)，以及从STE到STE的网间虚电路，如图中的VC2。
从两端DTE来看，图5-2的互连网络只是扩展了的X.25公共数据网，而X.75是看不见的。DTE到DCE接口仍由X.25定义，PDN网内协议未统一，网间STE-STE接口由X.75定义。DTE至DTE之间的虚电路由DCE-STE、STE-STE、STE-DCE3部分虚电路组成，每一段都为虚电路实体，有独立的流控制和差错控制。
在网间虚电路上，传送分组的操作过程是：源DTE向DCE发送一个X.25数据分组，其中带有与目的DTE连接相关的虚电路号。数据分组通过一个网络传送到某个STE，STE利用和X.25相同的数据分组格式，根据STE-STE虚电路，修改进入时的虚电路号和流量控制信息后，再传送给另一个STE；另一个STE收到分组后，再在网内传送。如果主机在该网络内，STE就交给DCE后再交给主机。如果主机不在网内，则再传送给STE，以便转到下一个网。
对以上操作过程，STE不做任何封装，只是重复使用第3层分组头格式，X.75不是端-端协议，如同在单个X.25网络内一样，所有信息只有本地意义。
4．网间协议lP
IP操作，即是在不同网络上的两个主机之间发送数据报的操作序列，主机上的IP模块构成一个带有全局域网络地址的数据报。IP模块在IP数据报上加一个头，然后将数据报送到网间连接器。网间连接器将分组拆开，恢复为原始数据报，分析IP的头以决定该数据报包含的是控制信息还是数据，假如是数据，网间连接器必须作路径选择的判断。在发送数据前，网间连接器需要将数据分段，每个段成为独立的IP数据报，然后它们排成队列以便发送。目的主机将相应的头除去，恢复成IP数据报，将它们缓存起来，然后重新组装成原始的数据，最后传送至更高层的协议处理，由更高层协议负责数据报流的排序、端到端的差错控制和流控。
从上述IP操作中，可以看出IP层主要解决3个问题：
?	寻址
?	路径选择。
?	分段和重新组装。
IP协议的规范分三部分：和较高层的接口，规定IP提供的服务，IP的较高层是DOD的TCP协议和NBS的PS协议；IP的协议，规定主机和网间连接器，网间连接器和网间连接器之间的交互租用；和较底层的接口，规定IP需要的服务。
	图5-3是IP的协议数据单元格式，即IP数据报。
			 0       3 4        7 8             15 16               31比特
版本号	报文长度	服务级别	数据区长度
标识	标记	分段偏移
生存期	用户协议	报头校验和
源地址
目的地址
任选项	填充
数据区
图5-3  IP协议数据单元格式

目前IP的协议版本号是4，因此IP有时也称作Ipv4。报头（首部）长度指的是首部占32bit字的数目，包括任选项，由于它是一个4比特字段，因此首部最长为60个字节，通常为20字节。服务级别，或称服务类型(TOS)字段为8比特。包括一个3bit的优先权子字段(现在已被忽略)，4bit的TOS子字段和1bit未用位但必须置0。4bit的TOS分别代表：最小时延、最大吞吐量、最高可靠性和最小费用。总长度字段是指整个IP数据报的长度，以字节为单位。利用首部长度字段和总长度字段，就可以知道I P数据报中数据内容的起始位置和长度。TTL(time-to-live)生存时间字段设置了数据报可以经过的最多路由器数，它指定了数据报的生存时间(寿命)。首部检验和字段是根据IP首部计算的检验和码，它不对首部后面的数据进行计算。另外，每一份IP数据报都包含32位的源IP地址和目的IP地址。最后一个字段是任选项，是数据报中的一个可变长的可选子段，规定了附加的服务。
4．协议转换
协议转换器是用来连接具有不同协议的网络，是网络对网络DTE级结构。它工作在OSI模型的传输层或更高层，主要用于不同体系结构的网络或局域网与中大型主机的连接，在所有互连设备中，它最为复杂，一般只能进行一对一的转换，或者是少数几种特定应用协议的转换。
5．lEEE802互联网规范
IEEE802局部网标准委员会有一个高层接口(HILL)分委员会，制定了一个局网互连的规范文件。
从协议的结构来考虑，OSI 7层模式中，最低两层的协议是与使用的具体网络技术有关，而最高三层的协议是独立于执行的网络。只有中间两层，即网络层和传送层协议需要完成网络互连功能。可以将网络层成两个子层:全局的网络子层和通信服务子层。
?	全局域网络子(GNS)层包括网络和主机的寻址,使网间连接器能完成路径选择。
?	通信服务子层(CSS)包括各个网络内的传统的第三层功能。
局部网络互连的4个可能方案：
?	单个局部网络的连接
在单个局部网络的连接中，因为网间连接器和分组交换开关不在数据通路中，只需通信服务子层和全局域网络子层提供最少的功能。
?	两个局部网络互连，即LAN-LAN
两个局部网络互连时，两个主机连接在不同的局部网络，用网间连接器连接这两个局部网。在这种连接中，由于局部网络链路层提供了节点到节点的通信服务功能，只需要很少的通信服务子层功能。全局域网络子层需要执行端到端的网络路径选择功能。
?	局部网络和远程网络互连,即LAN -WAN
在局部网络和远程网络互连时，通过网间连接器相连，在局部网络侧的通信服务子层只需最少的功能，而在远程网侧需要全部的协议功能以执行分组交换。
?	局部网络通过远程网络和局部网络相连,即LAN-WAN-LAN。
两个局部网通过远程网互连时，局部网侧的通信服务子层只需最少的功能，而远程网侧需要全部三层协议功能。
5．3    国际互联网Internet
5．1．1 Internet基本概念
	Internet是全球最大的、开放的、由众多网络互连而成的计算机互连网。它是一种开放的网络互连。
5．1．2 Internet的体系结构
	TCP/IP网络的特点在于网际互连功能。其协议层次结构，如图5-4所示。
	最底层是物理的传输管道(Pipes)，与OSI的七层协议结构中第二层相对应的网络接口层是TCP/IP协议中的实现基础。可以建立在任何的传输网络之上，局域网包括以太网(Ethernet)、IEEE802.3(CSMA/CD)、IEEE802.4(Token Bus)、IEEE802.5(Token Ring)；广域网包括X.25网、FRN、ISDN网、ATM网、SDH网、无线网、卫星网，乃至移动网；城域网如FDDI、SMDS等。
	TCP/IP协议是实现互连网络连接性和互操作性的关键(Glue)。TCP/IP协议第三层网络层中，IP为互连网络协议，ICMP为互连网络控制报文协议，ARP地址转换协议、RARP为反向地址协议。第四层为传输层含传输控制协议(TCP)、用户数据报协议(UDP)、网络语音协议(NVP)。
 
图5-4 TCP/IP协议层次结构
在高层应用层，TCP/IP协议为Internet用户提供了各种各样的服务工具：文件传输(FTP)、虚拟终端协议(Telnet，也称远程登录)、电子邮件协议(SMTP)等。而作为整个网络管理，Internet制订了简单网络管理协议(SNMP)。
应当指出：数据链路层不是TCP/IP的一部分，但它是TCP/IP赖以存在的各种通信网络和TCP/IP之间的接口，TCP/IP协议本身是独立于各种物理链路的。
5．1．2 lnternet地扯和域名系统
1.IP地址的格式
从概念上说，IP地址的层次结构具有两个重要特性：
?	每台主机分配了一个唯一的地址。
?	网络标识号的分配必须全球统一，但主机标识号可由本地分配，不需全球一致。
IP地址有不同的版本：IPv4、IPv6。现以当前因特网使用的IPv4(第4版本)为例说明IP编址，因特网(IP网)为每台主机分配一个唯一的4字节(32比特)IP地址。为了便于管理，把这32位地址按分级地址空间的树形表示法分为两个部分：网络号和主机号(net-id，host-id)。主机号为全0的网络地址定义为网络号，它标识因特网上的唯一网络。
4字节的IP地址，采用"点分十进制"的方法来表示，例如，202.119.224.93。每一个十进制数表示4个字节中的一个，排列次序从左到右。由于每个字节为8比特，所以每个十进制数只允许在0~255范围内。
根据因特网上的网络规模，IP地址可分为A类、B类、C类、D类和E类，其格式如图5-5所示。
 
图5-5 因特网IP地址分类
下面我们具体说明其分类特征。IP地址的最左侧字节的8比特的高位是用来区分网络的类型。
(1) A类网：网络号为1字节，定义最高比特为0为A类网识别符，余下7比特为网络号，主机号则可有24比特编址。可见A类网支持大型网络，可用网络号为126个，每个A类网可含224=16777216个主机号。比如，IP地址为15.1.2.25，是A类网，其网络号为15，主机号为1.2.25。
(2) B类网：网络号为2字节，定义最高二比特为10为B类网识别符，余下14比特为网络号，主机号则可有16比特编址。B类网是中型网络，可用网络号为16382个，每个B类网可含216=65536个主机号。
(3) C类网：网络号为3字节，定义最高三比特为110为C类网识别符，余下21比特为网络号，主机号仅有8比特编址。C类网是小型网络，可用网络号为2097150个，每个C类网可含28=256个主机号，可用主机号为254个。
(4) D类网：不分网络号和主机号，定义最高四比特为1110为D类网址识别符，表示一个多播地址，即多目的地传输，可用来识别一组主机。
如何识别任一IP地址的属性？只须从点分法的最左一个十进制数，就可判断其归属。例如，1~126属A类网址，128~191属B类网址，192~223属C类网址，224~239属D类网址。除了以上四类网址外，还有E类地址，暂未使用。
对于因特网IP地址中有特定的专用地址，不作分配：
(1) 主机地址全为"0"
不论哪类网络，主机地址全为"0"表示指向本网，常用在路由表中。例如，18.0.0.0表示其网络号为18。
(2) 主机地址全为"1"
主机地址全为"1"表示广播地址，向特定的所在网上所有主机发送数据报。例如，IP地址为202.119.224.225，是要求指向202.119.224网上的所有主机转发数据报。
(3) 4字节32比特全为"1"
若IP地址4字节32比特全为"1"，表示仅在本网内进行广播发送。
(4) 网络号127
TCP/IP协议规定网络号127不可用于任何网络。其中有一个特别地址：127.0.0.1称之为回送地址(loopback)，它将信息通过自身的接口发送后返回，可用来测试端口状态。
所有IP地址是由网络信息中心(NIC：Network Information Center )管理和分配，本地网的管理员则管理本地网上主机地址的分配和子网划分，提供本域的域名服务。
Internet上的每台计算机、每个用户都有一个唯一的地址加以确定，以区别在Internet上几百万台计算机。使用IP地址能唯一确定Internet上每台计算机、每个用户的位置。在Internet上发送的每个数据包都包含了一个32位的发送方地址和一个32位的接收方地址。
2.域名与域名系统
因特网有了IP地址，为什么还要有域名，域名是什么？众所周知，一连串的电话号码数字不好记，而具体的单位名称或姓名就容易记。同样，用点分十进制的方法表示一个IP地址也不好记，但计算机操作系统中的文件目录系统比较易记，因此，设计用名字来代替点分十进制的数字，而这个名字把它分成一层一层的域。表5-1列出了因特网域名系统与电话网的号簿系统概念性对照。
表5-1 因特网域名系统与电话网的号簿系统概念性对照
 
(1) 域名结构
在解释域名结构之前，先了解域名系统。所谓域名系统是指TCP/IP专门设计了一个字符型的主机名字系统。主机名字实质上是一种比IP地址更高级(抽象)的地址表示形式。
域名系统主要包括：划分名字空间，管理名字以及名字与IP地址对应。如何命名，将涉及整个网络系统的工作效率。TCP/IP参照国际编址方案，采用层次型命名的方法。域名结构使整个名字空间是一个规则的树形结构，如图5-6所示。其优点是将结构加入到名字的命名中间。将名字分成若干部分，每个部分只管理自己的内容。而这个部分又再分成若干部分，这样一层一层分开，每一个节点都有一个相应的名字(标识)。这样一来，一台主机的名字就是从树叶到树根路径上各个节点标识的一个序列。如：www.njupt.ed11.cn就是一个主机名字。
域名系统(DNS：Domain Name System )是一个命名的系统，它按命名规则产生的名字管理和名字与IP地址的对应方法。很明显，只需同一层不重名，主机名是不会重名的。实际上，因特网这样的互联网结构本身就是一种树型层次结构，所以域名的这种命名方式正好与其对应，如图5-6所示。
 
图5-6  因特网的域名结构
(2) 域
按照域名的结构，域名系统包含了两个部分：一是名字的命名方法与管理方法；二是名字与IP地址对应的算法。什么是域？下面举例予以说明。比如，www.njupt.edu.cn是一个主机名。而域名的写法规则与IP地址的类似，同样用点号"."将各级域分开，但域的层次顺序应自右向左，即右侧的域为高。
在上例中www.njupt.edu.cn含4个标号，即www，njupt，edu，cn。有三级域：
第一级域cn
第二级域edu.cn
最低级域njupt.edu.cn
所谓"域"指的是这个域名中的每一个标号右面的标号和点。这个例子中也可以认为"edu.cn是cn的子域，时njupt.edu.cn又是edu.en的子域。
(3) 域名
TCP/IP并未规定域的层次数，它可以有二层、三层或多层。因此，在域名系统中，并不能从域名上明显看出是主机名还是一个域名。但在使用中，我们能分别出来，因为每个域有其含义。
为了保证在全球的域名统一性，因特网规定第一级域名如下(这里不区分大小写)：
net（网络组织）、edu（教育部门）、gov（政府部门）、mil（军事部门）、com（商业组织手）、
0rg（非政府组织）、int	（国际组织）。
新近又公布一批专用域名如下：
STORE（专供商品交易的部门）、INFO（专供资讯服务部门）、NOM	（专供个人网址）、FIRM（专供公司或商店）、WEB（专供WWW）、ARTS（专供文化团体）、REC（专供娱乐或休闲者）。
采用二字符的国家代码定为国家名称，如cn(中国)、hk(香港)、jp(日本)等等，由于因特网起源于美国，所以省缺国家代码的第一级域均指美国。
上例www.njupt.edu.cn的第一级域表示这是中国，第二级域表示这是中国教育部门，第三级域表示是中国教育部门下属的学校，www是该校园网中的一台服务器或主机，这种被组织来划分的域与地理位置无关，称为组织型域名。当然，还可以按地理位置划分域，称之为地理型域名，比如:nj.Js.cn(中国江苏南京)。也可以将两者组合起来，如:njupt.ed11.cn(中国教育机构南京邮电学院)。
Internet对每台计算机的命名方案称域名系统DNS。语法上，每台计算机的域名由一系列字母和数字构成的段组成。域名是有层次的，域名中最末一部分通常都表示国家，最左边的部分代表该台计算机的名字。域名和IP地址是一一对应的，域名易于记忆，用得更普遍。网络会自动转换成IP地址，找到该台计算机。域名系统规定了最高域的值，称DNS的顶层。
5.4   校园网
5.4.1 校园网概述
    自CERNET开通运行以来，各高等院校都相继规划建设自己的校园网，一般而言，校园网的功能如下：
    1.实现校内办公自动化，提高管理水平
2.提供信息服务
    3.为教师及科研人员提供良好的科研环境
    4.为学生提供良好的学习环境。    
5.4.2  校园网规划原则
    1.开放性、可扩充性原则
    2.长远规划、分步实施的原则    
    3.实用性原则    
    4.安全可靠性原则
5.4.3  校园网的基本特点与基本构架
    1.基层网段    
    2.部门级网络    
    3.核心主干网   
3.	校园网的对外互连 
思考题答案
	1．Windows NT有哪些特点？
	答：Windows NT的特点如下：
(1) 真正的"抢先式"多任务。每个任务都分得一个优先级，优先级高的任务强占CPU运行，然后其优先级降低。
(2) 支持多平台。服务器端Windows NT Server 4.O可以在很多硬件平台上运行，工作站端支持多种操作系统，如：MSDOS，Macintosh，OS/2，UNIX等。
(3) Windows 95用户界面。在桌面和服务器上提供一致的用户界面外观。
(4) Internet信息服务器(IIS)。IIS与Windows NT Server 4.O的集成意味着Web服务器的安装与管理成为操作系统的一部分。
(5) Windows NT目录服务。是一个提供单一网络登录和单一管理点的目录数据库。
(6)	管理向导。一个通用服务器管理工具集，例如"域用户管理器"和"服务器管理器"，引导读者如何增加用户，创建并管理用户组，管理网络客户的文件及文件夹访问等。
(7) 对Macintosh客户的支持。为Macintosh客户提供文件及打印共享服务。
(8) 网络服务。提供网络服务技术支持，包括Microsoft域名系统(DNS)、Microsoft动态主机配置协议(DHCP)及Windows Internet名称服务(WINS)。
(9) 服务器性能。Windows NT Server 4.O是对文件、打印及应用服务器性能的优化。Windows NT Server的现有的版本在对称多处理器环境中已提供了对4个处理器的支持？原始设备制造商(OEM)已实现了在对称多处理器环境中对高达32个处理器的支持。
(10) 256个内部会话(inbound sessions)。Windows NT Server 4.0提供对256个内部会话的支持。
(11) 容错性。为保护数据支持基于软件的廉价磁盘吟阵列(RAID)叫术。
2．简述安装Windows NT的过程。
答：在Windows 95环境下对服务器的安装操作步骤如下(中文版光盘为例):
1)执行光盘上的命令＼i386＼wiINIt.exe/b,复制安装程序与系统程序到硬盘。然
后重新启动计算机。
2)计算机启动后,Windows NT S￠rver利用NTDETECT-COM程序进行设备检测与设
置。主要包括安装程序自动检测大容量存储设备,设置其他硬件设备的参数,设置硬盘分区和选择文件系统,确定安装的子目录等,待复制完所需的文件后重新启动计算机。
3)重新启动后,安装程序所做的工作主要有三大部分内容。第一是收集和确认有关
计算机的信息,第二是安装Windows NT网络服务,第三是完成Windows NT的设置。
3．NTFS卷的目录和文件的权限有哪些？
答：NTFS卷的目录或文件权限的类型有：
1）读(R)：允许查看文件名、子目录名或文件数据
2）写(W)：允许修改子目录或文件
3）可执行(X)：允许执行目录下的程序文件或程序文件
4）删除(D)：允许删除文件
5）更改权限(P)：允许更改目录或文件的权限
6）获得所有权(O)：允许获得目录或文件的所有权
4．什么是网络互连、互联、互通、互操作？
答：1）．互连（Interconnection）是指网络在物理上的连接，两个网络之间至少有一条在物理上连接的线路，它为两个网络的数据交换提供了物资基础和可能性，但并不能保证两个网络一定能够进行数据交换，这要取决于两个网络的通信协议是不是相互兼容。
    	2）．互联(internetworking)是指网络在物理和逻辑上，尤其是逻辑上的连接。
    3）．互通（intercommunication）是指两个网络之间可以交换数据。例如，在Internet中，TCP／IP协议屏蔽了物理网络的差异性，它能保证互连的不同网络中的计算机之间交换数据。因此，互通仅仅涉及通信的两台计算机之间的端到端连接与数据交换，它为不同计算机系统之间的互操作提供了条件。
4）．互操作（interoperability）是指网络中不同计算机系统之间具有透明地访问对
方资源的能力。因此，互操作性是有高层软件来实现的。例如，Internet的两个互连网络中各有一台Sun工作站与一台VAX小型机，它们之间可以通过TCP/IP协议实现互通，但如不解决两个操作系统的差异性问题，它们也无法透明地互相访问对方资源。要做到这一点，就需要使用应用网关。
5．常用的网络互连设备有哪些？它们分别适用于OSI协议层次模型的哪一层，各起什么
作用？
答：1）中继器又叫转发器是两个网络在物理层上的连接，用于连接具有相同物理层协
议的局域网，是局域网互连的最简单的设备。中继器的任务就是接收一端电缆上的信号，放大并重新生成该信号，然后发到另一端  电缆上去，此外它再不执行任何操作。
		2）网桥是在数据链路层上连接两个网络，即网络的数据链路层不同而网络层相同时要用网桥连接。网桥的基本功能有：网桥对所接受的信息帧只作少量的包装，而不作任何修改； 网桥可以采用另外一种协议来转发信息；网桥有足够大的缓冲空间，以满足高峰期的要求； 网桥必须具有寻址和路径选择的能力。
		3）路由器是网络层上的连接，即不同网络与网络之间的连接。路由器的主要工作是接收来自一端的报文分组，根据目的地址和当时的网络情况，找出正确的路径，发往另一个通信子网。路径的选择就是路由器的主要任务。
		4）网关为互连网络双方高层的每一端提供一种协议转换服务，能在高层协议不同的情况下提供协议转换能力。
6．试述用户接入Internet的三种基本方法的区别。
答：用户接入Internet的三种基本方法是：
1） 电话拨号仿真终端（即通过联机服务系统）接入Internet的方式；是一种间接连接模式，最大的优点是简单。
    2） SLIP／PPP接入Internet的方式；是与Internet间接连接，用户的IP地址分配有固定和动态两种。
3） 专线连接（即网络）接入Internet的方式；是与Internet直接连接的模式，费用比较贵。
7．校园网的规划原则是什么？它应具备哪些基本功能?
答：校园网的规划原则：
1）.开放性、可扩充性原则；2）.长远规划、分步实施的原则；3）.实用性原则；4）.安全可靠性原则；
它应具备的基本功能：
1）.实现校内办公自动化，提高管理水平；2）.提供信息服务；3）.为教师及科研人员提供良好的科研环境；4）.为学生提供良好的学习环境。  

练习题

一、选择题
1．Windows NT服务器使用（    ）协议来共享文件。
A.TCP/IP 		B .Nwlink IPX 		C .SMB 				D .NFS
2．当透明桥转发一帧时，需在路径选择表中查找该帧的目的地址。如果查找不到，透明桥将（     ）。
A.丢弃该帧
B.在路径选择表中增加一条记录，记载下该帧的目的地址的接收的端口号，并向除接收端口之外的所有端口转发该帧
C.向除了接收端口之外的所有端口转发该帧
D.向所有端口转发该帧
3．IP是一个（      ）协议。
A.面向连接的			B.应用层的		C.无连接的		D .媒体访问控制
4．如果IP层不能转送某个数据报，将会被（        ）
A.重新发送			B .拷贝			C.记载下来			D.丢弃
5．IP协议头中的（      ）字段规定了一个数据报在被丢弃之前所允许的路由中继数。
A.TTL			 	B .Fragment offset 		C .Window 		D .Protocol
6．IP数据报在长度上是（      ）。
A.固定的				B.可变的					C.长的			D.短的
7．IPv4的每个IP地址可以用（         ）划分。
A.LAN和WAN		 						B .TCP和IP
C .网络(network)和主机(host)					D.等级(class)和类型(type)
8．下列（       ）字段不是IP协议头的一部分。
A.源IP地址									B .目的IP地址
C.协议(protocol)								D.源端口(source port)
9．一个IP信息单元可称为（          ）。
A.包(packet)									B.分段(segment)
C .帧(frame)									D.跳(hop)
10．IP协议头中的（        ）字段可用来指定不同IP数据报的优先权和等级。
A.Version 									B.Type of Service(TOS)
C .Time to Live（TTL）						D .Pmtoed
11．一单位共有七个部门都互相联网。一个远方的部门那里的工作站联不上网，之后你发现与其它各个部门的网络连接全部都不通(ping断开)，反映的是（        ）出现了问题。
A.应用层(Application)							B.主机到主机层(Host to Host)
C .IP层										D.网络访问层(Networks Access)
12．一个网络的两个工作站有问题："它们只能轮流工作，每次只有一台可以登录入网"。这个部门的其它工作站都工作正常。反映的是（       ）。
A.IP地址冲突导致							B.MAC地址冲突导致
C.物理网络出现问题							D.以上都有问题
13．有人反映计算机近两周反应较慢。你已将问题缩小到细缆网络的同轴电缆噪音。这是关于TCP/IP模型（       ）层的问题。
A.应用层Application  							B.主机到主机层(Host to Host)
C .IP层										D.网络访问层(Networks Access)
14．对于OSI参考模型和TCP/IP模型，分组分别在（      ）被加入硬件地址和循环冗余校验码而成为帧。
A.OSI是在数据链路层，而TCP/IP模型中是在Network Access
B.OSI是在传输层，而TCP/IP模型中是在Network Access
C .OSI是在网络层，而TCP/IP模型中是在IP层
D .OSI是在数据链路层，而TCP/IP模型中是在应用层
15．（     ）是TCP/IP模型传输层中的无连接协议。
A.TCP协议			B .UDP协议			C .RARP协议		D .ICMP协议
16．关于TCP协议和UDP协议的区别，下列（    ）说法是正确的。
A.UDP是比TCP跟高级别的协议，比TCP更为可靠的
B .UDP是TCP的简化的版本
C .TCP在发送分组时是按序进行的，而UDP是不管分组的顺序的
D.目前UDP的传输的开销要比TCP大
17．TCP/IP协议中（     ）协议用来进行分段，在（      ）信息被分段编号。
A.IP协议  IP层							B.TCP协议 Host层
C.IP协议  IP层							D .Ethemet  网络访问层
18．在Internet上用TCP/IP播放视频，想用OSI模型Transport层的最快协议，以保证没有延迟。要使用（     ）。
A.要用UDP协议的低开销特性				B.要用TCP协议的高开销特性
C.要用UDP协议的高开销特性				D.要用TCP协议的低开销特性
19．若你的工作站不带磁盘，无法上网登录主机，你注意到启动时把硬件地址送到主机，但主机拒绝它们，这是（      ）协议没有工作。
A.RARP协议			B .ARP协议			C .BootP协议			D .IP协议
20．你需要安装网络管理软件以便跟踪网络的故障和基本情况，适应未来发展的需要。该协议工作在TCP/IP模型的（      ）。
A.应用层				B .传输层			C.IP层				D.网络访问层
21．Ping测试程序使用的是（     ）协议。
A.TCP 				B .ARP				C .UDP 				D .ICMP
22．下列（      ）协议和（     ）协议是属于同一层的。
A.SMTP和DNS 						B .TCP和ICMP 
C.TELNET和TCP 					D .ARP和UDP
23．关于IPv4地址的说法（       ）是错误的。
A.IP地址是由两部分组成的：网络地址和主机地址
B.网络中的每台主机分配了唯一的IP地址
C .IP地址只有三类:A,B,C
D .随着网络主机的增多，IP地址资源将要耗尽
24．A类IP地址共有（     ）个网络。
A.126			B .128			C .16384			D .127
25．每个B类网络有（    ）个网络节点。
A.254			B .65535			C .65534			D .16384
26．IP地址127.0.0.1表示（    ）。
A.是一个暂时未用的保留地址				B.是一个属于B类的地址
C.是一个表示本地全部节点的地址			D.是一个表示本节点的地址
27．从IP地址128.200.200.200中我们可以看出（    ）。
A.这是一个A类网络中的主机				B.这是一个B类网络中的主机
C .这是一个C类网络中的主机				D.这是一个保留的地址
28．结点地址全部为1表示（     ）。
A.保留，表示为全1广播
B.保留，表示为本节点
C.保留，表示为本网络的全部节点
D.非保留，表示本节点的一个可分配的IP地址
29．Internet地址解析方式是（    ）。
A.查表法		B.相近形式计算法		C .消息映射法	D.以上全是常用的方法
30．要将一个IP地址为206.17.45.0的网络分解为多个子网。每个子网要25个主机ID并要求尽可能多的子网。指定子网掩码为（     ）。
A.255.255.255.192							B .255.255.255.224 	
C .255.255.255.240							D .255.255.255.248
31．一个A类网络已有60个子网，若还要添加两个新的子网，并且要求每个子网有尽可能多的主机ID。指定子网掩码为（     ）
A.255.240.0.O		B .255.248.0.O	C?.255.252.0.O	D .255.254.0.0
32．TELNET协议提供的功能不包括（   ）。
A.对远程主机的终端服务
B.本地主机作为远程的一个虚拟终端对远程主机进行操作
C.对远程主机的窗口服务
D.远程主机作为远程的一个虚拟终端对本地主机进行操作
33．ARP协议是用来（     ）。
A.寻找目的域名的IP地址					B.将IP地址映射为物理地址
C.将IP地址映射为其所对应的网络名字		D.将映射物理地址到IP地址
34．下列关于域名系统的说法,（       ）是不正确的。
A.域名是分级分层进行的			
B .域名不必与物理的位置相一致
C .域名系统是自治			
D.全球所有的域名都是由处于网络核心的少数几台巨型机器解析的
35．网络端口是指（       ）。
A.与一台计算机的连接点					B.主板上的插槽
C .协议的接口							D.连接于应用的接口
36．在Internet中，WWW服务的TCP标准端口号是（     ）。
A.5O			B .60			C .70			D .80
37．TCP协议基本上可以属于ISO/SIO-RM七层协议中的（      ）。
A.应用层			B.网络层			C .传输层			D.物理层
38．下面的网络传输协议中（     ）通常不运行在Internet中。
A.TCP 			B JPX 			C .ARP 				D .HTTP
39．使用UDP/IP协议的应用程序有（      ）
A.DNS 			B .FTP			C .Netscape Navigator	 	D .Telnet
40．在Internet中的大多数服务(如WWW，ftp等)都采用（     ）模型。
A.主机/终端		B.客户机/服务器	C .网状					D .星型
41．TCP/IP协议的最底层是：（   ）
A.网络访问层			B.物理层			C.链路层			D.网络层
42．TCP/IP协议的最高层等同于OSI协议的
A.5-7层				B.6-7层			C.第七层			D.44层
43．TCP/IP协议的网络层的主要的功能是由（      ）提供的。
A.IP协议			B.TCP协议		C.以太网协议		D.IGP协议
44．下列的说法（      ）是正确的。
A.IP协议除了提供端对端的分组分发功能外,还提供了标示主机和网络的地址功能
B.IP协议主管在两个主机之间建立直接的链路
C.ICMP协议作为TCP协议的附加,来报告网路的故障
D.主机和网络的地址功能是有TCP层主管和识别的
45．从协议层次看，网络互连可以分为（    ）个层次。
A.2				B .3				C .4				D .5

答案：
1、C		2、C		3、C		4、D		5、A
	6、B		7、C		8、D		9、A		10、B
	11、D		12、B		13、D		14、A		15、B
	16、C		17、B		18、A		19、C		20、A
	21、D		22、A		23、C		24、A		25、B
	26、D		27、B		28、C		29、D		30、B
	31、C		32、C		33、B		34、D		35、A
	36、D		37、C		38、B		39、A		40、B
	41、A		42、A		43、A		44、A		45、C

二、填空题

	1、选择发送IP分组的通路的过程被称做           。
	2、为把IP分组传送到一个与主机没有直接连接的网络所做的路由选择被叫做       。
	3、因为IP地址既对一个网络编码，也对那个网络上的一台主机编码，所以它们不是确定单个主机，而是确定        。
	4、IP网关进行的路由选择是基于            ，而不是基于目标主机。
	5、DNS是一个               系统，该系统由域名空间、          和地址转换请求程序三部分组成。通过DNS，任何在域名空间有定义的域名都可以查找到任何有定义的域名。
	6、在Internet中，网页的URL由三部分组成，分别是           、域名或IP地址、路径及文件名。
	7、用户通过拨号方式联入Internet，在用户计算机的数据链路层应该运行        协议，该协议能够获得临时的IP地址，以及完成用户身份认证等功能。
	8、在Internet中目前广泛使用的邮件传输协议是        ，而用户可以通过WWW方式访问自己的邮件服务器，还可以通过          协议将邮件提取到个人计算机。
	9、网络管理应包括5个方面的内容，即       、      、     、     、       。
	10、典型的放火墙由        、         和电路层网关组成。

答案：
	1、路由选择；	2、间接路由选择；	3、对一个网络的一条连接
	4、目标网络；	5、分布式数据库；域名服务器
	6、协议；		7、PPP				8、SMTP，POP3
	9、故障管理，计费管理，配置管理，性能管理，安全管理
	10、包过滤路由器，应用层网关

三、应用题

	1、请为下图中路由器R1写一张路由表[其中应包括可能存在的目的网络地址、地址屏蔽（子网掩码）和下一路由器地址（Next Hop）三项内容，直接网络不必列出]。（注图中x.x.x.x/8表示地址屏蔽字为8位，即对应的屏蔽字为255.0.0.0）
 
	2、某集团公司给其下属的杭州子公司分配了一段210.10.30.0到210.10.30.135IP地址，杭州子公司在杭州地区有7个分公司，这些分公司每个都通过路由器与杭州子公司相相连，同时这些公司希望能够通过内部网访问集团公司的资源。假如你是杭州子公司的网络管理员，你如何给这些公司分配IP地址和子网掩码？
	3、在因特网上的一个B类网络具有子网掩码255.255.240.0，问每个子网中的最大主机数目是多少？
答案：
	1、答：
目的网络	地址掩码	下一路由器
30.0.0.0	255.0.0.0	192.1.1.2
40.0.0.0	255.0.0.0	192.2.1.2
210.0.0.0	255.255.255.0	192.1.1.2
	2、子网掩码为：255.255.255.240
	可用的IP地址段分别为：
	210.10.30   ∽    210.10.30.15
	210.10.16   ∽    210.10.30.31
	210.10.32   ∽    210.10.30.47
	210.10.48   ∽    210.10.30.63
	210.10.65   ∽    210.10.30.79
	210.10.80   ∽    210.10.30.95
	210.10.96   ∽    210.10.30.111
	210.10.112   ∽    210.10.30.127
	210.10.128   ∽    210.10.30.135
	根据具体情况，从以上IP地址段中给杭州公司和7个分公司分配地址段。
	3、对于一个B类网络，高端16位形成网络号，低端16位是子网或主机域。在子网掩码的低端16位中，最高有效4位是1111，因此剩下12位用于主机号。因此，存在4096个主机地址，但由于全0和全1是特别地址，因此最大主机数目是4094。
模拟试卷1
一、单项选择题（本大题共20小题，每小题1分，共20分）
	1．广域网的英文缩写为（）。
		A．LAN			B．WAN			C．ISDN			D．MAN
	2．综合业务数据网络是指（）。
		A．用户可以在自己的计算机上把电子邮件发送到世界各地			
B．在计算机网络中的各计算机之间传送数据
C．将各种办公设备纳入计算机网络中，提供各种信息的传输
D．让网络中的各用户可以共享分散在各地的各种软、硬件资源
	3．网络拥塞是指（）。
		A．网络工作站之间无法通讯
B．在通信线路与主机之间的冲突频繁发生
C．网络传输速度下降
D．由于连入网络的工作站数量增加而吞吐量下降
	4．在计算机网络通信中，属于同步方式的是（）。
		A．收发双方传输专门的时钟脉冲
B．传送字符前加起始位
C．传送字符后加停止位
D．传送字符前加起始位，传送字符后加停止位
	5、DNS是指（）。
		A．域名服务器	B．发信服务器	C．收信服务器	D．邮箱服务器
	6．IP地址由一组（）的二进制数字组成。
		A．8位			B．16位			C．32位			D．64位
	7．主机域名www.hz.zj.cn由四个主域组成，其中（）表示最底层（没有）的域。
		A．www			B．hz			C．zj			D．cn
	8．BSC通信规程是（）。
		A．面向字符的同步协议			B．面向比特的同步协议
C．全双工协议					D．网络层协议
	9．HDLC中用于提供链路的建立、拆除及其他多种控制功能的帧为（）。
		A．信息帧		B．监控帧		C．无编号帧		D．控制帧
	10．有关交换技术的论述，以下哪个是正确的？（）
A．电路交换要求在通信的双方之间建立起一条实际的物理通路，但通信过程中，这条通路可以与别的通信方共享
B．现有的公用数据网都采用报文交换技术
C．报文交换可以满足实时或交互式的通信要求
D．分组交换将一个大报文分割成分组，并以分组为单位进行存储转发，在接收端再将各分组重新装成一个完整的报文
	11．在中继系统中，中继器处于（）。
		A．物理层		B．数据链路层	C．网络层		D．运输层
	12．各种网络在物理层互联时要求（）。
		A．数据传输速率和链路协议都相同
B．数据传输速率相同，链路协议可不同
C．数据传输速率可不同，链路协议相同
D．数据传输速率和链路协议都可不同
	13．在同一个信道上的同一时刻，能够进行双向数据传送的通信方式是（）。
		A．单工			B．全双工		C．半双工		D．以上均不是
	14．EIA RS-232-C的电气指标规定，信号“1”的额定电压值是（）。
		A．+12V			B．-12V			C．+15V			D．-15V ∽ -15V
	15．市话网在数据传输期间，在源节点与目的节点之间有一条利用中间节点构成的物理连接线路。这种市话网采用（）技术。
		A．报文交换		B．电路交换		C．分组交换		D．数据交换
	16．在点到点的数据传输时钟同步中，外同步法是指接收端的同步信号是由（）。
		A．自己产生的
B．信息中提取出来的
C．发送端送来的
D．接收端送来的
	17．当通信中数据出现差错时，发送端无须进行数据重发的差错控制方法为（）。
		A．自动请求重发
B．循环冗余校验
C．前向纠错
D．检错重发
	18．LAN参考模型可分为物理层、（）等三层。
		A．介质访问层和逻辑链路控制层
B．数据链路层和网络层
C．介质访问层和数据链路层
D．物理链路层和逻辑链路层
	19．在网络层中，可以采用有效的办法防止阻塞现象的发生。在阻塞控制方法中，直接对通信子网中分组的数量进行严格、精确的限制，以防止阻塞发生的方法为（）。
		A．缓冲区预分配法
B．分组丢弃法
C．定额控制法
D．存储转发法
	20．计算机集成制造系统CISMS是（）系统。
		A．办公自动化				B．集散
C．柔性自动化				D．刚性自动化
二、填空题（本大题共19小题，每空1分，共20分）
	1．在TC/IP参考模型的运输层上，      协议实现的是不可靠、无连接的数据报服务，而    协议用来在一个不可靠的互联网中为应用程序可靠的端-端字节流服务。
	2．在面向字符的数据链路控制协议中，必须使用一些传输控制字符，比如，表示报文开始的SOH字符；用于确认的      字符；表示否认的NAK字符。
	3．在802.5种，为了解决竞争，使用了一个称为      的特殊标记，只有拥有的站才有权利发送数据。
	4．通信系统中，称调制前的电信号为      信号，调制后的信号为调制或宽带信号。
	5．数据传输有两种同步方法：同步传输和异步传输，其中异步传输采用的是     同步技术。
	6．如果采用256个量化级别，则每个采样点需要    位二进制位来表示。
	7．A、B两个计算机通过串口电缆直接连接，假设A的串口采用DB-25规格，B的串口采用DB-9规格，那么A串口的引脚2应该接B串口的引脚     。
	8．采用HDLC传输比特串011111111000001，采用比特填充后输出为                 。
	9．采用Go-Back-N方法，若发送窗口大小为4，在发送3号帧并收到2号帧的确认帧后，发送方还可以发     帧。
	10．HDLC帧中全“1”地址表示        地址。
	11．光纤分为     光纤和单模光纤，前者传导可见光，后者传导激光。
	12．接收端能从数据信号波形中提取同步信号的同步方法称为       。
	13．当一个会话被中断后，可以在重新建立连接后通过设置      从中断处继续下去。
	14．30B+D的PRI接口提供的最大传输速率为     b/s。
	15．无盘工作站启动后只知道自己的网卡地址，可以通过     协议得到自己的IP地址。
	16．          死锁是一种发生在两个节点之间的死锁，产生的原因是两个节点都因为所有缓冲区装满了等待发往对方的分组而造成死锁。
	17．X.25提供的不需要呼叫建立和拆除过程的虚电路服务称为     服务。
	18．ASN.1编码规则是一种      语法。
	19．目前在Internet中广泛使用的邮件传输协议是       。
三、名词解释（本大题共5小题，每小题4分，共20分）
	1．半双工通信
	2．调制解调器
	3．虚电路
	4．FDDI
	5．ARP
四、计算题（本大题共4小题，每小题5分，共20分）
	1．设信号脉冲周期为0.002s，脉冲信号有效值状态个数为8。请问：
	（1）如果用4进制代码表示上述信号，那么一个脉冲信号需要用几位4进制代码表示？
	（2）用4机制代码表示上述信号，其数据传输速率是多少？
	2．发送方准备发送的信息位为1010101，采用CRC校验算法，生成多项式G(x)=x4+x3+x2+1，求发出的信息位。
	3．假设信号在令牌环上的传播速度为200m/us，每个站点的接口产生1比特延迟，对于长度为10km，数据传输速率为16Mb/s，环路上共有100个站点的令牌环，计算其比特长度。
	4．当采用1200b/s的同步传输时，若每帧含56位同步信息、48位控制位和4096位数据位，那么传输1024个字节需要多少秒？
五、应用题（本大题共4小题，每小题5分，共20分）
	1．简要说明分组交换技术的优点和不足。
	2．海明码的监督关系式为 ：S0=a0+a3+a4+a5，S1=a1+a4+a5+a6，S2=a2+a3+a5+a6，接收到的码字为a6a5a4a3 a2a1a0=1010100，假设最多错一位，求发送端发送的码字。
	3．某基带总线网络，其帧长为64∽1518B，欲使总线上的数据传输速率为10Mb/s，已知信号在总线上的传播速率为200m/us，试求最大允许的总线长度。
	4．简要说明网络中的阻塞及死锁现象，试列举常见的三种阻塞控制方法。具体解释发生于A、B两个节点间的直接存储转发死锁现象。

参考答案

一、	单项选择题
1.B			2.D			3.D			4.A			5.A			6.C
7.A			8.A			9.C			10.D		11.A		12.A
13.B		14.D		15.B		16.C		17.C		18.A
19.C		20.B
二、填空题
	1.UDP、TCP				2.ACK				3.令牌
	4.基带					5.群				6.8
	7．2					8.0111110111000001	9.3
	10.广播					11.多模				12.自同步法
	13.同步点				14。2.048M			15.RARP
	16.直接存储转发			17.永久虚电路		18.传送
	19.SMTP
三、名词解释
	1．答：
（1）通信信道的每一端可以是发送端，也可以是接收端；
	（2）在同一时刻里，信息只能有一个传输方向。
	2．答：
	（1）调制解调器由调制器和解调器组成；
	（2）调制器的功能是将数字数据转换成模拟信号；
	（3）解调器的功能是将模拟信号转换成数字数据；
	3．虚电路是网络层提供的服务。
	虚电路服务在源、目的主机进行通信之前，先建立一条逻辑通路，然后再进行通信。通信结束后将通路拆除。因为这条逻辑通道不是专用的，所以称之为“虚”电路。虚电路提供可靠的服务。
	4．FDDI是光纤分布式数据接口的英文缩写。它是一种高性能的令牌环网络。FDDI采用双环结构。数据传输速率为100Mb/s，覆盖范围可达几公里。
	5．ARP是地址解析协议的英文缩写。它完成IP地址到物理地址的映射。
四、计算题
	1．解：
设一个脉冲信号需要用4进制代码表示的位数为n,则4n≥8，所以，n=2.
	设数据传输速率为S，则
  				S=（1/0.002）? n
				 =1000b/s
	2．解：
	生成多项式G(x)=x4+x3+x2+1,对应的位串为11101，输入的信息位1010101除以生成多项式的余数即为输出的CRC码字。
	发出的信息位应该为10101010110。
	3．解：
	环的比特长度=信号传播时延*数据传输速率+接口延迟位数
				=900b
	4．解：
	传输1024个字节总共需要传输1024*8=8192位，需要8192/4096=2个数据帧，每个数据帧以1200b/s传输需要时间（56+48+4096）/1200=3.5s，因此总共需要3.5s*2=7s。
五、应用题
	1．解：
	优点：（1）节点暂时存储的是一个个分组，而不是整个数据文件；
		 （2）分组暂时保存在节点的内存中，保存了较高的交换速率；
		 （3）动态分配信道，极大地提高了通信线路的利用率。
	缺点：（1）分组在节点转发时因排队而造成一定的延时；
		 （2）分组必须携带一些控制信息而产生额外开销，管理控制比较困难。
	2．解：
		1010101
	3．解：
		5120m
	4．解：
	阻塞现象是指到达通信子网中某一部分的分组数量过多，使得该部分网络来不及处理，以至引起部分乃至整个网络性能下降的现象；严重是甚至会导致网络通信业务陷入停顿，即出现死锁现象。在死锁状态下，网络的有效吞吐量接近于零。
	常见的阻塞控制方法为：缓冲区预分配法、分组丢弃法、定额控制法。
	发生于A、B两个节点间的直接存储转发死锁表现为：A节点的所有缓冲区装满了等待输出到B节点的分组；而B节点的所有缓冲区也全部装满了等待输出到A节点的分组；此时，A节点不能从B节点接收分组，B节点也不能从A节点接收分组，从而造成两节点间的死锁。
    更多免费txt电子书，欢迎您到www.txtsk.com下载  
    声明：本电子书仅供读者预览,请在下载24小时内删除，不得用作商业用途；如果喜欢请购买正版图书！