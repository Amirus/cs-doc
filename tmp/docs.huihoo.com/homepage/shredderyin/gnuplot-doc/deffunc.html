<html><title>Defining your own functions and variables</title>
<body bgcolor=#ffffff><hr>
<h1>Defining your own variables</h1>
GnuPlot allows you to define your own constants and functions. To
define a constant, just use
<ul><li><b> <i>constant_name</i> = <i>expression</i></b></ul>
For example,
<ul><li><b>w = 2<li>  q= sin(w/2)</b></ul>
This could be useful for changing a constant in an expression, for
example,
<ul><li><b>c = 3<li>plot sin(c*x)<li>c=4<li>replot</b></ul>
The replot command would change the graph to reflect the new
constant. Note that you cannot overlay graphs of the same function
using differant values for a constant. The replot command reevaluates
the function, so it will always use the current value of a
variable. For instance, the preceding example would just plot the
graph of <i>sin(4*x)</i>. If you wanted to overlay graphs with two
differant constants, you would need to use two differant constants,
i.e.,
<ul><li><b>c1=3<li>c2=4<li>plot sin(c1*x)<li>replot
sin(c2*x)</b></ul>. This would produce the following graph<p>
<img src="images/deffunc1.gif"><p>
You could then change any of the constants and just replot to see the
effects of changing the constant.
<h1>Defining your own functions</h1>
The syntax for defining your own functions is as follows:
<ul><li><b><i>function-name</i>(<i>parameters</i>) =
<i>expression</i></b></ul>
Here are some simple examples:
<ul><li><b>sinc(x) = sin(pi*x)/(pi*x)
<li>len3d(x,y,z) = sqrt(x*x+y*y+z*z)
<li>myfunc(x,y) = (1+ x**2 + (2/3)*y**2)/(sin(x*45*y)+
exp(-1*(x*y*(-1/3))))
</b></ul>
You can use these functions like any other functions in GnuPlot,
<ul><li><b>plot sinc(x)</li>print len3d(2,3,4)<li>splot
myfunc(x,y)</b></ul>

<h1>Using Condition Statements in Function Definitions</h1>
It is possible to define piece-wise function is GnuPlot. Gnuplot uses
the if statement syntax of C. For instance, you could define your own
absolute value function by the following:
<ul><li><b>myabs(x) = (x > 0) ? x : -x</b></ul>
Gnuplot first evaluates the expression in the parenthesis. If it is
true, it then performs the expressions after the "?" mark. If the
expression in the parenthesis is false, it evalues the expression
after the ":". You can also define more complex piece-wise functions
by nesting the if statements. For example,
<ul><li><b> mypiecewise(x) = (x > 2) ? 2 : ((x < -2) ? -2 : x)
<li> plot mypiecewise(x)</b></ul>
produces the following graph:<p>
<img src="images/deffunc2.gif"><p>
For more examples, see <b>help user-defined</b>
<hr>
<CENTER>
<A href="TOC.html">Table of Contents</a> - <a
href="evaluation.html">Previous - Evaluating Expressions</a> - <A
href="chg_var.html">Next - Changing Variables</a>
<hr>
<B><A HREF="http://www.uni.edu/~cns">College of Natural Sciences</a> / 
<A HREF="http://www.uni.edu">University of Northern Iowa</a> /  
<A HREF="mailto:manager@cns.uni.edu">manager@cns.uni.edu</a></B><P>
<FONT SIZE=-1>Copyright © 1996 College of Natural Sciences.  All Rights Reserved. <BR>
 Last Modified: 11/1/96</FONT>
</CENTER></body></html>